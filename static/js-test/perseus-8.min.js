(function e(t,r){if(typeof exports==="object"&&typeof module==="object")module.exports=r(require("underscore"),require("react"),require("react-dom"),require("classnames"),require("aphrodite"),require("jquery"),require("react-addons-pure-render-mixin"),require("react-addons-css-transition-group"))
else if(typeof define==="function"&&define.amd)define(["underscore","react","react-dom","classnames","aphrodite","jquery","react-addons-pure-render-mixin","react-addons-css-transition-group"],r)
else if(typeof exports==="object")exports["Perseus"]=r(require("underscore"),require("react"),require("react-dom"),require("classnames"),require("aphrodite"),require("jquery"),require("react-addons-pure-render-mixin"),require("react-addons-css-transition-group"))
else t["Perseus"]=r(t["underscore"],t["react"],t["react-dom"],t["classnames"],t["aphrodite"],t["jquery"],t["react-addons-pure-render-mixin"],t["react-addons-css-transition-group"])})(this,function(e,t,r,n,i,a,o,s){return function(e){var t={}
function r(n){if(t[n])return t[n].exports
var i=t[n]={exports:{},id:n,loaded:false}
e[n].call(i.exports,i,i.exports,r)
i.loaded=true
return i.exports}r.m=e
r.c=t
r.p="if you see this then you failed to preload the extra-widgets chunk from perseus. webpack is trying to load it for you"
return r(0)}([function(e,t,r){"use strict"
e.exports=r(1)
e.exports.init({loadExtraWidgets:true,skipMathJax:true})},function(e,t,r){"use strict"
var n=r(26)
var i=r(2)
var a=r(3)
i.registerMany(a)
e.exports={apiVersion:n.apiVersion,itemDataVersion:n.itemDataVersion,init:r(4),ArticleRenderer:r(5),ItemRenderer:r(6),ServerItemRenderer:r(7),HintsRenderer:r(8),Renderer:r(9),MultiRenderer:r(10)}},function(e,t,r){"use strict"
var n=r(11)
var i="block"
var a=["default"]
var o=false
var s=""
var l={}
var p={}
var u={register:function c(e,t,r){l[e]=t
p[e]=r},registerMany:function h(e){var t=this
e.forEach(function(e){var r=e[0],n=e[1]
r&&t.register(r.name,r,n)})
this.validateAlignments()},getWidget:function d(e){if(!n.has(l,e))return null
return l[e].getWidget?l[e].getWidget():l[e].widget},getEditor:function f(e){return n.has(p,e)?p[e]:null},getTransform:function v(e){return n.has(l,e)?l[e].transform||n.identity:null},getVersion:function m(e){var t=l[e]
return t?l[e].version||{major:0,minor:0}:null},getVersionVector:function g(){var e={}
n.each(n.keys(l),function(t){e[t]=u.getVersion(t)})
return e},getPublicWidgets:function y(){return n.pick(l,n.reject(n.keys(l),function(e){return l[e].hidden}))},isAccessible:function b(e){var t=l[e.type].accessible
return"function"===typeof t?t(e.options):!!t},getAllWidgetTypes:function T(){return n.keys(l)},upgradeWidgetInfoToLatestVersion:function x(e){var t=e.type
if(!n.isString(t))throw new Error("widget type must be a string, but was: "+t)
var r=l[t]
if(null==r)return e
var i=e.version||{major:0,minor:0}
var a=r.version||{major:0,minor:0}
if(i.major>a.major||i.major===a.major&&i.minor>a.minor)return e
var s=n.clone(e.options)||{}
var c=r.propUpgrades||{}
if(0!==n.keys(s).length)for(var h=i.major+1;h<=a.major;h++)c[h]?s=c[h](s):"undefined"!==typeof console&&console.warn&&console.warn("No upgrade found for widget `"+t+"` from major version `"+(h-1)+"` to major version `"+h+"` found. This is necessary to render this `"+t+"` correctly.")
var d=p[t].defaultProps
s=n.extend({},d,s)
var f=e.alignment
null!=f&&"default"!==f||(f=u.getSupportedAlignments(t)[0])
var v=e["static"]
null==v&&(v=o)
return n.extend({},e,{version:a,graded:null!=e.graded?e.graded:true,alignment:f,"static":v,options:s})},getRendererPropsForWidgetInfo:function P(e,t){var r=e.type
var i=l[r]
if(null==i)return e.options
var a
a=e["static"]?this.getStaticTransform(r)||n.identity:i.transform||n.identity
return a(e.options,t)},traverseChildWidgets:function E(e,t){if(!t)throw new Error("traverseRenderer must be provided, but was not")
if(!e||!e.type||!l[e.type])return e
var r=l[e.type]
var i=e.options
if(r.traverseChildWidgets&&i){var a=r.traverseChildWidgets(i,t)
return n.extend({},e,{options:a})}return e},getSupportedAlignments:function w(e){var t=l[e]
return t&&t.supportedAlignments||a},getDefaultAlignment:function k(e){var t=l[e]
var r
if(!t)return i
r=t.getDefaultAlignment?t.getDefaultAlignment():t.defaultAlignment
return r||i},validAlignments:["block","inline-block","inline","float-left","float-right","full-width"],validateAlignments:function S(){n.each(l,function(e){if(e.defaultAlignment&&!n.contains(u.validAlignments,e.defaultAlignment))throw new Error("Widget '"+e.displayName+"' has an invalid defaultAlignment value: "+e.defaultAlignment)
if(e.supportedAlignments){var t=n.difference(e.supportedAlignments,u.validAlignments)
if(t.length)throw new Error("Widget '"+e.displayName+"' has an invalid value for supportedAlignments: "+t.join(" "))}})},supportsStaticMode:function C(e){var t=l[e]
return t&&null!=t.staticTransform},getStaticTransform:function M(e){var t=l[e]
return t&&t.staticTransform},getTracking:function _(e){var t=l[e]
return t&&t.tracking||s}}
e.exports=u},function(e,t,r){"use strict"
e.exports=[[r(27),false],[r(28),false],[r(29),false],[r(30),false]]},function(e,t,r){"use strict"
var n=function i(e){var t=e.skipMathJax
var n=$.Deferred()
void 0===e.loadExtraWidgets||e.loadExtraWidgets?!function(){var e=r(2)
!function(t){var i=r(17)
e.registerMany(i)
n.resolve()}(r)}():n.resolve()
var i=$.Deferred()
if(t)i.resolve()
else{MathJax.Hub.Config({messageStyle:"none",skipStartupTypeset:"none","HTML-CSS":{availableFonts:["TeX"],imageFont:null,scale:100,showMathMenu:false}})
MathJax.Hub.Configured()
MathJax.Hub.Queue(i.resolve)}return n.then(function(){return i})}
e.exports=n},function(e,t,r){"use strict"
var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]
for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}
var i=r(12)
var a=r(13)
var o=r(14)
var s=r(18)
var l=r(19).Options
var p=r(19).ClassNames
var u=r(9)
var c=r(31)
var h=i.PropTypes.shape({content:i.PropTypes.string,widgets:i.PropTypes.object,images:i.PropTypes.object})
var d=i.createClass({displayName:"ArticleRenderer",propTypes:n({},c.propTypes,{apiOptions:i.PropTypes.shape({onFocusChange:i.PropTypes.func,isMobile:i.PropTypes.bool}),json:i.PropTypes.oneOfType([h,i.PropTypes.arrayOf(h)]).isRequired,useNewStyles:i.PropTypes.bool}),getDefaultProps:function f(){return{apiOptions:{},useNewStyles:false}},getInitialState:function v(){return c.getInitialState()},componentDidMount:function m(){c.componentDidMount.call(this)
this._currentFocus=null},shouldComponentUpdate:function g(e,t){return e!==this.props||t!==this.state},componentWillUnmount:function y(){c.componentWillUnmount.call(this)},keypadElement:function b(){return c.keypadElement.call(this)},_handleFocusChange:function T(e,t){e?this._setCurrentFocus(e):this._onRendererBlur(t)},_setCurrentFocus:function x(e){var t=this
var r=this.keypadElement()
var n=this._currentFocus
this._currentFocus=e
var i=false
this._currentFocus&&!function(){var e=t._currentFocus,r=e[0],n=e.slice(1)
var a=t.refs[r].getInputPaths()
i=a.some(function(e){return s.inputPathsEqual(e,n)})}()
null!=this.props.apiOptions.onFocusChange&&this.props.apiOptions.onFocusChange(this._currentFocus,n,i&&r&&a.findDOMNode(r))
r&&(i?r.activate():r.dismiss())},_onRendererBlur:function P(e){var t=this
var r=this._currentFocus
if(!s.inputPathsEqual(e,r))return
setTimeout(function(){s.inputPathsEqual(t._currentFocus,r)&&t._setCurrentFocus(null)})},blur:function E(){if(this._currentFocus){var e=this._currentFocus,t=e[0],r=e.slice(1)
this.refs[t].blurPath(r)}},_sections:function w(){return Array.isArray(this.props.json)?this.props.json:[this.props.json]},render:function k(){var e,t=this
var r=n({},l.defaults,this.props.apiOptions,{isArticle:true})
var a=o((e={"framework-perseus":true,"perseus-article":true,"bibliotron-article":this.props.useNewStyles},e[p.MOBILE]=r.isMobile,e))
var s=this._sections().map(function(e,a){var o="section-"+a
return i.createElement("div",{key:a,className:"clearfix"},i.createElement(u,n({},e,{ref:o,key:a,key_:a,keypadElement:t.keypadElement(),apiOptions:n({},r,{onFocusChange:function s(e,r){t._handleFocusChange(e&&[o].concat(e),r&&[o].concat(r))}})})))})
return i.createElement("div",{className:a},s)}})
e.exports=d},function(e,t,r){"use strict"
var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]
for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}
var i=r(12)
var a=r(13)
var o=r(11)
var s=r(19).Options
var l=r(8)
var p=r(9)
var u=r(31)
var c=r(18)
var h=r(33),d=h.mapObject
var f=i.PropTypes
var v=i.createClass({displayName:"ItemRenderer",propTypes:n({},u.propTypes,{apiOptions:f.shape({interactionCallback:f.func,onFocusChange:f.func,setDrawingAreaAvailable:f.func}),controlPeripherals:f.bool,hintsAreaSelector:f.string,initialHintsVisible:f.number,item:f.shape({answerArea:f.shape({calculator:f.bool,chi2Table:f.bool,periodicTable:f.bool,tTable:f.bool,zTable:f.bool}),hints:f.arrayOf(f.object),question:f.object}).isRequired,onShowCalculator:f.func,onShowChi2Table:f.func,onShowPeriodicTable:f.func,onShowTTable:f.func,onShowZTable:f.func,problemNum:f.number,savedState:f.any,workAreaSelector:f.string}),getDefaultProps:function m(){return{apiOptions:{},controlPeripherals:true,hintsAreaSelector:"#hintsarea",initialHintsVisible:0,workAreaSelector:"#workarea"}},getInitialState:function g(){return n({},u.getInitialState(),{hintsVisible:this.props.initialHintsVisible,questionCompleted:false,questionHighlightedWidgets:[]})},componentDidMount:function y(){u.componentDidMount.call(this)
this.props.controlPeripherals&&this.props.apiOptions.setDrawingAreaAvailable&&this.props.apiOptions.setDrawingAreaAvailable(true)
this._currentFocus=null
this.update()},componentWillReceiveProps:function b(e){this.setState({questionHighlightedWidgets:[]})},componentDidUpdate:function T(){this.update()},componentWillUnmount:function x(){u.componentWillUnmount.call(this)
a.unmountComponentAtNode(document.querySelector(this.props.workAreaSelector))
a.unmountComponentAtNode(document.querySelector(this.props.hintsAreaSelector))
if(this.props.controlPeripherals){var e=this.props.item.answerArea||{}
e.calculator&&$("#calculator").hide()
e.periodicTable&&$(".periodic-table-info-box").hide()
e.zTable&&$(".z-table-info-box").hide()
e.tTable&&$(".t-table-info-box").hide()
e.chi2Table&&$(".chi2-table-info-box").hide()}},keypadElement:function P(){return u.keypadElement.call(this)},update:function E(){var e=n({},s.defaults,this.props.apiOptions,{onFocusChange:this._handleFocusChange})
this.questionRenderer=a.render(i.createElement(p,n({keypadElement:this.keypadElement(),problemNum:this.props.problemNum,onInteractWithWidget:this.handleInteractWithWidget,highlightedWidgets:this.state.questionHighlightedWidgets,apiOptions:e,questionCompleted:this.state.questionCompleted,savedState:this.props.savedState},this.props.item.question)),document.querySelector(this.props.workAreaSelector))
this.hintsRenderer=a.render(i.createElement(l,{hints:this.props.item.hints,hintsVisible:this.state.hintsVisible,apiOptions:e}),document.querySelector(this.props.hintsAreaSelector))
var t=this.props.item.answerArea||{}
if(this.props.controlPeripherals){$("#calculator").toggle(t.calculator||false)
$(".periodic-table-info-box").toggle(t.periodicTable||false)
$(".z-table-info-box").toggle(t.zTable||false)
$(".t-table-info-box").toggle(t.tTable||false)
$(".chi2-table-info-box").toggle(t.chi2Table||false)}else{t.calculator&&this.props.onShowCalculator&&this.props.onShowCalculator()
t.periodicTable&&this.props.onShowPeriodicTable&&this.props.onShowPeriodicTable()
t.zTable&&this.props.onShowZTable&&this.props.onShowZTable()
t.tTable&&this.props.onShowTTable&&this.props.onShowTTable()
t.chi2Table&&this.props.onShowChi2Table&&this.props.onShowChi2Table()}if(e.answerableCallback){var r=0===this.questionRenderer.emptyWidgets().length
e.answerableCallback(r)}},_handleFocusChange:function w(e,t){null!=e?this._setCurrentFocus(e):this._onRendererBlur(t)},_setCurrentFocus:function k(e){var t=this
var r=this.keypadElement()
var n=this._currentFocus
this._currentFocus=e
var i=this.getInputPaths()
var o=this._currentFocus&&i.some(function(e){return c.inputPathsEqual(e,t._currentFocus)})
null!=this.props.apiOptions.onFocusChange&&this.props.apiOptions.onFocusChange(this._currentFocus,n,o&&r&&a.findDOMNode(r))
r&&(o?r.activate():r.dismiss())},_onRendererBlur:function S(e){var t=this
var r=this._currentFocus
if(!c.inputPathsEqual(e,r))return
setTimeout(function(){c.inputPathsEqual(t._currentFocus,r)&&t._setCurrentFocus(null)})},_setWidgetProps:function C(e,t,r){this.questionRenderer._setWidgetProps(e,t,r)},_handleAPICall:function M(e,t){var r=o.rest(arguments)
var n=this.questionRenderer
return n[e].apply(n,r)},setInputValue:function _(e,t,r){return this._handleAPICall("setInputValue",e,t,r)},focusPath:function N(e){return this._handleAPICall("focusPath",e)},blurPath:function I(e){return this._handleAPICall("blurPath",e)},getDOMNodeForPath:function R(e){return this._handleAPICall("getDOMNodeForPath",e)},getGrammarTypeForPath:function O(e){return this._handleAPICall("getGrammarTypeForPath",e)},getInputPaths:function A(){var e=this.questionRenderer.getInputPaths()
return e},handleInteractWithWidget:function D(e){var t=o.difference(this.state.questionHighlightedWidgets,[e])
this.setState({questionCompleted:false,questionHighlightedWidgets:t})
this.props.apiOptions.interactionCallback&&this.props.apiOptions.interactionCallback()},focus:function L(){return this.questionRenderer.focus()},blur:function F(){this._currentFocus&&this.blurPath(this._currentFocus)},showHint:function q(){this.state.hintsVisible<this.getNumHints()&&this.setState({hintsVisible:this.state.hintsVisible+1})},getNumHints:function B(){return this.props.item.hints.length},scoreInput:function z(){var e=this.questionRenderer.guessAndScore()
var t=e[0]
var r=e[1]
var n=[t,[]]
var i=c.keScoreFromPerseusScore(r,n)
var a=this.questionRenderer.emptyWidgets()
this.setState({questionCompleted:i.correct,questionHighlightedWidgets:a})
return i},getWidgetIds:function U(){return this.questionRenderer.getWidgetIds()},scoreWidgets:function H(){var e=this.questionRenderer.scoreWidgets()
var t=this.questionRenderer.getUserInputForWidgets()
return d(e,function(e,r){return c.keScoreFromPerseusScore(e,t[r])})},getSerializedState:function W(){return{question:this.questionRenderer.getSerializedState(),hints:this.hintsRenderer.getSerializedState()}},restoreSerializedState:function V(e,t){var r=2
var n=function i(){--r
t&&0===r&&t()}
this.questionRenderer.restoreSerializedState(e.question,n)
this.hintsRenderer.restoreSerializedState(e.hints,n)},render:function G(){return i.createElement("div",null)}})
e.exports=v},function(e,t,r){"use strict"
var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]
for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}
var i=r(12)
var a=r(13)
var o=r(11)
var s=r(15),l=s.StyleSheet,p=s.css
var u=r(19).Options
var c=r(8)
var h=r(31)
var d=r(9)
var f=r(18)
var v=r(33),m=v.mapObject
var g=i.PropTypes
var y=i.createClass({displayName:"ItemRenderer",propTypes:n({},h.propTypes,{apiOptions:g.any,hintsVisible:g.number,item:g.shape({answerArea:g.shape({calculator:g.bool,chi2Table:g.bool,periodicTable:g.bool,tTable:g.bool,zTable:g.bool}),hints:g.arrayOf(g.object),question:g.object}).isRequired,problemNum:g.number,savedState:g.any}),getDefaultProps:function T(){return{apiOptions:{}}},getInitialState:function x(){return n({},h.getInitialState(),{questionCompleted:false,questionHighlightedWidgets:[]})},componentDidMount:function P(){h.componentDidMount.call(this)
this._currentFocus=null},componentWillReceiveProps:function E(e){this.setState({questionHighlightedWidgets:[]})},componentDidUpdate:function w(){if(this.props.apiOptions.answerableCallback){var e=0===this.questionRenderer.emptyWidgets().length
this.props.apiOptions.answerableCallback(e)}},componentWillUnmount:function k(){h.componentWillUnmount.call(this)},keypadElement:function S(){return h.keypadElement.call(this)},_handleFocusChange:function C(e,t){null!=e?this._setCurrentFocus(e):this._onRendererBlur(t)},_setCurrentFocus:function M(e){var t=this
var r=this.keypadElement()
var n=this._currentFocus
this._currentFocus=e
var i=this.getInputPaths()
var o=this._currentFocus&&i.some(function(e){return f.inputPathsEqual(e,t._currentFocus)})
null!=this.props.apiOptions.onFocusChange&&this.props.apiOptions.onFocusChange(this._currentFocus,n,o&&r&&a.findDOMNode(r))
r&&(o?r.activate():r.dismiss())},_onRendererBlur:function _(e){var t=this
var r=this._currentFocus
if(!o.isEqual(e,r))return
o.defer(function(){o.isEqual(t._currentFocus,r)&&t._setCurrentFocus(null)})},_setWidgetProps:function N(e,t,r){this.questionRenderer._setWidgetProps(e,t,r)},_handleAPICall:function I(e,t){var r=o.rest(arguments)
var n=this.questionRenderer
return n[e].apply(n,r)},setInputValue:function R(e,t,r){return this._handleAPICall("setInputValue",e,t,r)},focusPath:function O(e){return this._handleAPICall("focusPath",e)},blurPath:function A(e){return this._handleAPICall("blurPath",e)},getDOMNodeForPath:function D(e){return this._handleAPICall("getDOMNodeForPath",e)},getGrammarTypeForPath:function L(e){return this._handleAPICall("getGrammarTypeForPath",e)},getInputPaths:function F(){var e=this.questionRenderer.getInputPaths()
return e},handleInteractWithWidget:function q(e){var t=o.difference(this.state.questionHighlightedWidgets,[e])
this.setState({questionCompleted:false,questionHighlightedWidgets:t})
this.props.apiOptions.interactionCallback&&this.props.apiOptions.interactionCallback()},focus:function B(){return this.questionRenderer.focus()},blur:function z(){this._currentFocus&&this.blurPath(this._currentFocus)},getNumHints:function U(){return this.props.item.hints.length},scoreInput:function H(){var e=this.questionRenderer.guessAndScore()
var t=e[0]
var r=e[1]
var n=[t,[]]
var i=f.keScoreFromPerseusScore(r,n)
var a=this.questionRenderer.emptyWidgets()
this.setState({questionCompleted:i.correct,questionHighlightedWidgets:a})
return i},getWidgetIds:function W(){return this.questionRenderer.getWidgetIds()},scoreWidgets:function V(){var e=this.questionRenderer.scoreWidgets()
var t=this.questionRenderer.getUserInputForWidgets()
return m(e,function(e,r){return f.keScoreFromPerseusScore(e,t[r])})},getSerializedState:function G(){return{question:this.questionRenderer.getSerializedState(),hints:this.hintsRenderer.getSerializedState()}},restoreSerializedState:function j(e,t){var r=2
var n=function i(){--r
t&&0===r&&t()}
this.questionRenderer.restoreSerializedState(e.question,n)
this.hintsRenderer.restoreSerializedState(e.hints,n)},render:function Y(){var e=this
var t=n({},u.defaults,this.props.apiOptions,{onFocusChange:this._handleFocusChange})
var r=i.createElement(d,n({keypadElement:this.keypadElement(),problemNum:this.props.problemNum,onInteractWithWidget:this.handleInteractWithWidget,highlightedWidgets:this.state.questionHighlightedWidgets,apiOptions:t,questionCompleted:this.state.questionCompleted,savedState:this.props.savedState,ref:function o(t){return e.questionRenderer=t}},this.props.item.question))
var a=i.createElement(c,{hints:this.props.item.hints,hintsVisible:this.props.hintsVisible,apiOptions:t,ref:function s(t){return e.hintsRenderer=t}})
return i.createElement("div",null,i.createElement("div",null,r),i.createElement("div",{className:!t.isMobile&&p(b.hintsContainer)},a))}})
var b=l.create({hintsContainer:{marginLeft:50}})
e.exports=y},function(e,t,r){"use strict"
var n,i,a
var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]
for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}
var s=r(12)
var l=r(13)
var p=r(15),u=p.StyleSheet,c=p.css
var h=r(14)
var d=r(11)
var i18n=window.i18n
var f=r(20)
var v=r(34)
var m=r(32)
var g=r(36)
var y=r(37)
var b=r(38),T=b.baseUnitPx,x=b.hintBorderWidth,P=b.kaGreen,E=b.gray85,w=b.gray17
var k=s.createClass({displayName:"HintsRenderer",propTypes:o({},m.propTypes,{className:s.PropTypes.string,hints:s.PropTypes.arrayOf(s.PropTypes.any),hintsVisible:s.PropTypes.number}),componentDidMount:function M(){this._cacheHintImages()},componentDidUpdate:function _(e,t){d.isEqual(e.hints,this.props.hints)&&e.hintsVisible===this.props.hintsVisible||this._cacheHintImages()
if(e.hintsVisible<this.props.hintsVisible){var r=this.props.hintsVisible-1
l.findDOMNode(this.refs["hintRenderer"+r]).focus()}},_hintsVisible:function N(){return null==this.props.hintsVisible||-1===this.props.hintsVisible?this.props.hints.length:this.props.hintsVisible},_cacheImagesInHint:function I(e){d.each(e.images,function(e,t){var r=new Image
r.src=v.getRealImageUrl(t)})},_cacheHintImages:function R(){this._hintsVisible()>0?d.each(this.props.hints,this._cacheImagesInHint):this.props.hints.length>0&&this._cacheImagesInHint(this.props.hints[0])},getApiOptions:function O(){return m.getApiOptions.call(this)},getSerializedState:function A(){var e=this
return d.times(this._hintsVisible(),function(t){return e.refs["hintRenderer"+t].getSerializedState()})},restoreSerializedState:function D(e,t){var r=this
var n=1
var i=function a(){--n
t&&0===n&&t()}
d.each(e,function(e,t){var a=r.refs["hintRenderer"+t]
if(a){++n
a.restoreSerializedState(e,i)}})
i()},render:function L(){var e=this
var t=this.getApiOptions()
var r=this._hintsVisible()
var n=[]
this.props.hints.slice(0,r).forEach(function(i,a){var o=a===e.props.hints.length-1&&!/\*\*/.test(i.content)
var l=a===r-1
var p=s.createElement(f,{lastHint:o,lastRendered:l,hint:i,pos:a,totalHints:e.props.hints.length,ref:"hintRenderer"+a,key:"hintRenderer"+a,apiOptions:t})
i.replace&&n.length>0?n[n.length-1]=p:n.push(p)})
var i=t.getAnotherHint&&r>0&&r<this.props.hints.length
var a=h(this.props.className,t.isMobile&&r>0&&c(C.mobileHintStylesHintsRenderer))
return s.createElement("div",{className:a},t.isMobile&&r>0&&s.createElement("div",{className:c(C.mobileHintStylesHintTitle,y.responsiveLabel)},i18n._("Hints")),n,i&&s.createElement("button",{rel:"button",className:c(C.linkButton,C.getAnotherHintButton,t.isMobile&&C.mobileHintStylesGetAnotherHintButton),onClick:function o(e){e.preventDefault()
e.stopPropagation()
t.getAnotherHint()}},s.createElement("span",{className:c(C.plusText,t.isMobile&&C.mobileHintStylesPlusText)},"+"),s.createElement("span",{className:c(C.getAnotherHintText)},i18n._("Get another hint")," (",r,"/",this.props.hints.length,")")))}})
var S=T+x
var C=u.create({rendererMargins:{marginTop:T},linkButton:{cursor:"pointer",border:"none",backgroundColor:"transparent",fontSize:"100%",fontFamily:"inherit",fontWeight:"bold",color:P,padding:0,position:"relative"},plusText:{fontSize:20,position:"absolute",top:-3,left:0},getAnotherHintText:{marginLeft:16},mobileHintStylesHintsRenderer:{marginTop:4*T,border:"solid "+E,borderWidth:"1px 0 0 0",position:"relative",":before":{content:'""',display:"table",clear:"both"},":after":{content:'""',display:"table",clear:"both"}},mobileHintStylesHintTitle:(n={fontFamily:"inherit",fontStyle:"normal",fontWeight:"bold",color:w,paddingTop:T,paddingBottom:1.5*T},n[g.lgOrSmaller]={paddingLeft:0},n[g.smOrSmaller]={paddingLeft:S},n),getAnotherHintButton:{marginTop:1.5*T},mobileHintStylesGetAnotherHintButton:(i={},i[g.lgOrSmaller]={paddingLeft:0},i[g.smOrSmaller]={paddingLeft:S},i),mobileHintStylesPlusText:(a={},a[g.lgOrSmaller]={left:0},a[g.smOrSmaller]={left:S},a)})
e.exports=k},function(e,t,r){"use strict"
var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}
var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]
for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}
var $=r(16)
var a=r(12)
var o=r(13)
var s=r(11)
var l=r(14)
var p=r(21)
var u=r(22)
var c=r(23)
var h=r(34)
var d=r(40)
var f=r(24)
var v=r(2)
var m=r(18)
var g=r(32)
var y=r(19).ClassNames
var b=r(35)
var T=r(25)
var x=r(39)
var P=r(76).propTypes.keypadElementPropType
var E=r(33),w=E.mapObject,k=E.mapObjectFromArray
var S={"\\a":"","\\b":"\b","\\t":"	","\\n":"\n","\\v":"","\\f":"\f","\\r":"\r","\\\\":"\\"}
var C=/\\a|\\b|\\t|\\n|\\v|\\f|\\r|\\\\/g
var M=/\S/
var _=/(web\+graphie|https):\/\/[^\s]*/
var N=function D(){}
if("undefined"!==typeof KA&&"en-pt"===KA.language){window.PerseusTranslationComponents=[]
KA.jipt_dom_insert_checks||(KA.jipt_dom_insert_checks=[])
KA.jipt_dom_insert_checks.push(function(e,t,r){var n=$(t)
var i=n.data("perseus-component-index")
var a=n.data("perseus-paragraph-index")
if(t&&"undefined"!==typeof i){var o=window.PerseusTranslationComponents[i]
if(!o)return false
e=e.replace(C,function(e){return S[e]})
o.replaceJiptContent(e,a)
return false}return e})}var I=["content","problemNum","widgets"]
var R=function L(e,t){if(null===e||null===t)return e===t
return s.every(e,function(e,r){return s.isEqual(e,t[r])})}
var O=function F(e,t,r,n){if(e){this._tracked=false
this.trackApi=e
this.widgetType=t
this.widgetID=r
this.setting=n
this.track=this._track.bind(this)}else this.track=this._noop}
O.prototype._track=function(e){if(this._tracked&&!this.setting)return
this._tracked=true
this.trackApi(i({type:this.widgetType,id:this.widgetID},e))}
O.prototype._noop=function(){}
var A=a.createClass({displayName:"Renderer",propTypes:i({},g.propTypes,{alwaysUpdate:a.PropTypes.bool,findExternalWidgets:a.PropTypes.func,highlightedWidgets:a.PropTypes.arrayOf(a.PropTypes.any),ignoreMissingWidgets:a.PropTypes.bool,images:a.PropTypes.any,keypadElement:P,onInteractWithWidget:a.PropTypes.func,onRender:a.PropTypes.func,problemNum:a.PropTypes.number,questionCompleted:a.PropTypes.bool,reviewMode:a.PropTypes.bool}),getDefaultProps:function q(){return{content:"",widgets:{},images:{},ignoreMissingWidgets:true,highlightedWidgets:[],questionCompleted:false,onRender:N,onInteractWithWidget:function e(){},findExternalWidgets:function t(){return[]},alwaysUpdate:false,reviewMode:false}},getInitialState:function B(){return s.extend({jiptContent:null},this._getInitialWidgetState())},componentDidMount:function z(){this.handleRender({})
this._currentFocus=null
this._rootNode=o.findDOMNode(this)
this._isMounted=true},componentWillReceiveProps:function U(e){s.isEqual(s.pick(this.props,I),s.pick(e,I))||this.setState(this._getInitialWidgetState(e))},shouldComponentUpdate:function H(e,t){if(this.props.alwaysUpdate)return true
var r=!s.isEqual(this.state,t)
var n=!s.isEqual(this.props,e)
return n||r},componentWillUpdate:function W(e,t){var r=this.shouldRenderJiptPlaceholder(this.props,this.state)
var n=this.shouldRenderJiptPlaceholder(e,t)
var i=this.getContent(this.props,this.state)
var a=this.getContent(e,t)
var o=this.props.highlightedWidgets
var s=e.highlightedWidgets
this.reuseMarkdown=!r&&!n&&i===a&&o===s},componentDidUpdate:function V(e,t){var r=this
this.handleRender(e)
s.each(this.widgetIds,function(e){var t=r.refs["container:"+e]
t.replaceWidgetProps(r.getWidgetProps(e))})},componentWillUnmount:function G(){this.widgetIds=[]
null!=this.translationIndex&&(window.PerseusTranslationComponents[this.translationIndex]=null)
this._isMounted=false},getApiOptions:function j(){return g.getApiOptions.call(this)},_getInitialWidgetState:function Y(e){e=e||this.props
var t=this._getAllWidgetsInfo(e)
return{widgetInfo:t,widgetProps:this._getAllWidgetsStartProps(t,e)}},_getAllWidgetsInfo:function K(e){e=e||this.props
return w(e.widgets,function(e,t){if(!e.type||!e.alignment){var r={}
e.type||(r.type=t.split(" ")[0])
e.alignment||(r.alignment="default")
e=s.extend({},e,r)}return v.upgradeWidgetInfoToLatestVersion(e)})},_getAllWidgetsStartProps:function X(e,t){return w(e,function(e){return v.getRendererPropsForWidgetInfo(e,t.problemNum)})},_getDefaultWidgetInfo:function Q(e){var t=m.rTypeFromWidgetId.exec(e)
if(null==t)return{}
return{type:t[1],graded:true,options:{}}},_getWidgetInfo:function Z(e){return this.state.widgetInfo[e]||this._getDefaultWidgetInfo(e)},renderWidget:function J(e,t,r){var n=this.state.widgetInfo[t]
n&&"full-width"===n.alignment&&(r.foundFullWidth=true)
if(n||this.props.ignoreMissingWidgets){var i=n&&n.type||e
var o=s.contains(this.props.highlightedWidgets,t)
return a.createElement(f,{ref:"container:"+t,key:"container:"+t,type:i,initialProps:this.getWidgetProps(t),shouldHighlight:o})}return null},getWidgetProps:function et(e){var t=this
var r=this.getApiOptions()
var n=this.state.widgetProps[e]||{}
var a=null
var o=this.state.widgetInfo[e]
this.props.reviewMode&&o&&(a=o.options)
this._interactionTrackers||(this._interactionTrackers={})
var l=this._interactionTrackers[e]
l||(l=this._interactionTrackers[e]=new O(r.trackInteraction,o&&o.type,e,v.getTracking(o&&o.type)))
return i({},n,{ref:e,widgetId:e,alignment:o&&o.alignment,"static":o&&o["static"],problemNum:this.props.problemNum,apiOptions:this.getApiOptions(this.props),keypadElement:this.props.keypadElement,questionCompleted:this.props.questionCompleted,onFocus:s.partial(this._onWidgetFocus,e),onBlur:s.partial(this._onWidgetBlur,e),findWidgets:this.findWidgets,reviewModeRubric:a,onChange:function p(r,n){t._setWidgetProps(e,r,n)},trackInteraction:l.track})},getSerializedState:function tt(){var e=this
return w(this.state.widgetProps,function(t,r){var n=e.getWidgetInstance(r)
return n&&n.getSerializedState?n.getSerializedState():t})},restoreSerializedState:function rt(e,t){var r=this
var n=s.keys(e)
var i=s.keys(this.state.widgetProps)
if(n.length!==i.length||s.intersection(n,i).length!==n.length){console.error("Refusing to restore bad serialized state:",e,"Current props:",this.state.widgetProps)
return}var a=1
var o=function l(){--a
t&&0===a&&t()}
this.setState({widgetProps:w(e,function(e,t){var n=r.getWidgetInstance(t)
if(n&&n.restoreSerializedState){++a
var i=n.restoreSerializedState(e,o)
return s.extend({},r.state.widgetProps[t],i)}return e})},o)},findInternalWidgets:function nt(e){var t=this
var r
if("string"===typeof e)if(-1!==e.indexOf(" ")){var n=e
r=function o(e,t){return e===n}}else{var i=e
r=function s(e,t){return t.type===i}}else r=e
var a=this.widgetIds.filter(function(e){var n=t._getWidgetInfo(e)
var i=t.getWidgetInstance(e)
return r(e,n,i)}).map(this.getWidgetInstance)
return a},findWidgets:function it(e){return[].concat(this.findInternalWidgets(e),this.props.findExternalWidgets(e))},getWidgetInstance:function at(e){var t=this.refs["container:"+e]
if(!t)return null
return t.getWidget()},_onWidgetFocus:function ot(e,t){if(void 0===t)t=[]
else if(!s.isArray(t))throw new Error("widget props.onFocus focusPath must be an Array, but was"+JSON.stringify(t))
this._setCurrentFocus([e].concat(t))},_onWidgetBlur:function st(e,t){var r=this
var n=this._currentFocus
var i=[e].concat(t)
if(!s.isEqual(i,n))return
s.defer(function(){s.isEqual(r._currentFocus,n)&&r._setCurrentFocus(null)})},getContent:function lt(e,t){return t.jiptContent||e.content},shouldRenderJiptPlaceholder:function pt(e,t){return"undefined"!==typeof KA&&"en-pt"===KA.language&&null==t.jiptContent&&-1!==e.content.indexOf("crwdns")},replaceJiptContent:function ut(e,t){if(null==t)this.setState({jiptContent:e})
else{/\S\n\s*\n\S/.test(e)&&(e="$\\large{\\red{\\text{Please translate each paragraph to a single paragraph.}}}$");/^\s*$/.test(e)&&(e="$\\large{\\red{\\text{Translated paragraph is currently empty}}}$")
var r=this.getContent(this.props,this.state)
var n=p.parseToArray(r)
n[t]=e
this.setState({jiptContent:p.joinFromArray(n)})}},outputMarkdown:function ct(e,t){if(s.isArray(e)){var r=t.key
var n=[]
var i=false
for(var o=0;o<e.length;o++){t.key=o
t.paragraphIndex=o
var p=this.outputMarkdown(e[o],t)
var u="string"===typeof p
u&&i?n[n.length-1]+=p:n.push(p)
i=u}t.key=r
return n}this._foundTextNodes=false
t.foundFullWidth=false
var h=this.outputNested(e,t)
var d
d=null!=this.translationIndex?null:l({"perseus-paragraph-centered":!this._foundTextNodes,"perseus-paragraph-full-width":t.foundFullWidth&&1===e.content.length})
return a.createElement(c,{key:t.key,className:d,translationIndex:this.translationIndex,paragraphIndex:t.paragraphIndex},h)},outputNested:function ht(e,t){if(s.isArray(e)){var r=t.key
var n=[]
var i=false
for(var a=0;a<e.length;a++){t.key=a
var o=this.outputNested(e[a],t)
var l="string"===typeof o
l&&i?n[n.length-1]+=o:n.push(o)
i=l}t.key=r
return n}return this.outputNode(e,this.outputNested,t)},outputNode:function dt(e,t,r){var o=this
var l=this.getApiOptions()
var p=l.imagePlaceholder
if("widget"===e.type){var c=l.widgetPlaceholder
if(c)return c
this._foundTextNodes=true
if(s.contains(this.widgetIds,e.id))return a.createElement("span",{key:r.key,className:"renderer-widget-error"},"Widget [[","☃"," ",e.id,"]] already exists.")
this.widgetIds.push(e.id)
return this.renderWidget(e.widgetType,e.id,r)}if("blockMath"!==e.type){if("math"===e.type){var f=e.content.replace(/\{align[*]?\}/g,"{aligned}")
return a.createElement("span",{key:r.key,style:{whiteSpace:"nowrap"}},a.createElement("span",null),a.createElement(d,{onRender:this.props.onRender},f),a.createElement("span",null))}if("image"===e.type){if(p)return p
var v=s.has(this.props.images,e.target)?this.props.images[e.target]:null
var m=!r.inTable
return a.createElement(h,i({key:r.key,src:u.sanitizeUrl(e.target),alt:e.alt,title:e.title,responsive:m,onUpdate:this.props.onRender,zoomToFullSizeOnMobile:l.isMobile&&l.isArticle},v))}if("columns"===e.type){this._isTwoColumn=true
return u.ruleOutput(e,t,r)}if("text"===e.type){M.test(e.content)&&(this._foundTextNodes=true)
return p&&_.test(e.content)?p:e.content}if("table"===e.type||"titledTable"===e.type){r.inTable=true
var g=u.ruleOutput(e,t,r)
r.inTable=false
if(!l.isMobile)return g
var y=16
var P={marginLeft:-y,marginRight:-y}
var E={paddingLeft:0,paddingRight:0}
var w=a.createElement("div",{style:i({},E,{overflowX:"auto"})},a.createElement(b,{animateHeight:true},g))
return a.createElement("div",{style:P},w)}return u.ruleOutput(e,t,r)}var k=function(){var t=new T
var n=function v(e){o.props.onRender&&o.props.onRender(e)
if(l.isMobile&&e){var r=e.querySelector(".katex")
var n=e.querySelector('script[type="math/tex"]')||e.querySelector(".MathJax")
if(r)t.resolve()
else{if(!n)throw new Error("No math present in Renderer")
t.resolve()}}}
var s=a.createElement(d,{onRender:n},x(e.content))
var p={overflowX:"auto",overflowY:"hidden",paddingTop:10,paddingBottom:10,marginTop:-10,marginBottom:-10}
if(l.isMobile){var u=16
var c={marginLeft:-u,marginRight:-u}
var h={paddingLeft:u,paddingRight:u}
var f=function m(e,t){var r=e.querySelector(".katex-html")||e.querySelector(".MathJax")
var n={width:r.offsetWidth,height:r.offsetHeight}
return{width:Math.max(t.width,n.width),height:Math.max(t.height,n.height)}}
return{v:a.createElement("div",{key:r.key,className:"perseus-block-math",style:c},a.createElement("div",{className:"perseus-block-math-inner",style:i({},p,h)},a.createElement(b,{readyToMeasureDeferred:t,computeChildBounds:f},s)))}}return{v:a.createElement("div",{key:r.key,className:"perseus-block-math"},a.createElement("div",{className:"perseus-block-math-inner",style:p},s))}}()
if("object"===("undefined"===typeof k?"undefined":n(k)))return k.v},handleRender:function ft(e){var t=this.props.onRender
var r=e.onRender
if(t!==N||r!==N){var n=$(o.findDOMNode(this)).find("img")
r!==N&&n.off("load",r)
t!==N&&n.on("load",t)}t()},_setCurrentFocus:function vt(e){var t=this.getApiOptions()
if(!R(e,this._currentFocus)){var r=this._currentFocus
r&&this.blurPath(r)
this._currentFocus=e
null!=t.onFocusChange&&t.onFocusChange(this._currentFocus,r)}},focus:function mt(){var e
var t
for(var r=0;r<this.widgetIds.length;r++){var n=this.widgetIds[r]
var i=this.getWidgetInstance(n)
var a=i&&i.focus&&i.focus()
if(a){e=n
t=a
break}}if(e){var o
o=s.isObject(t)?[e].concat(t.path||[]):[e]
this._setCurrentFocus(o)
return true}},getDOMNodeForPath:function gt(e){var t=s.first(e)
var r=s.rest(e)
var n=this.getWidgetInstance(t)
var i=n.getDOMNodeForPath
if(i)return i(r)
if(0===r.length)return o.findDOMNode(n)},getGrammarTypeForPath:function yt(e){var t=s.first(e)
var r=s.rest(e)
var n=this.getWidgetInstance(t)
return n.getGrammarTypeForPath(r)},getInputPaths:function bt(){var e=this
var t=[]
s.each(this.widgetIds,function(r){var n=e.getWidgetInstance(r)
if(n.getInputPaths){var i=n.getInputPaths()
s.each(i,function(e){var n=[r].concat(e)
t.push(n)})}})
return t},focusPath:function Tt(e){if(s.isEqual(this._currentFocus,e))return
this._currentFocus&&this.blurPath(this._currentFocus)
var t=s.first(e)
var r=s.rest(e)
var n=this.getWidgetInstance(t).focusInputPath
n&&n(r)},blurPath:function xt(e){if(!s.isEqual(this._currentFocus,e))return
var t=s.first(e)
var r=s.rest(e)
var n=this.getWidgetInstance(t)
if(n){var i=this.getWidgetInstance(t).blurInputPath
i&&i(r)}},blur:function Pt(){this._currentFocus&&this.blurPath(this._currentFocus)},serialize:function Et(){var e={}
s.each(this.state.widgetInfo,function(t,r){var n=this.getWidgetInstance(r)
var i=n.serialize()
s.isEmpty(i)||(e[r]=i)},this)
return e},emptyWidgets:function wt(){var e=this
return s.filter(this.widgetIds,function(t){var r=e._getWidgetInfo(t)
var n=e.getWidgetInstance(t).simpleValidate(r.options,null)
return m.scoreIsEmpty(n)})},_setWidgetProps:function kt(e,t,r){var n=this
var i=s.clone(this.state.widgetProps)
i[e]=s.extend({},i[e],t)
this.setState({widgetProps:i},function(){var t=r&&r()
n.props.onInteractWithWidget(e)
false!==t&&n._setCurrentFocus([e])})},setInputValue:function St(e,t,r){var n=s.first(e)
var i=s.rest(e)
var a=this.getWidgetInstance(n)
a.setInputValue(i,t,r)},getUserInput:function Ct(){var e=this
return s.map(this.widgetIds,function(t){return e.getWidgetInstance(t).getUserInput()})},getWidgetIds:function Mt(){return this.widgetIds},getAllWidgetIds:function _t(){var e=this
return s.map(this.getWidgetIds(),function(t){var r="group"
if(t.substring(0,r.length)===r&&e.getWidgetInstance(t))return{id:t,children:e.getWidgetInstance(t).getRenderer().getAllWidgetIds()}
return{id:t,children:[]}})},getUserInputForWidgets:function Nt(){var e=this
return k(this.widgetIds,function(t){return e.getWidgetInstance(t).getUserInput()})},scoreWidgets:function It(){var e=this
var t=this.state.widgetInfo
var r=this.getApiOptions().onInputError||function(){}
var n=s.filter(this.widgetIds,function(e){var r=t[e]
return null==r.graded||r.graded})
var i={}
s.each(n,function(n){var a=t[n]
var o=e.getWidgetInstance(n)
if(!o)return
i[n]=o.simpleValidate(a.options,r)})
return i},score:function Rt(){return s.reduce(this.scoreWidgets(),m.combineScores,m.noScore)},guessAndScore:function Ot(){var e=this.getUserInput()
var t=this.score()
return[e,t]},examples:function At(){var e=this.widgetIds
var At=s.compact(s.map(e,function(e){return e.examples?e.examples():null}))
if(!At.length)return null
var t=s.all(At,function(e){return s.isEqual(At[0],e)})
if(!t)return null
return At[0]},render:function Dt(){var e
var t=this.getApiOptions()
if(this.reuseMarkdown)return this.lastRenderedMarkdown
var r=this.getContent(this.props,this.state)
this.widgetIds=[]
if(this.shouldRenderJiptPlaceholder(this.props,this.state)){this.translationIndex||(this.translationIndex=window.PerseusTranslationComponents.push(this)-1)
if(!t.isArticle)return a.createElement("div",{"data-perseus-component-index":this.translationIndex},r)}this._isTwoColumn=false
var n=u.parse(r,{isJipt:null!=this.translationIndex})
var i=this.outputMarkdown(n,{baseElements:t.baseElements})
var o=l((e={},e[y.RENDERER]=true,e[y.RESPONSIVE_RENDERER]=true,e[y.TWO_COLUMN_RENDERER]=this._isTwoColumn,e))
this.lastRenderedMarkdown=a.createElement("div",{className:o},i)
return this.lastRenderedMarkdown}})
e.exports=A},function(e,t,r){"use strict"
var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]
for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}
var i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}
function a(e,t){var r={}
for(var n in e){if(t.indexOf(n)>=0)continue
if(!Object.prototype.hasOwnProperty.call(e,n))continue
r[n]=e[n]}return r}var o=r(15),s=o.StyleSheet,l=o.css
var p=r(41)
var u=r(12)
var c=r(8)
var h=r(9)
var d=r(18)
var f={item:{type:"item"},hint:{type:"hint"},arrayOf:function E(e){return{type:"array",elementShape:e}},shape:function w(e){return{type:"object",shape:e}}}
f.hints=f.arrayOf(f.hint)
function v(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:m
return g(e,t,[],r,n)}function m(e){return e}function g(e,t,r,n,a){if("item"===e.type||"hint"===e.type){if(t&&"object"!==("undefined"===typeof t?"undefined":i(t)))throw new Error('Invalid object of type "'+("undefined"===typeof t?"undefined":i(t))+'" found at path '+(["<root>"].concat(r).join(".")+". ")+("Expected "+e.type+"."))
return n(t,e,r)}if("array"===e.type){if(!Array.isArray(t))throw new Error('Invalid object of type "'+("undefined"===typeof t?"undefined":i(t))+'" found at path '+(["<root>"].concat(r).join(".")+". Expected array."))
var o=t.map(function(t,i){return g(e.elementShape,t,r.concat(i),n,a)})
return a(o,t,e,r)}if("object"!==e.type)throw new Error('Invalid shape type "'+e.type+'" at path '+(["<root>"].concat(r).join(".")+"."))
var s=function(){if(t&&"object"!==("undefined"===typeof t?"undefined":i(t)))throw new Error('Invalid object of type "'+("undefined"===typeof t?"undefined":i(t))+'" found at path '+(["<root>"].concat(r).join(".")+'. Expected "object" ')+"type.")
var o={}
Object.keys(e.shape).forEach(function(i){if(!t[i])throw new Error('Key "'+i+'" is missing from shape at path '+(["<root>"].concat(r).join(".")+"."))
o[i]=g(e.shape[i],t[i],r.concat(i),n,a)})
return{v:a(o,t,e,r)}}()
if("object"===("undefined"===typeof s?"undefined":i(s)))return s.v}function y(e){if("item"===e.type)return{content:"",images:{},widgets:{}}
if("hint"===e.type)return{replace:false,content:"",images:{},widgets:{}}
if("array"===e.type)return[]
if("object"!==e.type)throw new Error("unexpected shape type "+e.type)
var t=function(){var t={}
Object.keys(e.shape).forEach(function(r){t[r]=y(e.shape[r])})
return{v:t}}()
if("object"===("undefined"===typeof t?"undefined":i(t)))return t.v}function b(){var e=u.PropTypes.oneOfType([u.PropTypes.shape({type:u.PropTypes.oneOf(["item"]).isRequired}).isRequired,u.PropTypes.shape({type:u.PropTypes.oneOf(["hint"]).isRequired}).isRequired,u.PropTypes.shape({type:u.PropTypes.oneOf(["object"]).isRequired,shape:u.PropTypes.objectOf(b)}).isRequired,u.PropTypes.shape({type:u.PropTypes.oneOf(["array"]).isRequired,elementShape:b}).isRequired])
return e.apply(void 0,arguments)}function T(e){if("item"===e.type)return u.PropTypes.shape({content:u.PropTypes.string,images:u.PropTypes.objectOf(u.PropTypes.any),widgets:u.PropTypes.objectOf(u.PropTypes.any)})
if("hint"===e.type)return u.PropTypes.shape({content:u.PropTypes.string,images:u.PropTypes.objectOf(u.PropTypes.any),widgets:u.PropTypes.objectOf(u.PropTypes.any),replace:u.PropTypes.bool})
if("array"===e.type){var t=T(e.elementShape)
return u.PropTypes.arrayOf(t.isRequired)}if("object"!==e.type)throw new Error("unexpected shape type "+e.type)
var r=function(){var t={}
Object.keys(e.shape).forEach(function(r){t[r]=T(e.shape[r]).isRequired})
return{v:u.PropTypes.shape(t)}}()
if("object"===("undefined"===typeof r?"undefined":i(r)))return r.v}var x=u.createClass({displayName:"MultiRenderer",propTypes:{content:u.PropTypes.any.isRequired,shape:b,children:u.PropTypes.func.isRequired},getInitialState:function k(){return this._tryMakeRendererState(this.props)},componentWillReceiveProps:function S(e){e.content!==this.props.content&&this.setState(this._tryMakeRendererState(e))},_tryMakeRendererState:function C(e){try{return{rendererData:this._makeRenderers(e.shape,e.content),renderError:null}}catch(t){return{rendererData:null,renderError:t}}},_getRendererProps:function M(){var e=this.props,t=e.content,r=e.children,n=e.shape,i=a(e,["content","children","shape"])
return i},_makeRendererData:function _(e,t){var r=this
var a=this._getRendererProps()
if("item"!==t.type){if("hint"===t.type){var o={renderer:null,ref:null,hint:e}
o.renderer=u.createElement(c,n({},a,{hints:[e]}))
return o}throw new Error("can't create renderer for type "+t.type)}var s=function(){var t={renderer:null,ref:null}
t.renderer=u.createElement(h,n({},a,e,{ref:function i(e){return t.ref=e},findExternalWidgets:function o(e){return r._findWidgets(t,e)}}))
return{v:t}}()
if("object"===("undefined"===typeof s?"undefined":i(s)))return s.v},_makeRenderers:function N(e,t){return v(e,t,this._makeRendererData)},_findWidgets:function I(e,t){var r=[]
this._traverseRenderers(function(n){e!==n&&n.ref&&r.push.apply(r,n.ref.findInternalWidgets(t))})
return r},_traverseRenderers:function R(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r]
return v.apply(void 0,[this.props.shape,this.state.rendererData].concat(t))},_scoreFromRef:function O(e){if(!e)return null
var t=e.guessAndScore(),r=t[0],n=t[1]
return d.keScoreFromPerseusScore(n,r)},getScores:function A(){var e=this
return this._traverseRenderers(function(t){return e._scoreFromRef(t.ref)})},score:function D(){var e=[]
var t=this._traverseRenderers(function(t){if(!t.ref)return null
e.push(t.ref.score())
return t.ref.getUserInput()})
var r=e.reduce(d.combineScores)
return d.keScoreFromPerseusScore(r,t)},getSerializedState:function L(){return this._traverseRenderers(function(e){if(!e.ref)return null
return e.ref.getSerializedState()})},restoreSerializedState:function F(e,t){var r=0
var n=function i(){r--
t&&0===r&&t()}
this._traverseRenderers(function(t,i,a){if(!t.ref)return
var o=p(e).get(a)
if(!o)return
r++
t.ref.restoreSerializedState(o,n)})},_annotateRendererCollection:function q(e,t,r,i){var a=this
if("array"===r.type&&"hint"===r.elementShape.type){e=[].concat(e)
e.firstN=function(e){return u.createElement(c,n({},a._getRendererProps(),{hints:t.map(function(e){return e.hint}),hintsVisible:e}))}}return e},_getRenderers:function B(){return this._traverseRenderers(function(e){return e.renderer},this._annotateRendererCollection)},render:function z(){if(this.state.renderError)return u.createElement("div",{className:l(P.error)},"Error rendering: ",""+this.state.renderError)
return u.createElement("div",null,this.props.children({renderers:this._getRenderers()}))}})
var P=s.create({error:{color:"red"}})
e.exports={MultiRenderer:x,emptyValueForShape:y,shapes:f,shapePropType:b,shapeToPropType:T,traverseShape:v}},function(t,r,n){t.exports=e},function(e,r,n){e.exports=t},function(e,t,n){e.exports=r},function(e,t,r){e.exports=n},function(e,t,r){e.exports=i},function(e,t,r){e.exports=a},function(e,t,r){"use strict"
e.exports=[[r(43),false],[r(44),false],[r(45),false],[r(46),false],[r(47),false],[r(48),false],[r(49),false],[r(50),false],[r(51),false],[r(52),false],[r(53),false],[r(54),false],[r(55),false],[r(56),false],[r(57),false],[r(58),false],[r(59),false],[r(60),false],[r(61),false],[r(62),false],[r(63),false],[r(64),false],[r(65),false],[r(66),false],[r(67),false],[r(68),false],[r(69),false],[r(70),false],[r(71),false],[r(72),false],[r(73),false],false,false,false]},function(e,t,r){"use strict"
var n=r(11)
var i=r(42)
var a=function s(e,t,r){return n.isArray(e)?n.map(e,function(e){return s(e,t)}):t.call(r,e)}
var o={inputPathsEqual:function l(e,t){if(null==e||null==t)return null==e===(null==t)
return e.length===t.length&&e.every(function(e,r){return t[r]===e})},nestedMap:a,rWidgetParts:/^\[\[\u2603 (([a-z-]+) ([0-9]+))\]\]$/,rWidgetRule:/^\[\[\u2603 (([a-z-]+) ([0-9]+))\]\]/,rTypeFromWidgetId:/^([a-z-]+) ([0-9]+)$/,snowman:"☃",noScore:{type:"points",earned:0,total:0,message:null},seededRNG:function p(e){var t=e
return function(){var e=t
e=e+2127912214+(e<<12)&4294967295
e=4294967295&(3345072700^e^e>>>19)
e=e+374761393+(e<<5)&4294967295
e=4294967295&(e+3550635116^e<<9)
e=e+4251993797+(e<<3)&4294967295
e=4294967295&(3042594569^e^e>>>16)
return(t=268435455&e)/268435456}},shuffle:function u(e,t,r){var i=n.clone(e)
if(!i.length||n.all(i,function(e){return n.isEqual(e,i[0])}))return i
var a
a=n.isFunction(t)?t:o.seededRNG(t)
do for(var s=i.length;s>0;s--){var l=Math.floor(a()*s),p=i[l]
i[l]=i[s-1]
i[s-1]=p}while(r&&n.isEqual(e,i))
return i},split:"x".split(/(.)/g).length?function(e,t){return e.split(t)}:function(e,t){var r=[]
var n=t.lastIndex=0
var i
while(i=t.exec(e)){r.push(e.slice(n,i.index))
r.push.apply(r,i.slice(1))
n=i.index+i[0].length}r.push(e.slice(n))
return r},combineScores:function c(e,t){var r
if("points"===e.type&&"points"===t.type){r=e.message&&t.message&&e.message!==t.message?null:e.message||t.message
return{type:"points",earned:e.earned+t.earned,total:e.total+t.total,message:r}}if("points"===e.type&&"invalid"===t.type)return t
if("invalid"===e.type&&"points"===t.type)return e
if("invalid"===e.type&&"invalid"===t.type){r=e.message&&t.message&&e.message!==t.message?null:e.message||t.message
return{type:"invalid",message:r}}},keScoreFromPerseusScore:function h(e,t){if("points"===e.type)return{empty:false,correct:e.earned>=e.total,message:e.message,guess:t}
if("invalid"===e.type)return{empty:true,correct:false,message:e.message,guess:t}
throw new Error("Invalid score type: "+e.type)},firstNumericalParse:function d(e){var t
var r=i.predicate.createValidatorFunctional(function(e){t=e
return true},{simplify:"optional",inexact:true,forms:"integer, proper, improper, pi, log, mixed, decimal"})
r(e)
return t},stringArrayOfSize:function f(e){return n(e).times(function(){return""})},gridDimensionConfig:function v(e,t,r,n){var i=o.scaleFromExtent(t,r)
var a=e*i
var s=a>30
return{scale:i,tickStep:e/n,unityLabel:s}},getGridStep:function m(e,t,r){return n(2).times(function(n){var i=o.scaleFromExtent(e[n],r)
var a=o.gridStepFromTickStep(t[n],i)
return a})},snapStepFromGridStep:function g(e){return n.map(e,function(e){return e/2})},scaleFromExtent:function y(e,t){var r=e[1]-e[0]
var n=t/r
return n},tickStepFromExtent:function b(e,t){var r=e[1]-e[0]
var n
n=15<r&&r<=20?23:r>100||r<5?10:16
var i=t/500
var a=n*i
return o.tickStepFromNumTicks(r,a)},gridStepFromTickStep:function T(e,t){var r=e*t
var n=e
var i=Math.pow(10,Math.floor(Math.log(n)/Math.LN10))
var a=Math.floor(n/i)
if(r<25)return e
if(r<50)return 5===a?e:e/2
if(1===a)return e/2
if(2===a)return e/4
if(5===a)return e/5},tickStepFromNumTicks:function x(e,t){var r=Math.pow(10,Math.floor(Math.log(e/t)/Math.LN10))
var n=t/e*r
n<=.15?r*=10:n<=.35?r*=5:n<=.75&&(r*=2)
return r},constrainedTickStepsFromTickSteps:function P(e,t){var r=[]
for(var n=0;n<2;n++){var i=t[n][1]-t[n][0]
var a=i/e[n]
a<=10?r[n]=e[n]:a<=20?r[n]=2*e[n]:r[n]=o.tickStepFromNumTicks(i,10)}return r},DeprecationMixin:{componentWillMount:function E(){var e={}
n.each(this.deprecatedProps,function(t,r){n.has(this.props,r)&&n.extend(e,t(this.props))},this)
if(!n.isEmpty(e)){n.extend(this.props,e)
setTimeout(this.props.onChange,0,e)}}},eq:function w(e,t){return n.isNumber(e)&&n.isNumber(t)?Math.abs(e-t)<1e-9:e===t},deepEq:function k(e,t){if(n.isArray(e)&&n.isArray(t)){if(e.length!==t.length)return false
for(var r=0;r<e.length;r++)if(!o.deepEq(e[r],t[r]))return false
return true}return n.isArray(e)||n.isArray(t)?false:n.isFunction(e)&&n.isFunction(t)?o.eq(e,t):n.isFunction(e)||n.isFunction(t)?false:n.isObject(e)&&n.isObject(t)?e===t||n.all(e,function(e,r){return o.deepEq(t[r],e)})&&n.all(t,function(t,r){return o.deepEq(e[r],t)}):n.isObject(e)||n.isObject(t)?false:o.eq(e,t)},parseQueryString:function S(e){e=e||window.location.search.substring(1)
var t={},r,n=/\+/g,i=/([^&=]+)=?([^&]*)/g,a=function o(e){return decodeURIComponent(e.replace(n," "))}
while(r=i.exec(e))t[a(r[1])]=a(r[2])
return t},updateQueryString:function C(e,t,r){r=encodeURIComponent(r)
var n=new RegExp("([?&])"+t+"=.*?(&|$)","i")
var i=-1!==e.indexOf("?")?"&":"?"
return e.match(n)?e.replace(n,"$1"+t+"="+r+"$2"):e+i+t+"="+r},strongEncodeURIComponent:function M(e){return encodeURIComponent(e).replace(/['()!]/g,window.escape).replace(/\*/g,"%2A")},widgetShouldHighlight:function _(e){if(!e)return false
var t=["measurer","protractor"]
return!n.contains(t,e.type)},scoreIsEmpty:function N(e){return"invalid"===e.type&&(!e.message||0===e.message.length)},touchHandlers:{pointerDown:false,currentTouchIdentifier:null},resetTouchHandlers:function I(){n.extend(o.touchHandlers,{pointerDown:false,currentTouchIdentifier:null})},extractPointerLocation:function R(e){var t
if(o.touchHandlers.pointerDown){if(null!=o.touchHandlers.currentTouchIdentifier){var r=e.changedTouches?e.changedTouches.length:0
for(var n=0;n<r;n++)e.changedTouches[n].identifier===o.touchHandlers.currentTouchIdentifier&&(t=e.changedTouches[n])}else t=e
var i="touchend"===e.type||"touchcancel"===e.type
if(t&&i){o.touchHandlers.pointerDown=false
o.touchHandlers.currentTouchIdentifier=null}}else{o.touchHandlers.pointerDown=true
if(e.changedTouches){t=e.changedTouches[0]
o.touchHandlers.currentTouchIdentifier=t.identifier}else t=e}if(t)return{left:t.pageX,top:t.pageY}},captureScratchpadTouchStart:function O(e){e.stopPropagation()},getImageSize:function A(e,t){var i=new Image
i.onload=function(){if(0===i.width&&0===i.height){document.body.appendChild(i)
n.defer(function(){t(i.clientWidth,i.clientHeight)
document.body.removeChild(i)})}else t(i.width,i.height)}
var a=r(34)
i.src=a.getRealImageUrl(e)},textarea:{getWordBeforeCursor:function D(e){var t=e.value
var r=e.selectionStart-1
var n=Math.max(t.lastIndexOf("\n",r),t.lastIndexOf(" ",r))+1
return{string:t.substring(n,r+1),pos:{start:n,end:r}}},moveCursor:function L(e,t){e.selectionStart=t
e.selectionEnd=t}}}
o.random=o.seededRNG(4294967295&(new Date).getTime())
e.exports=o},function(e,t,r){"use strict"
var n=r(12)
var i=r(74)
e.exports={Options:{propTypes:n.PropTypes.shape({isArticle:n.PropTypes.bool.isRequired,satStyling:n.PropTypes.bool.isRequired,onInputError:n.PropTypes.func.isRequired,onFocusChange:n.PropTypes.func.isRequired,staticRender:n.PropTypes.bool.isRequired,GroupMetadataEditor:n.PropTypes.func.isRequired,showAlignmentOptions:n.PropTypes.bool.isRequired,readOnly:n.PropTypes.bool.isRequired,answerableCallback:n.PropTypes.func,getAnotherHint:n.PropTypes.func,interactionCallback:n.PropTypes.func,groupAnnotator:n.PropTypes.func.isRequired,imagePlaceholder:n.PropTypes.node,widgetPlaceholder:n.PropTypes.node,baseElements:n.PropTypes.shape({Link:n.PropTypes.func}),imagePreloader:n.PropTypes.func,trackInteraction:n.PropTypes.func,customKeypad:n.PropTypes.bool,isMobile:n.PropTypes.bool,setDrawingAreaAvailable:n.PropTypes.func,useDraftEditor:n.PropTypes.bool}).isRequired,defaults:{isArticle:false,isMobile:false,satStyling:false,onInputError:function a(){},onFocusChange:function o(){},staticRender:false,GroupMetadataEditor:i,showAlignmentOptions:false,readOnly:false,groupAnnotator:function s(){return null},baseElements:{Link:function l(e){return n.createElement("a",e)}},setDrawingAreaAvailable:function p(){},useDraftEditor:true}},ClassNames:{RENDERER:"perseus-renderer",TWO_COLUMN_RENDERER:"perseus-renderer-two-columns",RESPONSIVE_RENDERER:"perseus-renderer-responsive",INPUT:"perseus-input",FOCUSED:"perseus-focused",RADIO:{OPTION:"perseus-radio-option",SELECTED:"perseus-radio-selected",OPTION_CONTENT:"perseus-radio-option-content"},INTERACTIVE:"perseus-interactive",CORRECT:"perseus-correct",INCORRECT:"perseus-incorrect",UNANSWERED:"perseus-unanswered",MOBILE:"perseus-mobile"}}},function(e,t,r){"use strict"
var n
var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]
for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}
var a=r(12)
var o=r(15),s=o.StyleSheet,l=o.css
var p=r(14)
var i18n=window.i18n
var u=r(9)
var c=r(19).Options
var h=r(36)
var d=r(38),f=d.baseUnitPx,v=d.hintBorderWidth,m=d.kaGreen,g=d.gray97
var y=a.createClass({displayName:"HintRenderer",propTypes:{apiOptions:c.propTypes,className:a.PropTypes.string,hint:a.PropTypes.any,lastHint:a.PropTypes.bool,lastRendered:a.PropTypes.bool,pos:a.PropTypes.number,totalHints:a.PropTypes.number},getSerializedState:function T(){return this.refs.renderer.getSerializedState()},restoreSerializedState:function x(e,t){this.refs.renderer.restoreSerializedState(e,t)},render:function P(){var e=this.props,t=e.apiOptions,r=e.className,n=e.hint,o=e.lastHint,s=e.lastRendered,c=e.pos,h=e.totalHints
var d=t.isMobile
var f=p(!d&&"perseus-hint-renderer",d&&l(b.newHint),d&&s&&l(b.lastRenderedNewHint),o&&"last-hint",s&&"last-rendered",r)
var v=i({},t,{customKeypad:false,staticRender:false})
return a.createElement("div",{className:f,tabIndex:"-1"},!t.isMobile&&a.createElement("span",{className:"perseus-sr-only"},i18n._("Hint #%(pos)s",{pos:c+1})),!t.isMobile&&h&&null!=c&&a.createElement("span",{className:"perseus-hint-label",style:{display:"block"}},c+1+" / "+h),a.createElement(u,{ref:"renderer",widgets:n.widgets,content:n.content||"",images:n.images,apiOptions:v}))}})
var b=s.create({newHint:(n={marginBottom:1.5*f,borderLeftColor:g,borderLeftStyle:"solid",borderLeftWidth:v},n[h.lgOrSmaller]={paddingLeft:f},n[h.smOrSmaller]={paddingLeft:0},n[":focus"]={outline:"none"},n),lastRenderedNewHint:{marginBottom:0,borderLeftColor:m}})
e.exports=y},function(e,t,r){"use strict"
var n=r(115)
var i={paragraph:{match:n.defaultRules.paragraph.match,order:1,parse:function l(e,t,r){return e[1]}}}
var a=n.parserFor(i)
var o=function p(e){var t=e.replace(/^\n\s*\n/,"")+"\n\n"
return a(t,{inline:false})}
var s=function u(e){return e.join("\n\n")}
e.exports={parseToArray:o,joinFromArray:s}},function(e,t,r){"use strict"
var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]
for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}
var i=r(11)
var a=r(115)
var o=r(40)
var s=r(18)
var l=function T(e,t,r){var n=e.length
var i=0
if(r){if(t.inline)return null
while(i<n&&" "===e[i])i++}if(!(i<n&&"$"===e[i]))return null
i++
var a=i
var o=0
while(i<n){var s=e[i]
if("\\"===s)i++
else{if(o<=0&&"$"===s){var l=i+1
if(r){var p=/^(?: *\n){2,}/.exec(e.slice(l))
l=p?l+p[0].length:null}if(l)return[e.substring(0,l),e.substring(a,i)]
return null}if("{"===s)o++
else if("}"===s)o--
else if("\n"===s&&"\n"===e[i-1])return null}i++}return null}
var p=function x(e,t){return l(e,t,false)}
var u=function P(e,t){return l(e,t,true)}
var c=new RegExp("^\\|\\| +(.*) +\\|\\| *\\n("+a.defaultRules.nptable.match.regex.source.substring(1)+")")
var h=a.blockRegex(/^(crwdns.*)\n\s*\n/)
var d=i.extend({},a.defaultRules,{columns:{order:-2,match:a.blockRegex(/^([\s\S]*\n\n)={5,}\n\n([\s\S]*)/),parse:function E(e,t,r){return{col1:t(e[1],r),col2:t(e[2],r)}},react:function w(e,t,r){return React.createElement("div",{className:"perseus-two-columns",key:r.key},React.createElement("div",{className:"perseus-column"},React.createElement("div",{className:"perseus-column-content"},t(e.col1,r))),React.createElement("div",{className:"perseus-column"},React.createElement("div",{className:"sat-header-grafting-area"}),React.createElement("div",{className:"perseus-column-content"},t(e.col2,r),React.createElement("div",{className:"sat-grafting-area"}))))}},crowdinId:{order:-1,match:function k(e,t,r){return t.isJipt?h(e,t,r):null},parse:function S(e,t,r){return{id:e[1]}},react:function C(e,t,r){return e.id}},titledTable:{order:a.defaultRules.nptable.order-.5,match:a.blockRegex(c),parse:function M(e,t,r){var n=a.parseInline(t,e[1],r)
var o=i.rest(e,2)
var s=a.defaultRules.nptable.parse(o,t,r)
return{title:n,table:s}},react:function _(e,t,r){var n=void 0
if(e.table){var i=a.defaultRules.table.react(e.table,t,r)
var o=React.createElement("caption",{key:"caption",className:"perseus-table-title"},t(e.title,r))
n=React.cloneElement(i,null,[o].concat(i.props.children))}else n="//invalid table//"
return React.createElement("div",{className:"perseus-titled-table",key:r.key},n)}},widget:{order:a.defaultRules.link.order-.75,match:a.inlineRegex(s.rWidgetRule),parse:function N(e,t,r){return{id:e[1],widgetType:e[2]}},react:function I(e,t,r){return React.createElement("em",{key:r.key},"[Widget: ",e.id,"]")}},blockMath:{order:a.defaultRules.codeBlock.order+.5,match:u,parse:function R(e,t,r){return{content:e[1]}},react:function O(e,t,r){return React.createElement(o,{key:r.key},e.content)}},math:{order:a.defaultRules.link.order-.25,match:p,parse:function A(e,t,r){return{content:e[1]}},react:function D(e,t,r){return React.createElement(o,{key:r.key},e.content)}},unescapedDollar:{order:a.defaultRules.link.order-.24,match:a.inlineRegex(/^(?!\\)\$/),parse:function L(e,t,r){return{}},react:function F(e,t,r){return"$"}},fence:i.extend({},a.defaultRules.fence,{parse:function q(e,t,r){var n=a.defaultRules.fence.parse(e,t,r)
return"alt"===n.lang?{type:"codeBlock",lang:"alt",content:t(n.content+"\n\n",r)}:n}}),link:i.extend({},a.defaultRules.link,{react:function B(e,t,r){var i=a.defaultRules.link.react(e,t,r)
var o=i.props.href
"undefined"!==typeof KA&&KA.isZeroRated&&(o=o.match(/https?:\/\/[^\/]*khanacademy.org/)?o.replace("khanacademy.org","zero.khanacademy.org"):"/zero/external-link?url="+encodeURIComponent(o))
var s=n({},i.props,{href:o})
return r.baseElements&&r.baseElements.Link?r.baseElements.Link(s):React.cloneElement(i,s)}}),codeBlock:i.extend({},a.defaultRules.codeBlock,{react:function z(e,t,r){return"alt"===e.lang?React.createElement("div",{key:r.key,className:"perseus-markdown-alt perseus-sr-only"},t(e.content,r)):a.defaultRules.codeBlock.react(e,t,r)}}),list:i.extend({},a.defaultRules.list,{match:function U(e,t,r){return t.isJipt?null:a.defaultRules.list.match(e,t,r)}})})
var f=a.parserFor(d)
var v=function H(e,t){var r=e+"\n\n"
return f(r,i.extend({inline:false},t))}
var m=function W(e,t){return f(e,i.extend({inline:true},t))}
var g=function V(e,t){if(i.isArray(e))i.each(e,function(e){return V(e,t)})
else if(i.isObject(e)){t(e)
if("table"===e.type){V(e.header,t)
V(e.cells,t)}else if("list"===e.type)V(e.items,t)
else if("titledTable"===e.type)V(e.table,t)
else if("columns"===e.type){V(e.col1,t)
V(e.col2,t)}else i.isArray(e.content)&&V(e.content,t)}}
var y=function G(e){if(i.isArray(e))return i.flatten(i.map(e,G))
if(e.content&&i.isString(e.content))return-1!==e.type.toLowerCase().indexOf("code")?["",e.content,""]:[e.content.replace(/\s+/g," ")]
var t=i.chain(e).values().flatten().filter(function(e){return null!=e&&i.has(e,"type")}).value()
if(t.length){var r=G(t)
if("paragraph"===e.type&&r.length){r[0]=r[0].replace(/^\s+/,"")
var n=r.length-1
r[n]=r[n].replace(/\s+$/,"")}return r}return[]}
var b=function j(e){var t=v(e)
var r=y(t).join("")
return r.length}
e.exports={characterCount:b,traverseContent:g,parse:v,parseInline:m,reactFor:a.reactFor,ruleOutput:a.ruleOutput(d,"react"),basicOutput:a.reactFor(a.ruleOutput(d,"react")),sanitizeUrl:a.sanitizeUrl}},function(e,t,r){"use strict"
var n=r(12)
var i=n.createClass({displayName:"QuestionParagraph",render:function a(){var e=this.props.className?"paragraph "+this.props.className:"paragraph"
return n.createElement("div",{className:e,"data-perseus-component-index":this.props.translationIndex,"data-perseus-paragraph-index":this.props.paragraphIndex},this.props.children)}})
e.exports=i},function(e,t,r){"use strict"
var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]
for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}
var i=r(14)
var a=r(12)
var o=r(13)
var s=r(2)
var l=r(75),p=l.containerSizeClass,u=l.getClassFromWidth
var c=a.createClass({displayName:"WidgetContainer",propTypes:{shouldHighlight:a.PropTypes.bool.isRequired,type:a.PropTypes.string,initialProps:a.PropTypes.object.isRequired},getInitialState:function h(){return{sizeClass:p.MEDIUM,widgetProps:this.props.initialProps}},componentDidMount:function d(){if(this.state.widgetProps.apiOptions.isMobile){var e=o.findDOMNode(this).offsetWidth
this.setState({sizeClass:u(e)})}},render:function f(){var e=i({"perseus-widget-container":true,"widget-highlight":this.props.shouldHighlight,"widget-nohighlight":!this.props.shouldHighlight})
var t=this.props.type
var r=s.getWidget(t)
if(null==r)return a.createElement("div",{className:e})
var o=this.state.widgetProps.alignment
"default"===o&&(o=s.getDefaultAlignment(t))
e+=" widget-"+o
var l=this.state.widgetProps.apiOptions
var p=this.state.widgetProps["static"]||l.readOnly
var u={position:"relative",overflow:"visible"}
var c={width:"100%",height:"100%",position:"absolute",top:0,left:0,zIndex:100}
return a.createElement("div",{className:e,style:p?u:{}},a.createElement(r,n({},this.state.widgetProps,{containerSizeClass:this.state.sizeClass,ref:"widget"})),p&&a.createElement("div",{style:c}))},componentWillReceiveProps:function v(e){if(this.props.type!==e.type)throw new Error("WidgetContainer can't change widget type; set a different key instead to recreate the container.")},shouldComponentUpdate:function m(e,t){return this.props.shouldHighlight!==e.shouldHighlight||this.props.type!==e.type||this.state.widgetProps!==t.widgetProps||this.state.sizeClass!==t.sizeClass},getWidget:function g(){return this.refs.widget},replaceWidgetProps:function y(e){this.setState({widgetProps:e})}})
e.exports=c},function(e,t,r){"use strict"
function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(){var t=this
n(this,e)
this.promise=new Promise(function(e,r){t.resolve=e
t.reject=r})}e.prototype.then=function t(e){return this.promise.then(e)}
return e}()
e.exports=i},function(e,t,r){e.exports={apiVersion:{major:8,minor:1},itemDataVersion:{major:0,minor:1}}},function(e,t,r){"use strict"
var n=r(11)
var i=r(18).shuffle
var a=r(92)
var o=function u(e,t){var r=function s(r){return e.randomize?i(r,t):r}
var a=function l(e){var t=null
var r=n.reject(e,function(e,r){if(e.isNoneOfTheAbove){t=e
return true}})
t&&r.push(t)
return r}
var o=e.choices.slice()
o=n.map(o,function(e,t){return n.extend({},e,{originalIndex:t})})
return a(r(o))}
var s=function c(e,t){var r=n.map(o(e,t),function(e){return n.omit(e,"correct")})
e=n.extend({},e,{choices:r})
return n.pick(e,"choices","hasNoneOfTheAbove","onePerLine","multipleSelect","correctAnswer","deselectEnabled")}
var l=function h(e,t){var r=o(e,t)
var i=n.pluck(r,"correct")
var a=n.pick(e,"hasNoneOfTheAbove","onePerLine","multipleSelect","correctAnswer","deselectEnabled")
var s=n.extend({},a,{choices:r,values:i})
return s}
var p={1:function d(e){var t
var r
if(e.noneOfTheAbove){t=n.clone(e.choices)
var i=n.random(0,e.choices.length-1)
var a=n.extend({},e.choices[i],{isNoneOfTheAbove:true})
t.splice(i,1)
t.push(a)
r=true}else{t=e.choices
r=false}return n.extend(n.omit(e,"noneOfTheAbove"),{choices:t,hasNoneOfTheAbove:r})}}
e.exports={name:"radio",displayName:"Multiple choice",accessible:true,widget:a,transform:s,staticTransform:l,version:{major:1,minor:0},propUpgrades:p}},function(e,t,r){"use strict"
var n=r(14)
var i=r(12)
var a=r(11)
var o=r(77)
var s=r(78)
var l=r(79).parseTex
var p=r(80)
var u=r(42)
var c=r(76).propTypes.keypadElementPropType
var h=r(19).ClassNames
var d=r(19).Options
var f={number:{name:"Numbers",forms:"integer, decimal, proper, improper, mixed"},decimal:{name:"Decimals",forms:"decimal"},integer:{name:"Integers",forms:"integer"},rational:{name:"Fractions and mixed numbers",forms:"integer, proper, improper, mixed"},improper:{name:"Improper numbers (no mixed)",forms:"integer, proper, improper"},mixed:{name:"Mixed numbers (no improper)",forms:"integer, proper, mixed"},percent:{name:"Numbers or percents",forms:"integer, decimal, proper, improper, mixed, percent"},pi:{name:"Numbers with pi",forms:"pi"}}
var v={integer:function y(e){return i18n._("an integer, like $6$")},proper:function b(e){return"optional"===e.simplify?i18n._("a *proper* fraction, like $1/2$ or $6/10$"):i18n._("a *simplified proper* fraction, like $3/5$")},improper:function T(e){return"optional"===e.simplify?i18n._("an *improper* fraction, like $10/7$ or $14/8$"):i18n._("a *simplified improper* fraction, like $7/4$")},mixed:function x(e){return i18n._("a mixed number, like $1\\ 3/4$")},decimal:function P(e){return i18n._("an *exact* decimal, like $0.75$")},percent:function E(e){return i18n._("a percent, like $12.34\\%$")},pi:function w(e){return i18n._("a multiple of pi, like $12\\ \\text{pi}$ or $2/3\\ \\text{pi}$")}}
var m=i.createClass({displayName:"InputNumber",propTypes:{answerType:i.PropTypes.oneOf(Object.keys(f)),currentValue:i.PropTypes.string,keypadElement:c,reviewModeRubric:i.PropTypes.object,widgetId:i.PropTypes.string.isRequired},getDefaultProps:function k(){return{currentValue:"",size:"normal",answerType:"number",apiOptions:d.defaults}},shouldShowExamples:function S(){return"number"!==this.props.answerType&&!this.props.apiOptions.staticRender},render:function C(){if(this.props.apiOptions.customKeypad)return i.createElement(s,{ref:"input",value:this.props.currentValue,keypadElement:this.props.keypadElement,onChange:this.handleChange,onFocus:this._handleFocus,onBlur:this._handleBlur})
var e=this.props.reviewModeRubric
var t=null
var r=null
if(e){var a=this.simpleValidate(e)
t="points"===a.type&&a.earned===a.total
if(!t){var l=String(e.value)
e.inexact&&e.maxError&&(l+=" ± "+e.maxError)
var u=[l]
r=i.createElement(p,{answers:u})}}var c={}
c["perseus-input-size-"+this.props.size]=true
c[h.CORRECT]=e&&t&&this.props.currentValue
c[h.INCORRECT]=e&&!t&&this.props.currentValue
c[h.UNANSWERED]=e&&!this.props.currentValue
var d=i.createElement(o,{ref:"input",value:this.props.currentValue,onChange:this.handleChange,className:n(c),type:this._getInputType(),examples:this.examples(),shouldShowExamples:this.shouldShowExamples(),onFocus:this._handleFocus,onBlur:this._handleBlur,id:this.props.widgetId,disabled:this.props.apiOptions.readOnly})
return r?i.createElement("span",{className:"perseus-input-with-answer-blurb"},d,r):d},handleChange:function M(e,t){this.props.onChange({currentValue:e},t)},_getInputType:function _(){return this.props.apiOptions.staticRender?"tex":"text"},_handleFocus:function N(){this.props.onFocus([])},_handleBlur:function I(){this.props.onBlur([])},focus:function R(){this.refs.input.focus()
return true},focusInputPath:function O(e){this.refs.input.focus()},blurInputPath:function A(e){this.refs.input.blur()},getInputPaths:function D(){return[[]]},getGrammarTypeForPath:function L(e){return"number"},setInputValue:function F(e,t,r){this.props.onChange({currentValue:t},r)},getUserInput:function q(){return{currentValue:this.props.currentValue}},simpleValidate:function B(e,t){t=t||function(){}
return m.validate(this.getUserInput(),e,t)},examples:function z(){var e=this.props.answerType
var t=f[e].forms.split(/\s*,\s*/)
var z=a.map(t,function(e){return v[e](this.props)},this)
return[i18n._("**Your answer should be** ")].concat(z)}})
a.extend(m,{validate:function U(e,t,r){null==t.answerType&&(t.answerType="number")
var n=u.number.createValidatorFunctional(t.value,{simplify:t.simplify,inexact:t.inexact||void 0,maxError:t.maxError,forms:f[t.answerType].forms})
var i=l(e.currentValue)
var a=n(i)
if(a.empty){var o=r(null,e.currentValue,a.message)
return{type:"invalid",message:false===o?null:a.message}}return{type:"points",earned:a.correct?1:0,total:1,message:a.message}}})
var g=function H(e){var t=e.simplify,r=e.size,n=e.answerType
return{simplify:t,size:r,answerType:n}}
e.exports={name:"input-number",displayName:"Number text box (old)",defaultAlignment:"inline-block",hidden:true,widget:m,transform:g}},function(e,t,r){"use strict"
var n=r(14)
var i=r(12)
var a=r(11)
var o=r(77)
var s=r(78)
var l=r(79).parseTex
var p=r(80)
var u=r(19).ClassNames
var c=r(19).Options
var h=r(42)
var d=r(81)
var f=r(76).propTypes.keypadElementPropType
var v=[{title:"Integers",value:"integer",content:"6"},{title:"Decimals",value:"decimal",content:"0.75"},{title:"Proper fractions",value:"proper",content:"⅗"},{title:"Improper fractions",value:"improper",content:"⁷⁄₄"},{title:"Mixed numbers",value:"mixed",content:"1¾"},{title:"Numbers with π",value:"pi",content:"π"}]
var m={integer:function T(){return i18n._("an integer, like $6$")},proper:function x(e){return"optional"===e.simplify?i18n._("a *proper* fraction, like $1/2$ or $6/10$"):i18n._("a *simplified proper* fraction, like $3/5$")},improper:function P(e){return"optional"===e.simplify?i18n._("an *improper* fraction, like $10/7$ or $14/8$"):i18n._("a *simplified improper* fraction, like $7/4$")},mixed:function E(){return i18n._("a mixed number, like $1\\ 3/4$")},decimal:function w(){return i18n._("an *exact* decimal, like $0.75$")},pi:function k(){return i18n._("a multiple of pi, like $12\\ \\text{pi}$ or $2/3\\ \\text{pi}$")}}
var g=i.createClass({displayName:"NumericInput",propTypes:{currentValue:i.PropTypes.string,size:i.PropTypes.oneOf(["normal","small"]),apiOptions:c.propTypes,coefficient:i.PropTypes.bool,answerForms:i.PropTypes.arrayOf(i.PropTypes.shape({name:i.PropTypes.string.isRequired,simplify:i.PropTypes.oneOf(["required","optional"]).isRequired})),keypadElement:f,labelText:i.PropTypes.string,reviewModeRubric:i.PropTypes.object,trackInteraction:i.PropTypes.func.isRequired,widgetId:i.PropTypes.string.isRequired},getDefaultProps:function S(){return{currentValue:"",size:"normal",apiOptions:c.defaults,coefficient:false,answerForms:[],labelText:""}},render:function C(){if(this.props.apiOptions.customKeypad)return i.createElement(s,{ref:"input",value:this.props.currentValue,keypadElement:this.props.keypadElement,onChange:this.handleChange,onFocus:this._handleFocus,onBlur:this._handleBlur})
var e
var t
var r=this.props.reviewModeRubric
if(r){var l=this.simpleValidate(r)
e="points"===l.type&&l.earned===l.total
if(!e){var c=a.filter(r.answers,function(e){return"correct"===e.status})
var h=a.map(c,function(e){var t="decimal"
e.answerForms&&e.answerForms[0]&&(t=e.answerForms[0])
var r=d.toNumericString(e.value,t)
e.maxError&&(r+=" ± "+d.toNumericString(e.maxError,t))
return r})
t=i.createElement(p,{answers:h})}}var f={}
f["perseus-input-size-"+this.props.size]=true
f[u.CORRECT]=r&&e&&this.props.currentValue
f[u.INCORRECT]=r&&!e&&this.props.currentValue
f[u.UNANSWERED]=r&&!this.props.currentValue
var v=this.props.labelText
null!=v&&""!==v||(v=i18n._("Your answer:"))
var m=i.createElement(o,{ref:"input",value:this.props.currentValue,onChange:this.handleChange,className:n(f),labelText:v,type:this._getInputType(),examples:this.examples(),shouldShowExamples:this.shouldShowExamples(),onFocus:this._handleFocus,onBlur:this._handleBlur,id:this.props.widgetId,disabled:this.props.apiOptions.readOnly})
return t?i.createElement("span",{className:"perseus-input-with-answer-blurb"},m,t):m},handleChange:function M(e,t){this.props.onChange({currentValue:e},t)
this.props.trackInteraction()},_getInputType:function _(){return this.props.apiOptions.staticRender?"tex":"text"},_handleFocus:function N(){this.props.onFocus([])},_handleBlur:function I(){this.props.onBlur([])},focus:function R(){this.refs.input.focus()
return true},focusInputPath:function O(e){this.refs.input.focus()},blurInputPath:function A(e){this.refs.input.blur()},getInputPaths:function D(){return[[]]},getGrammarTypeForPath:function L(e){return"number"},setInputValue:function F(e,t,r){this.props.onChange({currentValue:t},r)},getUserInput:function q(){return{currentValue:this.props.currentValue}},simpleValidate:function B(e){return g.validate(this.getUserInput(),e)},shouldShowExamples:function z(){var e=0===this.props.answerForms.length
var t=a.uniq(this.props.answerForms.map(function(e){return e.name}))
var r=t.length>=a.size(m)
return!e&&!r},examples:function U(){var e=0!==this.props.answerForms.length?this.props.answerForms:a.map(a.keys(m),function(e){return{name:e,simplify:"required"}})
var U=a.map(e,function(e){return m[e.name](e)})
U=a.uniq(U)
return[i18n._("**Your answer should be** ")].concat(U)}})
a.extend(g,{validate:function H(e,t){var r=a.pluck(v,"value")
var n=function c(e){return h.number.createValidatorFunctional(e.value,{message:e.message,simplify:"correct"===e.status?e.simplify:"optional",inexact:true,maxError:e.maxError,forms:e.strict&&e.answerForms&&0!==e.answerForms.length?e.answerForms:r})}
var i=l(e.currentValue)
var o=a.where(t.answers,{status:"correct"})
var s=a.find(a.map(o,function(e){var r=i
t.coefficient&&(r?"-"===r&&(r=-1):r=1)
var a=n(e)
return a(r)}),function(e){return e.correct||e.empty})
if(!s){var p=[].concat(a.where(t.answers,{status:"ungraded"}),a.where(t.answers,{status:"wrong"}))
var u=a.find(p,function(e){var t=n(e)
return t(i).correct})
s={empty:u?"ungraded"===u.status:false,correct:u?"correct"===u.status:false,message:u?u.message:null,guess:i}}return s.empty?{type:"invalid",message:s.message}:{type:"points",earned:s.correct?1:0,total:1,message:s.message}}})
var y=function W(e){var t=function i(e,t){return a.reduce(e,function(e,r){var n=a.find(e,t.bind(null,r))
return n?e:e.concat([r])},[])}
var r=a.flatten(e)
var n=t(r,a.isEqual)
return a.sortBy(n,function(e){return a.keys(m).indexOf(e.name)})}
var b=function V(e){var t=a.extend(a.omit(e,"answers"),{answerForms:y(a.map(e.answers,function(e){return a.map(e.answerForms,function(t){return{simplify:e.simplify,name:t}})}))})
return t}
e.exports={name:"numeric-input",displayName:"Number text box",defaultAlignment:"inline-block",accessible:true,widget:g,transform:b}},function(e,t,r){"use strict"
var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]
for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}
var i=r(14)
var a=r(12)
var o=r(13)
var s=r(82)
var l=r(11)
var p=r(19).Options
var u=r(83)
var p=r(19).Options
var c=r(19).ClassNames
var h=r(42)
var d=r(84)
var f=r(77)
var v=r(85)
var m=r(86)
var g=r(76).components.KeypadInput
var y=r(76).propTypes,b=y.keypadConfigurationPropType,T=y.keypadElementPropType
var x=r(76).consts.KeypadTypes
var P=r(87),E=P.iconExclamationSign
var w=r(41)
var k=i18n._("Sorry, I don't understand that!")
var S=["An expression without an answer","is no expression to me.","Who can learn from an input","like the one that I see?","Put something in there","won't you please?","A few digits will do -","might I suggest some threes?"].join("\n")
var C="This question is probably going to be too hard because the expression has no correct answer."
var M=function D(e){return'"'+e+'" is required to be simplified but is not considered simplified by our fancy computer algebra system. This will be graded as incorrect.'}
var _=function L(e){return'"'+e+"\" <- you sure that's math?"}
var N=function F(e){return"mind filling in answer "+e+"? (the blank one)"}
var I=function q(e){return e.replace(/([_^])([^{])/g,"$1{$2}")}
var R=a.createClass({displayName:"Expression",propTypes:n({},u.propTypes,{apiOptions:p.propTypes,buttonSets:m.buttonSetsType,buttonsVisible:a.PropTypes.oneOf(["always","never","focused"]),functions:a.PropTypes.arrayOf(a.PropTypes.string),keypadConfiguration:b,keypadElement:T,times:a.PropTypes.bool,trackInteraction:a.PropTypes.func.isRequired,value:a.PropTypes.string,widgetId:a.PropTypes.string.isRequired}),getDefaultProps:function B(){return{value:"",times:false,functions:[],buttonSets:["basic","trig","prealgebra","logarithms"],onFocus:function e(){},onBlur:function t(){},apiOptions:p.defaults}},getInitialState:function z(){return{showErrorTooltip:false,showErrorText:false}},change:function U(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r]
return u.change.apply(this,t)},parse:function H(e,t){var r=l.pick(t||this.props,"functions")
window.icu&&window.icu.getDecimalFormatSymbols&&l.extend(r,window.icu.getDecimalFormatSymbols())
return KAS.parse(I(e),r)},render:function W(){var e=this
if(this.props.apiOptions.customKeypad)return a.createElement(g,{ref:"input",value:this.props.value,keypadElement:this.props.keypadElement,onChange:this.changeAndTrack,onFocus:function n(){e.props.keypadElement.configure(e.props.keypadConfiguration,function(){e.isMounted()&&e._handleFocus()})},onBlur:this._handleBlur})
if(this.props.apiOptions.staticRender)return a.createElement(f,{ref:"input",value:this.props.value,type:"tex",examples:[],shouldShowExamples:false,onChange:this.changeAndTrack,onFocus:this._handleFocus,onBlur:this._handleBlur,id:this.props.widgetId})
var t=a.createElement("span",{className:"error-tooltip"},a.createElement(s,{className:"error-text-container",horizontalPosition:"right",horizontalAlign:"left",verticalPosition:"top",arrowSize:10,borderColor:"#fcc335",show:this.state.showErrorText},a.createElement("span",{className:"error-icon",onMouseEnter:function o(){e.setState({showErrorText:true})},onMouseLeave:function l(){e.setState({showErrorText:false})},onClick:function p(){e.setState({showErrorText:!e.state.showErrorText})}},a.createElement(d,E)),a.createElement("div",{className:"error-text"},k)))
var r=i({"perseus-widget-expression":true,"show-error-tooltip":this.state.showErrorTooltip})
return a.createElement("span",{className:r},a.createElement(v,{ref:"input",className:c.INTERACTIVE,value:this.props.value,onChange:this.changeAndTrack,convertDotToTimes:this.props.times,buttonsVisible:this.props.buttonsVisible||"focused",buttonSets:this.props.buttonSets,onFocus:this._handleFocus,onBlur:this._handleBlur}),this.state.showErrorTooltip&&t)},changeAndTrack:function V(e,t){this.change("value",e,t)
this.props.trackInteraction()},_handleFocus:function G(){this.props.onFocus([])},_handleBlur:function j(){this.props.onBlur([])},errorTimeout:null,componentWillReceiveProps:function Y(e){var t=this
if(!l.isEqual(this.props.value,e.value)||!l.isEqual(this.props.functions,e.functions)){clearTimeout(this.errorTimeout)
this.parse(e.value,e).parsed?this.setState({showErrorTooltip:false}):this.errorTimeout=setTimeout(function(){var e=t.props.apiOptions.onInputError(null,t.props.value,k)
false!==e&&t.setState({showErrorTooltip:true})},2e3)}},componentWillUnmount:function K(){clearTimeout(this.errorTimeout)},focus:function X(){this.props.apiOptions.customKeypad&&this.refs.input.focus()
return true},focusInputPath:function Q(e){this.refs.input.focus()},blurInputPath:function Z(e){this.refs.input.blur()},insert:function J(e){this.props.apiOptions.staticRender||this.refs.input.insert(e)},getInputPaths:function et(){return[[]]},getGrammarTypeForPath:function tt(e){return"expression"},setInputValue:function rt(e,t,r){this.props.onChange({value:t},r)},getAcceptableFormatsForInputPath:function nt(){return null},getUserInput:function it(){return I(this.props.value)},simpleValidate:function at(e,t){t=t||function(){}
return R.validate(this.getUserInput(),e,t)}})
l.extend(R,{validate:function ot(e,t,r){var n=l.clone(t)
window.icu&&window.icu.getDecimalFormatSymbols&&l.extend(n,window.icu.getDecimalFormatSymbols())
var i=function d(e){return h.expression.createValidatorFunctional(KAS.parse(e.value,t).expr,l({}).extend(n,{simplify:e.simplify,form:e.form}))}
var a
var o
var s=true
var p=!!l(t.answerForms).find(function(t){var r=i(t)
a=r(e)
o=t
s=s&&a.empty
return a.correct})
var u=a&&a.message
if(p){if("ungraded"===o.considered){var c=r(null,e,u)
return{type:"invalid",message:false===c?null:u}}return{type:"points",earned:"correct"===o.considered?1:0,total:1,message:u}}return s?{type:"invalid",message:null}:{type:"points",earned:0,total:1}}})
var O=function st(e){var t=x.EXPRESSION
var r={}
var n={}
for(var i=e.answerForms,a=Array.isArray(i),o=0,i=a?i:i[Symbol.iterator]();;){var s
if(a){if(o>=i.length)break
s=i[o++]}else{o=i.next()
if(o.done)break
s=o.value}var l=s
var p=KAS.parse(l.value,e)
p.parsed&&!function(){var e=p.expr
var t=function m(e){return"pi"===e||"theta"===e}
var i=function g(e){return t(e)?e.toUpperCase():e}
for(var a=e.getVars(),o=Array.isArray(a),s=0,a=o?a:a[Symbol.iterator]();;){var l
if(o){if(s>=a.length)break
l=a[s++]}else{s=a.next()
if(s.done)break
l=s.value}var u=l
r[i(u)]=true}for(var c=e.getConsts(),h=Array.isArray(c),d=0,c=h?c:c[Symbol.iterator]();;){var f
if(h){if(d>=c.length)break
f=c[d++]}else{d=c.next()
if(d.done)break
f=d.value}var v=f
n[i(v)]=true}}()}var u=Object.keys(r)
u.sort()
var c=Object.keys(n)
c.sort()
var h=[].concat(u,c)
h.length||h.push("PI")
return{keypadType:t,extraKeys:h}}
var A={1:function lt(e){return{times:e.times,buttonSets:e.buttonSets,functions:e.functions,buttonsVisible:e.buttonsVisible,answerForms:[{considered:"correct",form:e.form,simplify:e.simplify,value:e.value,key:0}]}}}
e.exports={name:"expression",displayName:"Expression / Equation",defaultAlignment:"inline-block",widget:R,transform:function pt(e){var t=e.times,r=e.functions,n=e.buttonSets,i=e.buttonsVisible
return{keypadConfiguration:O(e),times:t,functions:r,buttonSets:n,buttonsVisible:i}},version:{major:1,minor:0},propUpgrades:A,Expression:R}},function(e,t,r){"use strict"
var n=r(12)
var i=r(13)
var a=r(76).components.Keypad
var o={propTypes:{apiOptions:n.PropTypes.shape({customKeypad:n.PropTypes.bool}),keypadStyle:n.PropTypes.any},getInitialState:function s(){return{keypadElement:null}},componentDidMount:function l(){var e=this
if(this.props.apiOptions&&this.props.apiOptions.customKeypad){this._keypadContainer=document.createElement("div")
document.body.appendChild(this._keypadContainer)
i.render(n.createElement(a,{onElementMounted:function t(r){e.setState({keypadElement:r})},onDismiss:function r(){e.blur&&e.blur()},style:this.props.keypadStyle}),this._keypadContainer)}},componentWillUnmount:function p(){if(this._keypadContainer){i.unmountComponentAtNode(this._keypadContainer)
this._keypadContainer.parentNode&&this._keypadContainer.parentNode.removeChild(this._keypadContainer)
this._keypadContainer=null}},keypadElement:function u(){return this.state.keypadElement}}
e.exports=o},function(e,t,r){"use strict"
var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]
for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}
var i=r(12)
var a=r(19).Options
var o={propTypes:{apiOptions:i.PropTypes.any},getDefaultProps:function s(){return{apiOptions:{}}},getApiOptions:function l(){return n({},a.defaults,this.props.apiOptions)}}
e.exports=o},function(e,t,r){"use strict"
var n=r(11)
var i=function s(e,t){return n.object(n.map(e,function(e,r){return[r,e[t]]}))}
var a=function l(e,t){var r={}
n.each(n.keys(e),function(n){r[n]=t(e[n],n)})
return r}
var o=function p(e,t){var r={}
n.each(e,function(e){r[e]=t(e)})
return r}
e.exports={pluck:i,mapObject:a,mapObjectFromArray:o}},function(e,t,r){"use strict"
var n=r(14)
var i=r(12)
var $=r(16)
var a=r(11)
var o=r(88)
var s=r(89)
var l=r(90)
var p=r(18)
var u=r(91)
var c=700
var h={}
var d=function I(e,t){t=a.extend({},{callbackName:"callback",success:$.noop,error:$.noop},t)
var r=document.createElement("script")
r.setAttribute("async","")
r.setAttribute("src",e)
function n(){document.head.removeChild(r)
delete window[t.callbackName]}window[t.callbackName]=function(){n()
t.success.apply(null,arguments)}
r.addEventListener("error",function(){n()
t.error.apply(null,arguments)})
document.head.appendChild(r)}
var f=/^web\+graphie\:/
var v=/\/([^\/]+)$/
function m(e){return f.test(e)}function g(e){return/\.(jpg|jpeg)$/i.test(e)}function y(e){var t="http:"===window.location.protocol?"http:":"https:"
return e.replace(f,t)}function b(e){return y(e)+".svg"}function T(e){return y(e)+"-data.json"}function x(){return"undefined"!==typeof KA&&"en"!==KA.language}function P(){return"undefined"!==typeof KA&&"en-pt"===KA.language}var E={"\\a":"","\\b":"\b","\\t":"	","\\n":"\n","\\v":"","\\f":"\f","\\r":"\r","\\\\":"\\"}
var w=/\\a|\\b|\\t|\\n|\\v|\\f|\\r|\\\\/g
var k=[]
if(P()){KA.jipt_dom_insert_checks||(KA.jipt_dom_insert_checks=[])
KA.jipt_dom_insert_checks.push(function(e,t,r){var n=$(t).data("jipt-label-index")
if(t&&"undefined"!==typeof n){var i=k[n],a=i.label,o=i.useMath
a.text("")
e=e.replace(w,function(e){return E[e]})
if(o){var s=/^\$(.*)\$$/
var l=e.match(s)
var p=l?l[1]:"\\color{red}{\\text{Invalid Math}}"
a.processMath(p,true)}else a.processText(e)
return false}return e})}var S=/\/(?=[^\/]+$)/
function C(e){if("undefined"!==typeof KA){var t=y(e).split(S),r=t[0],n=t[1]
return r+"/"+KA.language+"/"+n+"-data.json"}return T(e)}function M(e){var t=e.match(v)
return t&&t[1]}function _(){return i.DOM.span({style:{background:"url(/images/throbber.gif) no-repeat",backgroundPosition:"center",width:"100%",height:"100%",position:"absolute",minWidth:"20px"}})}var N=i.createClass({displayName:"SvgImage",propTypes:{allowFullBleed:i.PropTypes.bool,alt:i.PropTypes.string,constrainHeight:i.PropTypes.bool,extraGraphie:i.PropTypes.shape({box:i.PropTypes.array.isRequired,range:i.PropTypes.array.isRequired,labels:i.PropTypes.array.isRequired}),height:i.PropTypes.number,onUpdate:i.PropTypes.func,preloader:i.PropTypes.func,responsive:i.PropTypes.bool,scale:i.PropTypes.number,src:i.PropTypes.string.isRequired,title:i.PropTypes.string,trackInteraction:i.PropTypes.func,width:i.PropTypes.number,zoomToFullSizeOnMobile:i.PropTypes.bool},statics:{getRealImageUrl:function R(e){return m(e)?b(e):e}},getDefaultProps:function O(){return{constrainHeight:false,onUpdate:function e(){},responsive:true,src:"",scale:1,zoomToFullSizeOnMobile:false}},getInitialState:function A(){return{imageLoaded:false,imageDimensions:null,dataLoaded:false,labels:[],range:[[0,0],[0,0]]}},componentDidMount:function D(){m(this.props.src)&&this.loadResources()},componentWillReceiveProps:function L(e){this.props.src!==e.src&&this.setState({imageLoaded:false,dataLoaded:false})},shouldComponentUpdate:function F(e,t){if(!a.isEqual(this.props,e))return true
if(!m(e.src))return false
var r=this.isLoadedInState(this.state)
var n=this.isLoadedInState(t)
return r!==n},componentDidUpdate:function q(){m(this.props.src)&&!this.isLoadedInState(this.state)&&this.loadResources()},isLoadedInState:function B(e){return e.imageLoaded&&e.dataLoaded},loadResources:function z(){var e=this
var t=M(this.props.src)
if(h[t])h[t].loaded?this.onDataLoaded(h[t].data):h[t].dataCallbacks.push(this.onDataLoaded)
else{var r={loaded:false,dataCallbacks:[this.onDataLoaded],data:null}
h[t]=r
var n=function i(e,n){d(e,{callbackName:"svgData"+t,success:function i(e){r.data=e
r.loaded=true
a.each(r.dataCallbacks,function(e){e(r.data)})},error:n})}
x()?n(C(this.props.src),function(t,r,i){n(T(e.props.src),function(t,r,n){console.error("Data load failed:",T(e.props.src),n)})}):n(T(this.props.src),function(t,r,n){console.error("Data load failed:",T(e.props.src),n)})}},onDataLoaded:function U(e){this.isMounted()&&e.labels&&e.range&&this.setState({dataLoaded:true,labels:e.labels,range:e.range})},sizeProvided:function H(){return null!=this.props.width&&null!=this.props.height},onImageLoad:function W(){var e=this
this.sizeProvided()?this.setState({imageLoaded:true}):p.getImageSize(this.props.src,function(t,r){e.isMounted()&&e.setState({imageLoaded:true,imageDimensions:[t,r]})})},setupGraphie:function V(e,t){var r=this
a.map(t.labels,function(t){if(P()){var n=e.label(t.coordinates,t.content,t.alignment,false)
$(n).data("jipt-label-index",k.length)
k.push({label:n,useMath:t.typesetAsMath})}else if(t.coordinates){var i=e.label(t.coordinates,t.content,t.alignment,t.typesetAsMath,{"font-size":100*r.props.scale+"%"})
var o=i.position()
var s=r.props.height*r.props.scale
var l=r.props.width*r.props.scale
i.css({top:o.top/s*100+"%",left:o.left/l*100+"%"})
a.each(t.style,function(e,t){i.css(t,e)})}})},_handleZoomClick:function G(e){var t=$(e.target);(t.width()<this.props.width||this.props.zoomToFullSizeOnMobile)&&u.ZoomService.handleZoomClick(e,this.props.zoomToFullSizeOnMobile)
this.props.trackInteraction&&this.props.trackInteraction()},render:function j(){var e=this.props.src
var t={alt:this.props.alt,title:this.props.title}
var r=this.props.width&&this.props.width*this.props.scale
var p=this.props.height&&this.props.height*this.props.scale
var u={width:r,height:p}
var h=this.props.responsive&&!!(r&&p)
var d
this.props.extraGraphie&&this.props.extraGraphie.labels.length&&(d=i.createElement(s,{box:this.props.extraGraphie.box,range:this.props.extraGraphie.range,options:{labels:this.props.extraGraphie.labels},responsive:true,addMouseLayer:false,setup:this.setupGraphie}))
var f=void 0===this.props.preloader?_:this.props.preloader
var v=f?function(){return f(u)}:null
if(!m(e)){if(h){var y=n({zoomable:r>c,"svg-image":true})
t.onClick=this._handleZoomClick
return i.createElement(o,{className:y,width:r,height:p,constrainHeight:this.props.constrainHeight,allowFullBleed:this.props.allowFullBleed&&g(e)},i.createElement(l,{src:e,imgProps:t,preloader:v,onUpdate:this.props.onUpdate}),d)}t.style=u
return i.createElement(l,{src:e,preloader:v,imgProps:t,onUpdate:this.props.onUpdate})}var T=b(e)
var x
if(this.isLoadedInState(this.state)){var P
P=this.sizeProvided()?[r,p]:[this.state.imageDimensions[0]*this.props.scale,this.state.imageDimensions[1]*this.props.scale]
var E=[40*this.props.scale,40*this.props.scale]
x=i.createElement(s,{ref:"graphie",box:P,scale:E,range:this.state.range,options:a.pick(this.state,"labels"),responsive:h,addMouseLayer:false,setup:this.setupGraphie})}if(h)return i.createElement(o,{className:"svg-image",width:r,height:p,constrainHeight:this.props.constrainHeight},i.createElement(l,{src:T,onLoad:this.onImageLoad,onUpdate:this.props.onUpdate,preloader:v,imgProps:t}),x,d)
t.style=u
return i.createElement("div",{className:"unresponsive-svg-image",style:u},i.createElement(l,{src:T,onLoad:this.onImageLoad,onUpdate:this.props.onUpdate,preloader:v,imgProps:t}),x)}})
e.exports=N},function(e,t,r){"use strict"
var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]
for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}
var i=r(12)
var a=r(13)
var o=r(25)
var s=i.createClass({displayName:"Zoomable",propTypes:{animateHeight:i.PropTypes.bool,children:i.PropTypes.element.isRequired,computeChildBounds:i.PropTypes.func,readyToMeasureDeferred:i.PropTypes.shape({then:i.PropTypes.func.isRequired,reject:i.PropTypes.func.isRequired}).isRequired},getDefaultProps:function l(){var e=new o
e.resolve()
return{animateHeight:false,readyToMeasureDeferred:e,computeChildBounds:function t(e){var t=e.firstElementChild
return{width:t.offsetWidth+1,height:t.offsetHeight+1}}}},getInitialState:function p(){return{visible:false,marginBottomPx:0,zoomed:true}},componentDidMount:function u(){var e=this
this._node=a.findDOMNode(this)
this.props.readyToMeasureDeferred.then(function(){if(e.isMounted()){e.scaleChildToFit(false)
if(window.MutationObserver){e._observer=new MutationObserver(function(t){if(e.isMounted())for(var r=t,n=Array.isArray(r),i=0,r=n?r:r[Symbol.iterator]();;){var a
if(n){if(i>=r.length)break
a=r[i++]}else{i=r.next()
if(i.done)break
a=i.value}var o=a
if(o.target!==e._node){e.scaleChildToFit(e.state.zoomed)
break}}})
e._observer.observe(e._node,{childList:true,subtree:true,attributes:true})}window.addEventListener("resize",e.reset)}})},componentWillUnmount:function c(){window.removeEventListener("resize",this.reset)
this._observer&&this._observer.disconnect()},reset:function h(){var e=this
if(!this.isMounted())return
if(!this.state.visible)return
this._originalWidth=null
this.setState({visible:false,compactHeight:null,expandedHeight:null,zoomed:true},function(){e.scaleChildToFit(false)})},stopPropagationIfZoomed:function d(e){this.state.zoomed||e.stopPropagation()},scaleChildToFit:function f(e){var t=this
var r={width:this._node.offsetWidth,height:this._node.offsetHeight}
var n=this.props.computeChildBounds(this._node,r)
var i=n.width
var a=n.height
if(i>r.width){var o=r.width/i
this.setState({scale:o,zoomed:e,compactHeight:Math.ceil(o*a),expandedHeight:a})
setTimeout(function(){t.isMounted()&&t.setState({visible:true})})}else this.setState({visible:true})},handleClickIfZoomed:function v(e){if(!this.state.zoomed){e.stopPropagation()
this.handleClick()}},handleClick:function m(){this.setState({zoomed:!this.state.zoomed})},render:function g(){var e=this.state,t=e.visible,r=e.scale,a=e.compactHeight,o=e.expandedHeight,s=e.zoomed
var l=this.props.animateHeight
var p=l?"opacity transform height":"opacity transform"
var u=t?{transitionProperty:p,WebkitTransitionProperty:p,msTransitionProperty:p,transitionDuration:"0.3s",WebkitTransitionDuration:"0.3s",msTransitionDuration:"0.3s",transitionTimingFunction:"ease-out",WebkitTransitionTimingfunction:"ease-out",msTransitionTmingFunction:"ease-out"}:{}
var c=t?"":" translate(0, 8px)"
var h=s?"scale(1, 1) "+c:"scale("+r+", "+r+") "+c
var d=n({display:"block",width:"100%",height:s?o:a,transform:h,WebkitTransform:h,msTransform:h,transformOrigin:"0 0",WebkitTransformOrigin:"0 0",msTransformOrigin:"0 0",opacity:t?1:0,WebkitTapHighlightColor:"transparent"},u)
return i.createElement("span",{onClick:this.handleClick,onClickCapture:this.handleClickIfZoomed,onTouchCancelCapture:this.stopPropagationIfZoomed,onTouchEndCapture:this.stopPropagationIfZoomed,onTouchStartCapture:this.stopPropagationIfZoomed,style:d},this.props.children)}})
e.exports=s},function(e,t,r){"use strict"
var n=r(38),i=n.pureXsMax,a=n.pureSmMin,o=n.pureSmMax,s=n.pureMdMin,l=n.pureMdMax,p=n.pureLgMin,u=n.pureLgMax,c=n.pureXlMin
e.exports={xs:"@media screen and (max-width: "+i+")",sm:"@media screen and (min-width: "+a+") and "+("(max-width: "+o+")"),md:"@media screen and (min-width: "+s+") and "+("(max-width: "+l+")"),lg:"@media screen and (min-width: "+p+") and "+("(max-width: "+u+")"),xl:"@media screen and (min-width: "+c+"))",smOrSmaller:"@media screen and (max-width: "+o+")",mdOrSmaller:"@media screen and (max-width: "+l+")",lgOrSmaller:"@media screen and (max-width: "+u+")",smOrLarger:"@media screen and (min-width: "+a+")",mdOrLarger:"@media screen and (min-width: "+s+")",lgOrLarger:"@media screen and (min-width: "+p+")"}},function(e,t,r){"use strict"
var n,i,a,o
var s=r(15),l=s.StyleSheet
var p=r(36)
var u=r(38),c=u.zIndexAboveScratchpad,h=u.zIndexInteractiveComponent,d=u.radioBorderColor,f=u.checkedColor,v=u.circleSize
e.exports=l.create({perseusInteractive:{zIndex:h,position:"relative"},aboveScratchpad:{position:"relative",zIndex:c},blankBackground:{backgroundColor:"#FDFDFD"},perseusSrOnly:{border:0,clip:"rect(0,0,0,0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",width:1},responsiveLabel:(n={},n[p.smOrSmaller]={fontSize:14,lineHeight:1.3},n[p.md]={fontSize:17,lineHeight:1.4},n[p.lgOrLarger]={fontSize:20,lineHeight:1.4},n),responsiveInput:(i={},i[p.lgOrSmaller]={display:"inline-block",WebkitAppearance:"none",appearance:"none",backgroundColor:"#fff",border:"2px solid #fff",boxShadow:"0 0px 0px 1px "+d,outline:"none",boxSizing:"border-box",flexShrink:0,marginBottom:0,marginLeft:15,marginRight:15,marginTop:0,height:v,width:v},i),responsiveRadioInput:(a={},a[p.lgOrSmaller]={borderRadius:"50%",":checked":{backgroundColor:f,border:"2px solid #fff",borderRadius:"50%",boxShadow:"0 0px 0px 2px "+f,height:v,width:v}},a),responsiveMobileRadioInput:(o={},o[p.lgOrSmaller]={display:"none"},o),disableTextSelection:{userSelect:"none"}})},function(e,t,r){"use strict"
e.exports={baseFontFamily:"'Proxima Nova',sans-serif",boldFontFamily:"'Proxima Nova Semibold',sans-serif",green:"#76A005",kaGreen:"#71B307",blue:"#1C758A",gray:"#AAAAAA",red:"#FFBABA",questionWidth:"480px",grayLight:"#AAAAAA",grayLighter:"#DDDDDD",learnstormBlue:"#4898FC",white:"#FFFFFF",gray98:"#FAFAFA",gray97:"#F6F7F7",gray95:"#F0F1F2",gray90:"#E3E5E6",gray85:"#D6D8DA",gray76:"#BABEC2",gray68:"#888D93",gray41:"#626569",gray25:"#3B3e40",gray17:"#21242c",black:"#000000",pureSmMin:"568px",pureMdMin:"768px",pureLgMin:"1024px",pureXlMin:"1280px",pureXsMax:"567px",pureSmMax:"767px",pureMdMax:"1023px",pureLgMax:"1279px",tableBackgroundAccent:"#F9F9F9",satBlue:"#0084CE",satSelectedBackgroundColor:"#E4F3F9",satActiveBackgroundColor:"#D0EDF4",satCorrectColor:"#009900",satCorrectBorderColor:"#00CC00",satCorrectBackgroundColor:"#E4F7E4",satIncorrectColor:"#990000",satIncorrectBorderColor:"#CC5252",satIncorrectBackgroundColor:"#F2EBEB",zIndexScratchPad:"1",zIndexAboveScratchpad:"2",zIndexInteractiveComponent:"3",zIndexCurrentlyDragging:"4",zIndexCalculator:"5",phoneMargin:16,negativePhoneMargin:-16,hintBorderWidth:4,baseUnitPx:16,interactiveSizes:{defaultBoxSize:400,defaultBoxSizeSmall:288},circleSize:20}
e.exports.radioBorderColor=e.exports.gray76
e.exports.checkedColor=e.exports.kaGreen},function(e,t,r){"use strict"
e.exports=function(e){return e.replace(/\{align[*]?\}/g,"{aligned}").replace(/[\u00a0]/g," ")}},function(e,t,r){"use strict"
var n=r(93)
var i=r(12)
var a=r(13)
var o=r(94)
var s=[]
var l=[]
var p=false
var u=function v(e,t){s.push(e)
l.push(t)
if(!p){p=true
setTimeout(h,0)}}
var c=function m(e){if("undefined"!==typeof MathJax)e()
else{if("undefined"===typeof Khan||!Khan.mathJaxLoaded)throw new Error("MathJax wasn't loaded before it was needed by <TeX/>")
Khan.mathJaxLoaded.then(e)}}
var h=function g(){c(function(){MathJax.Hub.Queue(function(){var e=MathJax.Hub.elementScripts
MathJax.Hub.elementScripts=function(e){return s}
try{return MathJax.Hub.Process(null,function(){for(var e=l,t=Array.isArray(e),r=0,e=t?e:e[Symbol.iterator]();;){var n
if(t){if(r>=e.length)break
n=e[r++]}else{r=e.next()
if(r.done)break
n=r.value}var i=n
i()}s=[]
l=[]
p=false})}catch(t){throw t}finally{MathJax.Hub.elementScripts=e}})})}
var d={border:0,clip:"rect(0,0,0,0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px"}
var f=i.createClass({displayName:"TeX",propTypes:{children:i.PropTypes.node,onClick:i.PropTypes.func,onRender:i.PropTypes.func,style:i.PropTypes.any},mixins:[n],getDefaultProps:function y(){return{onRender:function e(){},onClick:null}},componentDidMount:function b(){var e=this
this._root=a.findDOMNode(this)
if(this.refs.katex.childElementCount>0){this.props.onRender(this._root)
return}var t=this.props.children
this.setScriptText(t)
u(this.script,function(){return e.props.onRender(e._root)})},componentDidUpdate:function T(e,t){var r=this
if(this.refs.katex.childElementCount>0){this.script&&c(function(){var e=MathJax.Hub.getJaxFor(r.script)
e&&e.Remove()})
this.props.onRender()
return}var n=this.props.children
if(this.script)c(function(){MathJax.Hub.Queue(function(){var e=MathJax.Hub.getJaxFor(r.script)
if(e)return e.Text(n,r.props.onRender)
r.setScriptText(n)
u(r.script,r.props.onRender)})})
else{this.setScriptText(n)
u(this.script,this.props.onRender)}},componentWillUnmount:function x(){var e=this
this.script&&c(function(){var t=MathJax.Hub.getJaxFor(e.script)
t&&t.Remove()})},setScriptText:function P(e){if(!this.script){this.script=document.createElement("script")
this.script.type="math/tex"
a.findDOMNode(this.refs.mathjax).appendChild(this.script)}"text"in this.script?this.script.text=e:this.script.textContent=e},render:function E(){var e=null
try{e={__html:katex.renderToString(this.props.children)}}catch(t){if(t.__proto__!==katex.ParseError.prototype)throw t}var r=null
if(e)try{r={__html:o.renderString(this.props.children)}}catch(t){}return i.createElement("span",{style:this.props.style,onClick:this.props.onClick},i.createElement("span",{ref:"mathjax"}),i.createElement("span",{ref:"katex",dangerouslySetInnerHTML:e,"aria-hidden":!!e&&!!r}),i.createElement("span",{dangerouslySetInnerHTML:r,style:d}))}})
e.exports=f},function(e,t,r){var n=r(95)
var i=n.clone
var a=n.isObject
var o=n.merge
var s=r(96)
var l=r(97)
var p=r(98)
var u=function(e){if(Array.isArray(e)){return s}else if(a(e)){return l}else if(typeof e==="string"){return p}}
var c=function(e){if(e instanceof c){return e}if(!(this instanceof c)){return new c(e)}var t=u(e)
this._wrapped=t.thaw?t.thaw(e):e}
c.prototype.freeze=function(){var e=this._wrapped
var t=u(e)
return t.freeze?t.freeze(e):e}
c.prototype.zoom=function(e){if(this._zoomStack===undefined){this._zoomStack=[]}this._zoomStack.push({zoom:e,wrapped:this._wrapped})
this._wrapped=c(this._wrapped).get(e)
return this}
c.prototype.deZoom=function(){var e=this._zoomStack.pop()
this._wrapped=c(e.wrapped).set(e.zoom,this._wrapped).freeze()
return this}
c.prototype.get=function(e){var t=this._wrapped
for(var r=0;r<e.length;r++){t=u(t).get(t,e[r])}return t}
c.prototype.mod=function(e,t){var r=this._wrapped
var n=i(r)
var a=u(r)
if(e.length===0){this._wrapped=t(this._wrapped)}else if(e.length===1){this._wrapped=a.mod(n,e[0],t)}else{var o=e[0]
var s=e.slice(1)
n[o]=c(r[o]).mod(s,t).freeze()
this._wrapped=n}return this}
c.prototype.merge=function(e,t){this._wrapped=c(this._wrapped).mod(e,function(e){return o(e,t)}).freeze()
return this}
c.prototype.del=function(e){var t=this._wrapped
var r=u(t)
if(e.length===1){this._wrapped=r.del(t,e[0])}else{var n=e[0]
var a=e.slice(1)
var o=i(t)
o[n]=c(t[n]).del(a).freeze()
this._wrapped=o}return this}
c.prototype.set=function(e,t){return this.mod(e,function(){return t})}
e.exports=c},function(e,t,r){"use strict"
var $=r(16)
var n=r(11)
var i=r(81)
var a=Math.pow(2,-42)
var o={predicate:{defaultForms:"integer, proper, improper, mixed, decimal",createValidatorFunctional:function s(e,t){t=n.extend({simplify:"required",ratio:false,forms:o.predicate.defaultForms},t)
var r=void 0
r=n.isArray(t.forms)?t.forms:t.forms.split(/\s*,\s*/)
void 0===t.inexact&&(t.maxError=0)
t.maxError=+t.maxError+a
if(n.contains(r,"percent")){r=n.without(r,"percent")
r.push("percent")}var s=function p(e){e=e.replace(/\u2212/,"-").replace(/([+-])\s+/g,"$1").replace(/(^\s*)|(\s*$)/gi,"")
var r=e.match(/^([+-]?\d+)\s*\/\s*([+-]?\d+)$/)
var n=parseInt(e,10)
if(r){var a=parseFloat(r[1])
var o=parseFloat(r[2])
var s=o>0&&(t.ratio||"1"!==r[2])&&1===i.getGCD(a,o)
return[{value:a/o,exact:s}]}if(!isNaN(n)&&""+n===e)return[{value:n,exact:true}]
return[]}
var l={integer:function u(e){var t=l.decimal(e)
var r=l.decimal(e,1)
if(null!=t[0].value&&t[0].value===r[0].value||null!=t[1].value&&t[1].value===r[1].value)return t
return[]},proper:function c(e){return $.map(s(e),function(e){return Math.abs(e.value)<1?[e]:[]})},improper:function h(e){return $.map(s(e),function(e){return Math.abs(e.value)>=1?[e]:[]})},pi:function d(e){var t=void 0
var r=[]
e=e.replace(/\u2212/,"-")
if(t=e.match(/^([+-]?)\s*(\\?pi|p|\u03c0|\\?tau|t|\u03c4|pau)$/i))r=[{value:parseFloat(t[1]+"1"),exact:true}]
else if(t=e.match(/^([+-]?\s*\d+\s*(?:\/\s*[+-]?\s*\d+)?)\s*\*?\s*(\\?pi|p|\u03c0|\\?tau|t|\u03c4|pau)$/i))r=s(t[1])
else if(t=e.match(/^([+-]?)\s*(\d+)\s*([+-]?\d+)\s*\/\s*([+-]?\d+)\s*\*?\s*(\\?pi|p|\u03c0|\\?tau|t|\u03c4|pau)$/i)){var a=parseFloat(t[1]+"1")
var p=parseFloat(t[2])
var u=parseFloat(t[3])
var c=parseFloat(t[4])
var h=u<c&&1===i.getGCD(u,c)
r=[{value:a*(p+u/c),exact:h}]}else if(t=e.match(/^([+-]?\s*\d+)\s*\*?\s*(\\?pi|p|\u03c0|\\?tau|t|\u03c4|pau)\s*(?:\/\s*([+-]?\s*\d+))?$/i))r=s(t[1]+"/"+t[3])
else if(t=e.match(/^([+-]?)\s*\*?\s*(\\?pi|p|\u03c0|\\?tau|t|\u03c4|pau)\s*(?:\/\s*([+-]?\d+))?$/i))r=s(t[1]+"1/"+t[3])
else if("0"===e)r=[{value:0,exact:true}]
else{if(!(t=e.match(/^(.+)\s*\*?\s*(\\?pi|p|\u03c0|\\?tau|t|\u03c4|pau)$/i))){r=n.reduce(o.predicate.defaultForms.split(/\s*,\s*/),function(t,r){return t.concat(l[r](e))},[])
var d=false
var f=parseFloat(e)
if(isNaN(f)||f===parseInt(e))e.match(/\/\s*7/)&&(d=true)
else{var v=Math.PI/12
var m=v*Math.round(f/v)
Math.abs(f-m)<.01&&(d=true)}d&&n.each(r,function(e){e.piApprox=true})
return r}r=l.decimal(t[1])}var g=Math.PI
e.match(/\\?tau|t|\u03c4/)&&(g=2*Math.PI)
e.match(/pau/)&&(g=1.5*Math.PI)
$.each(r,function(e,t){t.value*=g})
return r},coefficient:function f(e){var t=[]
e=e.replace(/\u2212/,"-")
""===e?t=[{value:1,exact:true}]:"-"===e&&(t=[{value:-1,exact:true}])
return t},log:function v(e){var t=void 0
var r=[]
e=e.replace(/\u2212/,"-")
e=e.replace(/[ \(\)]/g,"");(t=e.match(/^log\s*(\S+)\s*$/i))?r=l.decimal(t[1]):"0"===e&&(r=[{value:0,exact:true}])
return r},percent:function m(e){e=$.trim(e)
var t=false
if(e.indexOf("%")===e.length-1){e=$.trim(e.substring(0,e.length-1))
t=true}var r=l.decimal(e)
$.each(r,function(e,r){r.exact=t
r.value=r.value/100})
return r},mixed:function g(e){var t=e.replace(/\u2212/,"-").replace(/([+-])\s+/g,"$1").match(/^([+-]?)(\d+)\s+(\d+)\s*\/\s*(\d+)$/)
if(t){var r=parseFloat(t[1]+"1")
var n=parseFloat(t[2])
var a=parseFloat(t[3])
var o=parseFloat(t[4])
var s=a<o&&1===i.getGCD(a,o)
return[{value:r*(n+a/o),exact:s}]}return[]},decimal:function y(e,r){null==r&&(r=1e10)
var n=function a(e){e=$.trim(e)
var n=e.replace(/\u2212/,"-").replace(/([+-])\s+/g,"$1").match(/^([+-]?(?:\d{1,3}(?:[, ]?\d{3})*\.?|\d{0,3}(?:[, ]?\d{3})*\.(?:\d{3}[, ]?)*\d{1,3}))$/)
var i=e.match(/^0[0,]*,/)
if(n&&!i){var a=parseFloat(n[1].replace(/[, ]/g,""))
void 0===t.inexact&&(a=Math.round(a*r)/r)
return a}}
var i=function o(e){e=e.replace(/([\.,])/g,function(e,t){return"."===t?",":"."})
return n(e)}
return[{value:n(e),exact:true},{value:i(e),exact:true}]}}
return function(i){var a=null!=t.fallback?""+t.fallback:""
i=$.trim(i)||a
var o={empty:""===i,correct:false,message:null,guess:i}
$.each(r,function(r,n){var a=l[n](i)
for(var s=0,p=a.length;s<p;s++){var u=a[s].value
var c=a[s].exact
var h=a[s].piApprox
if(e(u,t.maxError)){if(c||"optional"===t.simplify){o.correct=true
o.message=t.message||null
o.empty=false}else if("percent"===n){o.empty=true
o.message=i18n._("Your answer is almost correct, but it is missing a <code>\\%</code> at the end.")}else{"enforced"!==t.simplify&&(o.empty=true)
o.message=i18n._("Your answer is almost correct, but it needs to be simplified.")}return false}if(h&&e(u,Math.abs(.001*u))){o.empty=true
o.message=i18n._("Your answer is close, but you may have approximated pi. Enter your answer as a multiple of pi, like <code>12\\ \\text{pi}</code> or <code>2/3\\ \\text{pi}</code>")}}})
if(false===o.correct){var s=false
n.each(l,function(e){var t=n.any(e(i),function(e){return null!=e.value&&!n.isNaN(e.value)})
t&&(s=true)})
if(!s){o.empty=true
o.message=i18n._("We could not understand your answer. Please check your answer for extra text or symbols.")
return o}}return o}}},number:{convertToPredicate:function l(e,t){var r=parseFloat($.trim(e))
return[function(e,t){return Math.abs(e-r)<t},$.extend({},t,{type:"predicate"})]},createValidatorFunctional:function p(e,t){var r
return(r=o.predicate).createValidatorFunctional.apply(r,o.number.convertToPredicate(e,t))}},expression:{parseSolution:function u(e,t){var r=KAS.parse(e,t)
if(!r.parsed)throw new Error("The provided solution ("+e+") didn't parse.")
if(t.simplified&&!r.expr.isSimplified())throw new Error("The provided solution ("+e+") isn't fully expanded and simplified.")
r=r.expr
return r},createValidatorFunctional:function c(e,t){return function(r){var n={empty:false,correct:false,message:null,guess:r}
if(!r){n.empty=true
return n}var i=KAS.parse(r,t)
if(!i.parsed){n.empty=true
return n}"string"===typeof e&&(e=o.expression.parseSolution(e,t))
var a=KAS.compare(i.expr,e,t)
if(a.equal)n.correct=true
else if(a.message)n.message=a.message
else{var s=KAS.parse(r.replace(/[xX]/g,"*"),t)
if(s.parsed){var l=KAS.compare(s.expr,e,t)
if(l.equal){n.empty=true
n.message="I'm a computer. I only understand multiplication if you use an asterisk (*) as the multiplication sign."}else l.message&&(n.message=l.message+" Also, I'm a computer. I only understand multiplication if you use an asterisk (*) as the multiplication sign.")}}return n}}}}
e.exports=o},function(e,t,r){"use strict"
var n
var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]
for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}
var a=r(15),o=a.StyleSheet,s=a.css
var l=r(12)
var p=r(14)
var u=r(83)
var c=r(99)
var h=r(11)
var d=r(19).ClassNames
var f=r(19).Options
var v=r(87),m=v.iconCircle,g=v.iconCircleThin
var y=r(84)
var b=r(9)
var T=r(18)
var x=r(36)
var P=r(37)
var E=l.createClass({displayName:"Categorizer",propTypes:i({},u.propTypes,{apiOptions:f.propTypes,categories:l.PropTypes.arrayOf(l.PropTypes.string),items:l.PropTypes.arrayOf(l.PropTypes.string),trackInteraction:l.PropTypes.func.isRequired,values:l.PropTypes.arrayOf(l.PropTypes.number)}),getDefaultProps:function S(){return{items:[],categories:[],values:[]}},getInitialState:function C(){return{uniqueId:h.uniqueId("perseus_radio_")}},change:function M(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r]
return u.change.apply(this,t)},getUserInput:function _(){return c.getUserInput.call(this)},render:function N(){var e=this
var t=this
var r=this.props.apiOptions.isMobile
var n=this.props.items.map(function(e,t){return[e,t]})
this.props.randomizeItems&&(n=T.shuffle(n,this.props.problemNum))
var i=l.createElement("table",{className:"categorizer-table"},l.createElement("thead",null,l.createElement("tr",null,l.createElement("th",null," "),this.props.categories.map(function(e,t){return l.createElement("th",{className:s(k.header),key:t},l.createElement(b,{content:e}))}))),l.createElement("tbody",null,n.map(function(n){var i=n[0]
var a=n[1]
var o=t.state.uniqueId+"_"+a
return l.createElement("tr",{key:a},l.createElement("td",null,l.createElement(b,{content:i})),h.range(t.props.categories.length).map(function(n){var i=t.props.values[a]===n
return l.createElement("td",{className:"category "+s(k.cell,k.responsiveCell),key:n},l.createElement("div",{className:d.INTERACTIVE,onClick:e.onChange.bind(e,a,n)},r&&l.createElement("input",{type:"radio",name:o,className:s(P.responsiveInput,P.responsiveRadioInput),checked:i,onChange:e.onChange.bind(e,a,n),onClick:function p(e){return e.stopPropagation()}}),!r&&l.createElement("span",{className:s(k.responsiveSpan,k.radioSpan,i&&k.checkedRadioSpan,e.props["static"]&&i&&k.staticCheckedRadioSpan)},i?l.createElement(y,m):l.createElement(y,g))))}))})))
var a=p({"categorizer-container":true,"static-mode":this.props["static"]})
var o=this.props.apiOptions.isMobile?[k.fullBleedContainer]:[]
return l.createElement("div",{className:a+" "+s.apply(void 0,o)},i)},onChange:function I(e,t){var r=h.clone(this.props.values)
r[e]=t
this.change("values",r)
this.props.trackInteraction()},simpleValidate:function R(e){return E.validate(this.getUserInput(),e)}})
h.extend(E,{validate:function O(e,t){var r=true
var n=true
h.each(t.values,function(t,i){null==e.values[i]&&(r=false)
e.values[i]!==t&&(n=false)})
if(!r)return{type:"invalid",message:i18n._("Make sure you select something for every row.")}
return{type:"points",earned:n?1:0,total:1,message:null}}})
var w=16
var k=o.create({fullBleedContainer:(n={},n[x.mdOrSmaller]={marginLeft:-w,marginRight:-w,overflowX:"auto"},n),header:{textAlign:"center",verticalAlign:"bottom"},cell:{textAlign:"center",padding:0,color:"#ccc",verticalAlign:"middle"},radioSpan:{fontSize:30,paddingRight:3,":hover":{color:"#999"}},checkedRadioSpan:{color:"#333"},staticCheckedRadioSpan:{color:"#888"}})
e.exports={name:"categorizer",displayName:"Categorizer",widget:E,transform:function A(e){return h.pick(e,"items","categories","randomizeItems")},staticTransform:function D(e){return h.pick(e,"items","categories","values","randomizeItems")}}},function(e,t,r){"use strict"
var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]
for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}
var i=r(12)
var a=r(11)
var o=r(83)
var s=r(18).updateQueryString
var l=2
var p=/khanacademy\.org/
var u="https://{hostname}/computer-programming/program/{programID}/embedded?embed=yes&author=no"
function c(e){var t=u.replace("{programID}",e)
var r=document.location.hostname
var n="www.khanacademy.org"
p.test(r)&&(n=r)
return t.replace("{hostname}",n)}var h=i.createClass({displayName:"CSProgram",propTypes:n({},o.propTypes,{programID:i.PropTypes.string,width:i.PropTypes.number,height:i.PropTypes.number,settings:i.PropTypes.array,showEditor:i.PropTypes.bool,showButtons:i.PropTypes.bool,status:i.PropTypes.oneOf(["incomplete","incorrect","correct"]),message:i.PropTypes.string}),getDefaultProps:function d(){return{showEditor:false,showButtons:false,status:"incomplete",message:null}},handleMessageEvent:function f(e){var t={}
try{t=JSON.parse(e.originalEvent.data)}catch(r){return}if(a.isUndefined(t.testsPassed))return
var n=t.testsPassed?"correct":"incorrect"
this.change({status:n,message:t.message})},componentDidMount:function v(){$(window).on("message",this.handleMessageEvent)},componentWillUnmount:function m(){$(window).off("message",this.handleMessageEvent)},change:function g(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r]
return o.change.apply(this,t)},render:function y(){if(!this.props.programID)return i.createElement("div",null)
var e=c(this.props.programID)
var t
var r={height:this.props.height}
if(this.props.showEditor){e+="&editor=yes"
r.width="100%"
t="perseus-scratchpad-editor"}else{e+="&editor=no"
r.width=this.props.width+l
t="perseus-scratchpad"}if(this.props.showButtons){e+="&buttons=yes"
r.height+=50}else e+="&buttons=no"
if(this.props.settings){var n={}
a.each(this.props.settings,function(e){e.name&&e.value&&(n[e.name]=e.value)})
e=s(e,"settings",JSON.stringify(n))}return i.createElement("iframe",{sandbox:"allow-popups allow-same-origin allow-scripts",src:e,style:r,className:t,allowFullScreen:true})},simpleValidate:function b(e){return h.validate({status:this.props.status,message:this.props.message},e)},statics:{validate:function T(e,t){return"correct"===e.status?{type:"points",earned:1,total:1,message:e.message||null}:"incorrect"===e.status?{type:"points",earned:0,total:1,message:e.message||null}:{type:"invalid",message:"Keep going, you're not there yet!"}}}})
e.exports={name:"cs-program",displayName:"CS Program",supportedAlignments:["block","full-width"],widget:h}},function(e,t,r){"use strict"
var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]
for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}
var i=r(15),a=i.StyleSheet,o=i.css
var s=r(14)
var l=r(12)
var p=r(13)
var u=r(11)
var c=r(19).ClassNames
var h=r(19).Options
var d=r(84)
var f=r(38)
var v=r(87),m=v.iconDropdownArrow
var g=r(18).captureScratchpadTouchStart
var y=24
var b=l.createClass({displayName:"Dropdown",propTypes:{apiOptions:h.propTypes,choices:l.PropTypes.arrayOf(l.PropTypes.string),onChange:l.PropTypes.func.isRequired,placeholder:l.PropTypes.string,selected:l.PropTypes.number,trackInteraction:l.PropTypes.func.isRequired},getDefaultProps:function P(){return{choices:[],selected:0,placeholder:"",apiOptions:h.defaults}},render:function E(){var e=this.props.choices.slice()
var t=s({"perseus-widget-dropdown":true})
return l.createElement("div",null,l.createElement("select",{onChange:this._handleChangeEvent,onTouchStart:g,className:t+" "+o(x.dropdown)+" "+c.INTERACTIVE,disabled:this.props.apiOptions.readOnly,value:this.props.selected},l.createElement("option",{value:0,disabled:true},this.props.placeholder),e.map(function(e,t){return l.createElement("option",{key:""+(t+1),value:t+1},e)})),l.createElement(d,n({},m,{style:{marginLeft:"-"+y+"px",height:y,width:y}})))},focus:function w(){p.findDOMNode(this).focus()
return true},_handleChangeEvent:function k(e){this._handleChange(parseInt(e.target.value))},_handleChange:function S(e){this.props.trackInteraction()
this.props.onChange({selected:e})},getUserInput:function C(){return{value:this.props.selected}},simpleValidate:function M(e){return b.validate(this.getUserInput(),e)}})
u.extend(b,{validate:function _(e,t){var r=e.value
if(0===r)return{type:"invalid",message:null}
var n=t.choices[r-1].correct
return{type:"points",earned:n?1:0,total:1,message:null}}})
var T=function N(e){return{placeholder:e.placeholder,choices:u.map(e.choices,function(e){return e.content})}}
var x=a.create({dropdown:{appearance:"none",backgroundColor:"transparent",border:"1px solid "+f.gray76,borderRadius:4,boxShadow:"none",fontFamily:f.baseFontFamily,padding:"9px "+(y+1)+"px 9px 9px",":focus":{outline:"none",border:"2px solid "+f.kaGreen,padding:"8px "+y+"px 8px 8px"},":focus + svg":{color:""+f.kaGreen},":disabled":{color:f.gray68},":disabled + svg":{color:f.gray68}}})
e.exports={name:"dropdown",displayName:"Drop down",defaultAlignment:"inline-block",accessible:true,widget:b,transform:T}},function(e,t,r){"use strict"
var n,i
var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]
for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}
var o=r(15),s=o.StyleSheet,l=o.css
var p=r(12)
var u=r(11)
var c=r(83)
var h=r(19)
var d=r(9)
var f=r(36)
var v=r(38)
var m={showPrompt:"Explain",hidePrompt:"Hide explanation",explanation:"explanation goes here\n\nmore explanation",widgets:{}}
var g=p.createClass({displayName:"Explanation",propTypes:a({},c.propTypes,{apiOptions:h.Options.propTypes,explanation:p.PropTypes.string,hidePrompt:p.PropTypes.string,showPrompt:p.PropTypes.string,trackInteraction:p.PropTypes.func.isRequired,widgets:p.PropTypes.object}),getDefaultProps:function w(){return m},getInitialState:function k(){return{expanded:false}},change:function S(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r]
return c.change.apply(this,t)},_onClick:function C(){this.setState({expanded:!this.state.expanded})
this.props.trackInteraction()},render:function M(){var e=this.props.apiOptions.baseElements.Link
var t=this.props.apiOptions,r=t.readOnly,n=t.isMobile
var i=this.state.expanded?this.props.hidePrompt:this.props.showPrompt
var a=void 0
var o=r?null:"javascript:void(0)"
var s=r?null:this._onClick
a=n?p.createElement("div",{className:l(E.linkContainer)},p.createElement("a",{className:l(E.mobileExplanationLink),href:o,onClick:s},i),this.state.expanded&&p.createElement("svg",{className:l(E.disclosureArrow)},p.createElement("polygon",{style:{fill:P},points:"0,"+x+" "+(T+","+x+" ")+(T/2+",0")}))):p.createElement("div",{className:l(E.linkContainer)},p.createElement(e,{className:l(E.explanationLink),href:o,onClick:s},"["+i+"]"))
var u=n?E.contentExpandedMobile:E.contentExpanded
return p.createElement("div",{className:l(E.container)},a,p.createElement("div",{className:l(E.content,n&&E.contentMobile,this.state.expanded&&u),style:{height:this.state.expanded?"auto":0,overflow:this.state.expanded?"visible":"hidden"},ref:"content"},p.createElement(d,{apiOptions:this.props.apiOptions,content:this.props.explanation,widgets:this.props.widgets})))},getUserInput:function _(){return{}},simpleValidate:function N(e){return g.validate(this.getUserInput(),e)}})
var y=23
var b=10
var T=30
var x=14
var P=v.gray95
var E=s.create({container:{display:"inline",position:"relative"},linkContainer:{display:"inline-block"},explanationLink:(n={fontStyle:"italic",color:"#007d96"},n[f.xl]={fontSize:20,lineHeight:1.1},n[f.lgOrSmaller]={fontSize:17,lineHeight:1.4},n[f.smOrSmaller]={fontSize:14,lineHeight:1.3},n),mobileExplanationLink:(i={color:v.kaGreen,borderBottom:"dashed 1px "+v.kaGreen,textDecoration:"none"},i[f.xl]={fontSize:22,lineHeight:1.4},i[f.lgOrSmaller]={fontSize:20,lineHeight:1.5},i[f.smOrSmaller]={fontSize:18,lineHeight:1.2},i),content:{position:"relative",transition:"margin-top 0.1s"},contentExpanded:{borderLeft:"5px solid #ccc",marginLeft:-y,paddingLeft:y,paddingBottom:b,marginBottom:x,marginTop:x},contentExpandedMobile:{boxSizing:"content-box",paddingTop:32,paddingBottom:32,marginTop:x},contentMobile:{background:P,marginLeft:v.negativePhoneMargin,marginRight:v.negativePhoneMargin,paddingLeft:v.phoneMargin,paddingRight:v.phoneMargin},disclosureArrow:{bottom:-(x+5),height:x,left:"50%",marginLeft:-(T/2),position:"absolute",width:T}})
u.extend(g,{validate:function I(e,t){return{type:"points",earned:0,total:0,message:null}}})
e.exports={name:"explanation",displayName:"Explanation (for hints)",defaultAlignment:"inline",widget:g,transform:u.identity}},function(e,t,r){"use strict"
var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]
for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}
var i=r(12)
var a=r(11)
var o=r(100)
var s=r(34)
var l=r(18)
var p=r(101)
var u=r(89)
var c=u.MovablePoint
var h=u.MovableLine
var d=r(102)
var f=r(129).number
var v=r(129).vector
var m=r(129).point
var g=r(103)
var y=r(75),b=y.containerSizeClassPropType
var T=r(38),x=T.interactiveSizes
var P=r(75),E=P.getInteractiveBoxFromSizeClass
var w=r(83)
var k=r(117),S=k.GrapherUtil,C=k.typeToButton,M=k.functionForType,_=k.DEFAULT_GRAPHER_PROPS
function N(e,t,r){var n=function i(e,t,r){return(t[0]-e[0])*(r[1]-e[1])-(r[0]-e[0])*(t[1]-e[1])}
return n(r[0],r[1],t)>0!==n(r[0],r[1],e)>0}var I={padding:"5px 5px"}
var R=i.createClass({displayName:"FunctionGrapher",_coords:function L(e){e=e||this.props
var t=e.graph
var r=e.model&&S.maybePointsFromNormalized(e.model.defaultCoords,t.range,t.step,t.snapStep)
return e.coords||r||null},_asymptote:function F(e){e=e||this.props
return e.asymptote},propTypes:n({},w.propTypes,{flexibleType:i.PropTypes.bool,graph:i.PropTypes.any,hideHairlines:i.PropTypes.func,isMobile:i.PropTypes.bool,model:i.PropTypes.any,onChange:i.PropTypes.func,setDrawingAreaAvailable:i.PropTypes.func,showHairlines:i.PropTypes.func,showTooltips:i.PropTypes.bool,"static":i.PropTypes.bool}),getDefaultProps:function q(){return{graph:{range:[[-10,10],[-10,10]],step:[1,1]},coords:null,asymptote:null,isMobile:false}},change:function B(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r]
return w.change.apply(this,t)},render:function z(){var e=this
var t=function v(t,r){return i.createElement(c,{key:r,coord:t,"static":e.props["static"],constraints:[o.MovablePoint.constraints.bound(),o.MovablePoint.constraints.snap(),function(t){var n=a.all(e._coords(),function(e,n){return r===n||!e||!f.equal(t[0],e[0])})
if(!n)return false
if(e.props.model&&e.props.model.extraCoordConstraint){var i=e.props.model.extraCoordConstraint
var o=a.clone(e._coords())
var s=a.clone(o[r])
o[r]=t
return i(t,s,o,e._asymptote(),e.props.graph)}return n}],onMove:function n(t,i){var o
var s=e._asymptote()
o=s&&e.props.model.allowReflectOverAsymptote&&N(t,i,s)?a.map(e._coords(),function(e){return m.reflectOverLine(e,s)}):a.clone(e._coords())
o[r]=t
e.props.onChange({coords:o})},showHairlines:e.props.showHairlines,hideHairlines:e.props.hideHairlines,showTooltips:e.props.showTooltips,isMobile:e.props.isMobile})}
var r=a.map(this._coords(),t)
var l=this.props.graph.box
var p=this.props.graph.backgroundImage
var h=null
if(p.url){var d=l[0]/x.defaultBoxSize
h=i.createElement(s,{src:p.url,width:p.width,height:p.height,scale:d})}return i.createElement("div",{className:"perseus-widget perseus-widget-grapher",style:{width:l[0],height:this.props.flexibleType?"auto":l[1],boxSizing:"initial"}},i.createElement("div",{className:"graphie-container above-scratchpad",style:{width:l[0],height:l[1]}},h,i.createElement(u,n({},this.props.graph,{setDrawingAreaAvailable:this.props.setDrawingAreaAvailable}),this.props.model&&this.renderPlot(),this.props.model&&this.renderAsymptote(),this.props.model&&r)))},renderPlot:function U(){var e=this.props.model
var t=this.props.graph.range[0]
var r=n({stroke:this.props.isMobile?g.BLUE_C:g.DYNAMIC},this.props.isMobile?{"stroke-width":3}:{})
var a=e.getCoefficients(this._coords(),this._asymptote())
if(!a)return
var o=e.getPropsForCoeffs(a,t)
return i.createElement(e.Movable,n({},o,{key:this.props.model.url,range:t,style:r}))},renderAsymptote:function H(){var e=this
var t=this.props.model
var r=this.props.graph
var n=this._asymptote()
var s={strokeDasharray:"- "}
return n&&i.createElement(h,{onMove:function l(t,r){var n=v.subtract(t,r)
var i=a.map(e._asymptote(),function(e){return v.add(e,n)})
e.props.onChange({asymptote:i})},constraints:[o.MovableLine.constraints.bound(),o.MovableLine.constraints.snap(),function(n,i){var o=v.subtract(n,i)
var s=a.map(e._asymptote(),function(e){return v.add(e,o)})
if(t.extraAsymptoteConstraint)return t.extraAsymptoteConstraint(n,i,e._coords(),s,r)
return true}],normalStyle:s,highlightStyle:s},a.map(n,function(t,r){return i.createElement(c,{key:"asymptoteCoord-"+r,coord:t,"static":true,draw:null,extendLine:true,showHairlines:e.props.showHairlines,hideHairlines:e.props.hideHairlines,showTooltips:e.props.showTooltips,isMobile:e.props.isMobile})}))}})
var O=i.createClass({displayName:"Grapher",propTypes:{apiOptions:i.PropTypes.any,availableTypes:i.PropTypes.arrayOf(i.PropTypes.any),containerSizeClass:b.isRequired,graph:i.PropTypes.any,markings:i.PropTypes.string,onChange:i.PropTypes.func,plot:i.PropTypes.any,"static":i.PropTypes.bool,trackInteraction:i.PropTypes.func.isRequired},getDefaultProps:function W(){return _},render:function V(){var e=this.props.plot.type
var t=this.props.plot.coords
var r=this.props.plot.asymptote
var o=i.createElement("div",{style:I,className:"above-scratchpad"},i.createElement(p,{value:e,allowEmpty:true,buttons:a.map(this.props.availableTypes,C),onChange:this.handleActiveTypeChange}))
var s=E(this.props.containerSizeClass)
var l=n({},this.props.graph,S.getGridAndSnapSteps(this.props.graph,s[0]),{gridConfig:this._getGridConfig(n({},this.props.graph,{box:s},S.getGridAndSnapSteps(this.props.graph,s[0])))})
var u={graph:{box:s,range:l.range,step:l.step,snapStep:l.snapStep,backgroundImage:l.backgroundImage,options:l,setup:this._setupGraphie},onChange:this.handlePlotChanges,model:e&&M(e),coords:t,asymptote:r,"static":this.props["static"],setDrawingAreaAvailable:this.props.apiOptions.setDrawingAreaAvailable,isMobile:this.props.apiOptions.isMobile,showTooltips:this.props.graph.showTooltips,showHairlines:this.showHairlines,hideHairlines:this.hideHairlines}
return i.createElement("div",null,i.createElement(R,u),this.props.availableTypes.length>1&&o)},handlePlotChanges:function G(e){var t=a.extend({},this.props.plot,e)
this.props.onChange({plot:t})
this.props.trackInteraction()},handleActiveTypeChange:function j(e){var t=this.props.graph
var r=a.extend({},this.props.plot,S.defaultPlotProps(e,t))
this.props.onChange({plot:r})},_getGridConfig:function Y(e){return a.map(e.step,function(t,r){return l.gridDimensionConfig(t,e.range[r],e.box[r],e.gridStep[r])})},_calculateMobileTickStep:function K(e,t,r){var n=l.constrainedTickStepsFromTickSteps(t,r)
n[0]=n[0]/e[0]
n[1]=n[1]/e[1]
return n},_setupGraphie:function X(e,t){var r=this.props.apiOptions.isMobile
if("graph"===t.markings){e.graphInit({range:t.range,scale:a.pluck(t.gridConfig,"scale"),axisArrows:"<->",labelFormat:function i(e){return"\\small{"+e+"}"},gridStep:t.gridStep,snapStep:t.snapStep,tickStep:r?this._calculateMobileTickStep(t.gridStep,t.step,t.range):a.pluck(t.gridConfig,"tickStep"),labelStep:1,unityLabels:a.pluck(t.gridConfig,"unityLabel"),isMobile:r})
e.label([0,t.range[1][1]],t.labels[1],r?"below right":"above")
e.label([t.range[0][1],0],t.labels[0],r?"above left":"right")}else"grid"===t.markings?e.graphInit({range:t.range,scale:a.pluck(t.gridConfig,"scale"),gridStep:t.gridStep,axes:false,ticks:false,labels:false,isMobile:r}):"none"===t.markings&&e.init({range:t.range,scale:a.pluck(t.gridConfig,"scale")})
if(this.props.apiOptions.isMobile){var n={normalStyle:{strokeWidth:1}}
this.horizHairline=new d(e,[0,0],[0,0],n)
this.horizHairline.attr({stroke:g.INTERACTIVE})
this.horizHairline.hide()
this.vertHairline=new d(e,[0,0],[0,0],n)
this.vertHairline.attr({stroke:g.INTERACTIVE})
this.vertHairline.hide()}},showHairlines:function Q(e){if(this.props.apiOptions.isMobile&&"none"!==this.props.markings){this.horizHairline.moveTo([this.props.graph.range[0][0],e[1]],[this.props.graph.range[0][1],e[1]])
this.horizHairline.show()
this.vertHairline.moveTo([e[0],this.props.graph.range[1][0]],[e[0],this.props.graph.range[1][1]])
this.vertHairline.show()}},hideHairlines:function Z(){if(this.props.apiOptions.isMobile){this.horizHairline.hide()
this.vertHairline.hide()}},simpleValidate:function J(e){return S.validate(this.getUserInput(),e)},getUserInput:function et(){return this.props.plot},focus:$.noop})
var A=function tt(e){var t={availableTypes:e.availableTypes,graph:e.graph}
if(1===t.availableTypes.length){var r=t.graph
var n=S.chooseType(t.availableTypes)
t.plot=S.defaultPlotProps(n,r)}return t}
var D=function rt(e){return a.extend({},A(e),{availableTypes:[e.correct.type],plot:e.correct})}
e.exports={name:"grapher",displayName:"Grapher",widget:O,transform:A,staticTransform:D}},function(e,t,r){"use strict"
var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]
for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}
var i=r(14)
var a=r(12)
var o=r(11)
var s=r(19).Options
var l=r(83)
var p=r(87),u=p.iconOk,c=p.iconRemove
var h=r(84)
var d=r(9)
var f=r(104)
var v=r(38),m=v.gray76,g=v.phoneMargin,y=v.negativePhoneMargin,b=v.tableBackgroundAccent,T=v.kaGreen
var x=r(15),P=x.StyleSheet,E=x.css
var w={ungraded:"ungraded",correct:"correct",incorrect:"incorrect",invalid:"invalid"}
var k=f.ANSWER_BAR_STATES
var S=function R(e,t){switch(e){case k.HIDDEN:return t?k.ACTIVE:e
case k.ACTIVE:return t?e:k.INACTIVE
case k.INACTIVE:return t?k.ACTIVE:e
case k.INCORRECT:return t?k.ACTIVE:k.INACTIVE
default:return e}}
var C="We couldn't grade your answer."
var M="It looks like you left something blank or entered in an invalid answer."
var _=a.createClass({displayName:"GradedGroup",propTypes:n({},l.propTypes,{apiOptions:s.propTypes,content:a.PropTypes.string,hasHint:a.PropTypes.bool,hint:a.PropTypes.object,images:a.PropTypes.object,inGradedGroupSet:a.PropTypes.bool,onBlur:a.PropTypes.func,onFocus:a.PropTypes.func,onNextQuestion:a.PropTypes.func,title:a.PropTypes.string,trackInteraction:a.PropTypes.func.isRequired,widgets:a.PropTypes.object}),getDefaultProps:function O(){return{title:"",content:"",widgets:{},images:{},hint:null,hasHint:false}},getInitialState:function A(){return{status:w.ungraded,showHint:false,message:"",answerBarState:k.HIDDEN}},shouldComponentUpdate:function D(e,t){return e!==this.props||t!==this.state},change:function L(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r]
return l.change.apply(this,t)},_onInteractWithWidget:function F(e){this.setState({status:w.ungraded,message:""})
if(this.refs.renderer){this.change("widgets",this.props.widgets)
var t=this.refs.renderer.emptyWidgets()
var r=0===t.length
var n=this.state.answerBarState
this.setState({answerBarState:S(n,r)})}},_checkAnswer:function q(){var e=this.refs.renderer.score()
var t=void 0
var r=void 0
if("points"===e.type){t=e.total===e.earned?w.correct:w.incorrect
r=e.message||""}else{t=w.invalid
r=e.message?C+" "+e.message:C+" "+M}this.setState({status:t,message:r,answerBarState:"correct"===t?k.CORRECT:k.INCORRECT})
this.props.trackInteraction({status:t})},getInputPaths:function B(){return this.refs.renderer.getInputPaths()},setInputValue:function z(e,t,r){return this.refs.renderer.setInputValue(e,t,r)},getAcceptableFormatsForInputPath:function U(e){return this.refs.renderer.getAcceptableFormatsForInputPath(e)},focus:function H(){return this.refs.renderer.focus()},focusInputPath:function W(e){this.refs.renderer.focusPath(e)},blurInputPath:function V(e){this.refs.renderer.blurPath(e)},render:function G(){var e=this,t
var r=o.extend({},s.defaults,this.props.apiOptions,{onFocusChange:function b(t,r){r&&e.props.onBlur(r)
t&&e.props.onFocus(t)}})
var l=null
this.state.status===w.correct?l=a.createElement(h,n({},u,{style:{color:"#526f03"}})):this.state.status===w.incorrect&&(l=a.createElement(h,n({},c,{style:{color:"#ff5454"}})))
var p=E(this.props.inGradedGroupSet?I.gradedGroupInSet:I.gradedGroup)
var v=i((t={},t[p]=r.isMobile,t["perseus-graded-group"]=true,t["answer-correct"]=r.isMobile?false:this.state.status===w.correct,t["answer-incorrect"]=r.isMobile?false:this.state.status===w.incorrect,t))
var m=this.state.answerBarState
var g=m===k.CORRECT
var y=r.readOnly||r.isMobile&&g
return a.createElement("div",{className:v},!!this.props.title&&a.createElement("div",{className:E(I.title)},this.props.title),a.createElement(d,n({},this.props,{ref:"renderer",apiOptions:n({},r,{readOnly:y}),onInteractWithWidget:this._onInteractWithWidget})),!r.isMobile&&l&&a.createElement("div",{className:"group-icon"},l),!r.isMobile&&a.createElement("p",null,this.state.message),!r.isMobile&&a.createElement("input",{type:"button",value:i18n._("Check"),className:"simple-button",disabled:this.props.apiOptions.readOnly,onClick:this._checkAnswer}),!r.isMobile&&g&&this.props.onNextQuestion&&a.createElement("input",{type:"button",value:i18n._("Next question"),className:"simple-button",disabled:this.props.apiOptions.readOnly,onClick:this.props.onNextQuestion,style:{marginLeft:5}}),this.props.hint&&this.props.hint.content&&(this.state.showHint?a.createElement("div",null,a.createElement("div",{className:E(I.explanationTitle),onClick:function T(){return e.setState({showHint:false})}},i18n._("Hide explanation")),a.createElement(d,n({},this.props.hint,{ref:"hints-renderer",apiOptions:r}))):a.createElement("div",{onClick:function x(){return e.setState({showHint:true})},className:E(I.showHintLink)},i18n._("Explain"))),r.isMobile&&m!==k.HIDDEN&&a.createElement(f,{apiOptions:r,answerBarState:m,onCheckAnswer:this._checkAnswer,onNextQuestion:this.props.onNextQuestion}))}})
var N=function j(e,t){return o.extend({},e,t(e))}
e.exports={name:"graded-group",displayName:"Graded Group",widget:_,traverseChildWidgets:N,hidden:false,tracking:"all"}
var I=P.create({gradedGroupInSet:{marginLeft:0,paddingLeft:0},gradedGroup:{borderTop:"1px solid "+m,borderBottom:"1px solid "+m,backgroundColor:b,marginLeft:y,marginRight:y,paddingBottom:g,paddingLeft:g,paddingRight:g,paddingTop:10,width:"auto"},showHintLink:{marginTop:20,color:T,cursor:"pointer"},explanationTitle:{marginTop:20,color:T,marginBottom:10,cursor:"pointer"},title:{fontSize:12,color:m,textTransform:"uppercase",marginBottom:11,letterSpacing:.8}})},function(e,t,r){"use strict"
var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]
for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}
var i=r(12)
var a=r(11)
var o=r(15),s=o.StyleSheet,l=o.css
var p=r(19).Options
var u=r(83)
var c=r(48).widget
var h=r(38),d=h.grayLight,f=h.gray76,v=h.tableBackgroundAccent,m=h.kaGreen,g=h.phoneMargin,y=h.negativePhoneMargin
var b=i.createClass({displayName:"Indicators",propTypes:{currentGroup:i.PropTypes.number.isRequired,numGroups:i.PropTypes.number.isRequired,onChangeCurrentGroup:i.PropTypes.func.isRequired},render:function E(){var e=this
var t=[]
var r=function a(r){t.push(i.createElement("div",{key:r,className:l(P.indicator,r===e.props.currentGroup&&P.selectedIndicator),onClick:function n(){return e.props.onChangeCurrentGroup(r)}}))}
for(var n=0;n<this.props.numGroups;n++)r(n)
return i.createElement("div",{className:l(P.indicatorContainer)},t)}})
var T=i.createClass({displayName:"GradedGroupSet",propTypes:n({},u.propTypes,{apiOptions:p.propTypes,gradedGroups:i.PropTypes.array,trackInteraction:i.PropTypes.func.isRequired}),getDefaultProps:function w(){return{gradedGroups:[]}},getInitialState:function k(){return{currentGroup:0}},shouldComponentUpdate:function S(e,t){return e!==this.props||t!==this.state},change:function C(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r]
return u.change.apply(this,t)},getInputPaths:function M(){return this._childGroup.getInputPaths()},setInputValue:function _(e,t,r){return this._childGroup.setInputValue(e,t,r)},getAcceptableFormatsForInputPath:function N(e){return this._childGroup.getAcceptableFormatsForInputPath(e)},focus:function I(){return this._childGroup.focus()},focusInputPath:function R(e){this._childGroup.focusInputPath(e)},blurInputPath:function O(e){this._childGroup.blurInputPath(e)},handleNextQuestion:function A(){var e=this.state.currentGroup
var t=this.props.gradedGroups.length
e<t-1&&this.setState({currentGroup:e+1})},render:function D(){var e=this
var t=this.props.gradedGroups[this.state.currentGroup]
if(!t)return i.createElement("span",null,"No current group...")
var r=this.props.gradedGroups.length
var a=this.state.currentGroup<r-1?this.handleNextQuestion:null
return i.createElement("div",{className:l(P.container)},i.createElement("div",{className:l(P.top)},i.createElement("div",{className:l(P.title)},t.title),i.createElement("div",{className:l(P.spacer)}),i.createElement(b,{numGroups:r,currentGroup:this.state.currentGroup,onChangeCurrentGroup:function o(t){return e.setState({currentGroup:t})}})),i.createElement(c,n({key:this.state.currentGroup,ref:function s(t){return e._childGroup=t}},this.props,t,{inGradedGroupSet:true,title:null,onNextQuestion:a})))}})
var x=function L(e,t){return{groups:e.gradedGroups.map(t)}}
e.exports={name:"graded-group-set",displayName:"Graded Group Set",widget:T,traverseChildWidgets:x,hidden:false,tracking:"all"}
var P=s.create({top:{display:"flex",flexDirection:"row"},spacer:{flex:1},title:{fontSize:12,color:f,textTransform:"uppercase",marginBottom:11,letterSpacing:.8},indicatorContainer:{display:"flex",flexDirection:"row"},indicator:{width:10,height:10,borderRadius:5,backgroundColor:d,marginLeft:5,cursor:"pointer"},selectedIndicator:{backgroundColor:m},container:{borderTop:"1px solid "+f,borderBottom:"1px solid "+f,backgroundColor:v,marginLeft:y,marginRight:y,paddingBottom:g,paddingLeft:g,paddingRight:g,paddingTop:10,width:"auto"}})},function(e,t,r){"use strict"
var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]
for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}
var i=r(12)
var a=r(11)
var o=r(19).Options
var s=r(83)
var l=r(9)
var p=i.createClass({displayName:"Group",propTypes:n({},s.propTypes,{content:i.PropTypes.string,widgets:i.PropTypes.object,images:i.PropTypes.object,icon:i.PropTypes.object,reviewModeRubric:i.PropTypes.object}),getDefaultProps:function c(){return{content:"",widgets:{},images:{},icon:null}},componentDidMount:function h(){this.forceUpdate()},render:function d(){var e=this
var t=a.extend({},o.defaults,this.props.apiOptions,{onFocusChange:function u(t,r){r&&e.props.onBlur(r)
t&&e.props.onFocus(t)}})
var r=a.indexOf(this.props.findWidgets("group"),this)
var s=this.props.apiOptions.groupAnnotator(r,this.props.widgetId)
var p=function c(t){e.refs.renderer&&e.change("widgets",e.refs.renderer.props.widgets)}
return i.createElement("div",{className:"perseus-group"},s,i.createElement(l,n({},this.props,{ref:"renderer",apiOptions:t,findExternalWidgets:this.props.findWidgets,reviewMode:!!this.props.reviewModeRubric,onInteractWithWidget:p})),this.props.icon&&i.createElement("div",{className:"group-icon"},this.props.icon))},change:function f(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r]
return s.change.apply(this,t)},getUserInput:function v(){return this.refs.renderer.getUserInput()},getSerializedState:function m(){return this.refs.renderer.getSerializedState()},restoreSerializedState:function g(e,t){this.refs.renderer.restoreSerializedState(e,t)
return null},simpleValidate:function y(e){return this.refs.renderer.score()},getInputPaths:function b(){return this.refs.renderer.getInputPaths()},setInputValue:function T(e,t,r){return this.refs.renderer.setInputValue(e,t,r)},getAcceptableFormatsForInputPath:function x(e){return this.refs.renderer.getAcceptableFormatsForInputPath(e)},getRenderer:function P(){return this.refs.renderer},focus:function E(){return this.refs.renderer.focus()},focusInputPath:function w(e){this.refs.renderer.focusPath(e)},blurInputPath:function k(e){this.refs.renderer.blurPath(e)}})
var u=function S(e,t){return a.extend({},e,t(e))}
e.exports={name:"group",displayName:"Group",widget:p,traverseChildWidgets:u,hidden:false}},function(e,t,r){"use strict"
var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]
for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}
var i=r(12)
var a=r(11)
var o=r(83)
var s=r(99)
var l=r(18).updateQueryString
var p=i.createClass({displayName:"Iframe",propTypes:n({},o.propTypes,{width:i.PropTypes.string,height:i.PropTypes.string,url:i.PropTypes.string,settings:i.PropTypes.array,status:i.PropTypes.oneOf(["incomplete","incorrect","correct"]),message:i.PropTypes.string,allowFullScreen:i.PropTypes.bool}),getDefaultProps:function u(){return{status:"incomplete",message:null,allowFullScreen:false}},getUserInput:function c(){return s.getUserInput.call(this)},handleMessageEvent:function h(e){var t={}
try{t=JSON.parse(e.originalEvent.data)}catch(r){return}if(a.isUndefined(t.testsPassed))return
var n=t.testsPassed?"correct":"incorrect"
this.change({status:n,message:t.message})},componentDidMount:function d(){$(window).on("message",this.handleMessageEvent)},componentWillUnmount:function f(){$(window).off("message",this.handleMessageEvent)},render:function v(){var e={width:this.props.width,height:this.props.height}
var t=this.props.url
if(t&&t.length&&0!==t.indexOf("http")){t="https://www.khanacademy.org/computer-programming/program/"+t+"/embedded?buttons=no&embed=yes&editor=no&author=no"
t=l(t,"width",this.props.width)
t=l(t,"height",this.props.height)
t=l(t,"origin",window.location.origin)}"undefined"!==typeof KA&&KA.isZeroRated&&(t.match(/https?:\/\/[^\/]*khanacademy.org/)?t.match(/zero.khanacademy.org/)||(t=t.replace("khanacademy.org","zero.khanacademy.org")):t="/zero/external-link?context=iframe&url="+encodeURIComponent(t))
if(this.props.settings){var r={}
a.each(this.props.settings,function(e){e.name&&e.value&&(r[e.name]=e.value)})
t=l(t,"settings",JSON.stringify(r))}return i.createElement("iframe",{sandbox:"allow-same-origin allow-scripts",style:e,src:t,allowFullScreen:this.props.allowFullScreen})},change:function m(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r]
return o.change.apply(this,t)},simpleValidate:function g(e){return p.validate(this.getUserInput(),e)}})
a.extend(p,{validate:function y(e,t){return"correct"===e.status?{type:"points",earned:1,total:1,message:e.message||null}:"incorrect"===e.status?{type:"points",earned:0,total:1,message:e.message||null}:{type:"invalid",message:"Keep going, you're not there yet!"}}})
e.exports={name:"iframe",displayName:"Iframe",widget:p,hidden:true}},function(e,t,r){"use strict"
var n
var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]
for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}
var a=r(14)
var o=r(15),s=o.StyleSheet,l=o.css
var p=r(12)
var u=r(11)
var c=r(19).Options
var h=r(38),d=h.baseUnitPx
var f=r(83)
var v=r(36)
var m=r(9)
var g=r(34)
var y=400
var b=[0,10]
var T={url:null,width:0,height:0}
var x=["block","float-left","float-right","full-width"]
var P=["block","full-width"]
var E="block"
var w=p.createClass({displayName:"ImageWidget",propTypes:i({},f.propTypes,{alignment:p.PropTypes.oneOf(x),alt:p.PropTypes.string,apiOptions:c.propTypes,backgroundImage:p.PropTypes.shape({url:p.PropTypes.string,width:p.PropTypes.number,height:p.PropTypes.number}),box:p.PropTypes.arrayOf(p.PropTypes.number),caption:p.PropTypes.string,labels:p.PropTypes.arrayOf(p.PropTypes.shape({content:p.PropTypes.string,coordinates:p.PropTypes.arrayOf(p.PropTypes.number),alignment:p.PropTypes.string})),range:p.PropTypes.arrayOf(p.PropTypes.arrayOf(p.PropTypes.number)),title:p.PropTypes.string,trackInteraction:p.PropTypes.func.isRequired}),statics:{styles:s.create({caption:(n={display:"inline-block",marginTop:d,maxWidth:640},n[v.lgOrSmaller]={maxWidth:540},n[v.smOrSmaller]={maxWidth:450},n)})},getDefaultProps:function k(){return{alignment:E,title:"",range:[b,b],box:[y,y],backgroundImage:T,labels:[],alt:"",caption:""}},render:function S(){var e
var t
var r=this.props.apiOptions
var n=this.props.backgroundImage
n.url&&(e=p.createElement(g,{src:n.url,alt:this.props.alt?"":void 0,width:n.width,height:n.height,preloader:r.imagePreloader,extraGraphie:{box:this.props.box,range:this.props.range,labels:this.props.labels},trackInteraction:this.props.trackInteraction,zoomToFullSizeOnMobile:r.isMobile,constrainHeight:r.isMobile,allowFullBleed:r.isMobile}))
this.props.alt&&(t=p.createElement("span",{className:"perseus-sr-only"},p.createElement(m,{content:this.props.alt,apiOptions:r})))
if(r.isMobile){var i
if(this.props.title||this.props.caption){var o=this.props.title
if(o){this.props.caption&&!/[.?!"']\s*$/.test(o)&&(o+=".")
o="**"+o+"** "}var s=a({"perseus-image-caption":true,"has-title":!!o})
var u=this.props.alignment
var c="block"===u||"full-width"===u
var h=c?null:"0 !important"
i=p.createElement("div",{className:s},p.createElement("div",{className:l(w.styles.caption),style:{minWidth:h}},p.createElement(m,{content:o+this.props.caption,apiOptions:r})))}return p.createElement("div",{className:"perseus-image-widget"},e,t,i)}var d
var f
this.props.title&&(d=p.createElement("div",{className:"perseus-image-title"},p.createElement(m,{content:this.props.title,apiOptions:r})))
this.props.caption&&(f=p.createElement("div",{className:"perseus-image-caption"},p.createElement(m,{content:this.props.caption,apiOptions:r})))
return p.createElement("div",{className:"perseus-image-widget"},d,e,t,f)},change:function C(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r]
return f.change.apply(this,t)},getUserInput:function M(){return null},simpleValidate:function _(e){return w.validate(this.getUserInput(),e)},focus:$.noop})
u.extend(w,{validate:function N(e,t){return{type:"points",earned:0,total:0,message:null}}})
e.exports={name:"image",accessible:function I(e){var t=e.backgroundImage
return!(t&&t.url&&!e.alt)},defaultAlignment:E,supportedAlignments:P,displayName:"Image",widget:w}},function(e,t,r){"use strict"
var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]
for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}
var i=r(12)
var a=r(11)
var o=r(83)
var s=r(89)
var l=s.Label
var p=s.Line
var u=s.MovablePoint
var c=s.MovableLine
var h=s.Plot
var d=s.PlotParametric
var f=s.Point
var v=s.Rect
var m=r(129).vector
var g=function w(e,t){t=t||{}
var r=e+"||"+t.decimal_separatpr+"||"
var n=t.functions
var i=n?n.length:0
for(var a=0;a<i;a++)r+=n[a]+"|"
return r}
var y=Object.create(null)
var b=function k(e,t){var r=g(e,t)
var n=y[r]
if(n)return n
n=KAS.parse(e,t)
y[r]=n
return n}
var T=Object.create(null)
var x=function S(e,t){var r=g(e,t)
var n=T[r]
if(n)return n
var i=KAS.parse(e,t).expr
n=i?i.compile():function(){return 0}
T[r]=n
return n}
var P={graph:{box:[400,400],labels:["x","y"],range:[[-10,10],[-10,10]],tickStep:[1,1],gridStep:[1,1],markings:"graph"},elements:[]}
var E=i.createClass({displayName:"Interaction",propTypes:n({},o.propTypes,{graph:i.PropTypes.object,elements:i.PropTypes.arrayOf(i.PropTypes.object)}),getDefaultProps:function C(){return P},getInitialState:function M(){return{variables:this._getInitialVariables(this.props.elements),functions:this._getInitialFunctions(this.props.elements)}},_getInitialVariables:function _(e){var t={}
a.each(a.where(e,{type:"movable-point"}),function(e){var r=e.options.varSubscript
var n=b(e.options.startX||"0").expr
var i=b(e.options.startY||"0").expr
var a=0
var o=0
n&&(a=n.eval({})||0)
i&&(o=i.eval({})||0)
t["x_"+r]=a
t["y_"+r]=o},this)
a.each(a.where(e,{type:"movable-line"}),function(e){var r=e.options.startSubscript
var n=e.options.endSubscript
var i=b(e.options.startX||"0").expr
var a=b(e.options.startY||"0").expr
var o=b(e.options.endX||"0").expr
var s=b(e.options.endY||"0").expr
var l=0
var p=0
var u=0
var c=0
i&&(l=i.eval({})||0)
a&&(p=a.eval({})||0)
o&&(u=o.eval({})||0)
s&&(c=s.eval({})||0)
t["x_"+r]=l
t["y_"+r]=p
t["x_"+n]=u
t["y_"+n]=c},this)
a.each(a.where(e,{type:"function"}),function(e){t[e.options.funcName]=e.options.value})
return t},_getInitialFunctions:function N(e){return a.map(a.where(e,{type:"function"}),function(e){return e.options.funcName})},componentWillReceiveProps:function I(e){this.setState({variables:this._getInitialVariables(e.elements),functions:this._getInitialFunctions(e.elements)})},_setupGraphie:function R(e,t){e.graphInit(a.extend({},t,{grid:a.contains(["graph","grid"],this.props.graph.markings),axes:a.contains(["graph"],this.props.graph.markings),ticks:a.contains(["graph"],this.props.graph.markings),labels:a.contains(["graph"],this.props.graph.markings),labelFormat:function i(e){return"\\small{"+e+"}"},axisArrows:"<->",unityLabels:false}))
if("graph"===this.props.graph.markings){var r=this.props.graph.labels
var n=this.props.graph.range
e.label([0,n[1][1]],r[1],"above")
e.label([n[0][1],0],r[0],"right")}},_updatePointLocation:function O(e,t){var r=a.clone(this.state.variables)
r["x_"+e]=t[0]
r["y_"+e]=t[1]
this.setState({variables:r})
this.props.trackInteraction()},_updateLineLocation:function A(e,t){var r=this._eval("("+e.endX+")-("+e.startX+")")
var n=this._eval("("+e.endY+")-("+e.startY+")")
var i=m.add(t,[r,n])
var o=a.clone(this.state.variables)
o["x_"+e.startSubscript]=t[0]
o["y_"+e.startSubscript]=t[1]
o["x_"+e.endSubscript]=i[0]
o["y_"+e.endSubscript]=i[1]
this.setState({variables:o})
this.props.trackInteraction()},_eval:function D(e,t){var r=this
var n=x(e,{functions:this.state.functions})
var i=a.extend({},this.state.variables,t)
a.each(a.keys(i),function(e){if(a.isString(i[e])){var t=x(i[e],{functions:r.state.functions})
i[e]=function(e){return t(a.extend({},i,{x:e}))}}})
return n(i)||0},_extractVars:function L(e){if(null==e)return[]
var t=[]
a.each(e.args(),function(e){e&&"Expr"===e.constructor.name&&(t=t.concat(this._extractVars(e)))},this)
"Var"===e.name()&&t.push(e.prettyPrint())
return t},change:function F(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r]
return o.change.apply(this,t)},render:function q(){return i.createElement(s,{box:this.props.graph.box,range:this.props.graph.range,options:this.props.graph,setup:this._setupGraphie,setDrawingAreaAvailable:this.props.apiOptions.setDrawingAreaAvailable},a.map(this.props.elements,function(e,t){var r=this
if("point"===e.type)return i.createElement(f,{key:e.key,coord:[this._eval(e.options.coordX),this._eval(e.options.coordY)],color:e.options.color})
if("line"===e.type){var n=[this._eval(e.options.startX),this._eval(e.options.startY)]
var o=[this._eval(e.options.endX),this._eval(e.options.endY)]
return i.createElement(p,{key:e.key,start:n,end:o,style:{stroke:e.options.color,strokeWidth:e.options.strokeWidth,strokeDasharray:e.options.strokeDasharray,arrows:e.options.arrows}})}if("movable-point"===e.type){var s=[function(t){var n=Math.max(r._eval(e.options.constraintXMin),Math.min(r._eval(e.options.constraintXMax),t[0]))
var i=Math.max(r._eval(e.options.constraintYMin),Math.min(r._eval(e.options.constraintYMax),t[1]))
return[n,i]}]
"snap"===e.options.constraint?s.push(u.constraints.snap(e.options.snap)):"x"===e.options.constraint?s.push(function(t){return[r._eval(e.options.constraintFn,{y:t[1]}),t[1]]}):"y"===e.options.constraint&&s.push(function(t){return[t[0],r._eval(e.options.constraintFn,{x:t[0]})]})
return i.createElement(u,{key:e.key,coord:[this.state.variables["x_"+e.options.varSubscript],this.state.variables["y_"+e.options.varSubscript]],constraints:s,foo_x:e.options.constraint,foo_y:e.options.constraintFn,foo_z:e.options.snap,onMove:a.partial(this._updatePointLocation,e.options.varSubscript)})}if("movable-line"===e.type){var s=[function(t){var n=Math.max(r._eval(e.options.constraintXMin),Math.min(r._eval(e.options.constraintXMax),t[0]))
var i=Math.max(r._eval(e.options.constraintYMin),Math.min(r._eval(e.options.constraintYMax),t[1]))
return[n,i]}]
"snap"===e.options.constraint?s.push(u.constraints.snap(e.options.snap)):"x"===e.options.constraint?s.push(function(t){return[r._eval(e.options.constraintFn,{y:t[1]}),t[1]]}):"y"===e.options.constraint&&s.push(function(t){return[t[0],r._eval(e.options.constraintFn,{x:t[0]})]})
var n=[this.state.variables["x_"+e.options.startSubscript],this.state.variables["y_"+e.options.startSubscript]]
var o=[this.state.variables["x_"+e.options.endSubscript],this.state.variables["y_"+e.options.endSubscript]]
return i.createElement(c,{key:e.key,constraints:s,onMove:a.bind(this._updateLineLocation,this,e.options),foo_x:e.options.constraint,foo_y:e.options.constraintFn,foo_z:e.options.snap},i.createElement(u,{coord:n,"static":true,normalStyle:{stroke:"none",fill:"none"}}),i.createElement(u,{coord:o,"static":true,normalStyle:{stroke:"none",fill:"none"}}))}if("function"===e.type){var m=function P(t){return r._eval(e.options.value,{x:t})}
var g=a.without(this._extractVars(b(e.options.value).expr),"x")
var y=a.object(g,a.map(g,function(e){return r.state.variables[e]}))
var T=[this._eval(e.options.rangeMin,this.state.variables),this._eval(e.options.rangeMax,this.state.variables)]
return i.createElement(h,{key:e.key,fn:m,foo_fn:e.options.value,foo_varvalues:y,range:T,style:{stroke:e.options.color,strokeWidth:e.options.strokeWidth,strokeDasharray:e.options.strokeDasharray,plotPoints:100}})}if("parametric"===e.type){var m=function E(t){return[r._eval(e.options.x,{t:t}),r._eval(e.options.y,{t:t})]}
var g=a.without(this._extractVars(b(e.options.x).expr).concat(this._extractVars(b(e.options.y).expr)),"t")
var y=a.object(g,a.map(g,function(e){return r.state.variables[e]}))
var T=[this._eval(e.options.rangeMin,this.state.variables),this._eval(e.options.rangeMax,this.state.variables)]
return i.createElement(d,{key:e.key,fn:m,foo_fnx:e.options.x,foo_fny:e.options.y,foo_varvalues:y,range:T,style:{stroke:e.options.color,strokeWidth:e.options.strokeWidth,strokeDasharray:e.options.strokeDasharray,plotPoints:100}})}if("label"===e.type){var x=[this._eval(e.options.coordX),this._eval(e.options.coordY)]
return i.createElement(l,{key:t+1,coord:x,text:e.options.label,style:{color:e.options.color}})}if("rectangle"===e.type)return i.createElement(v,{key:t+1,x:this._eval(e.options.coordX),y:this._eval(e.options.coordY),width:a.max([this._eval(e.options.width),0]),height:a.max([this._eval(e.options.height),0]),style:{stroke:"none",fill:e.options.color}})},this))},getUserInput:function B(){return{}},simpleValidate:function z(e){return E.validate(this.getUserInput(),e)}})
a.extend(E,{validate:function U(e,t){return{type:"points",earned:0,total:0,message:null}}})
e.exports={name:"interaction",displayName:"Interaction",widget:E,transform:a.identity}},function(e,t,r){"use strict"
var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]
for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}
var i=r(12)
var a=r(11)
var o=r(105)
var s=r(106)
var l=r(100)
var p=r(107)
var u=r(18)
var c=r(129).number
var h=r(129).point
var d=r(103)
var f=r(108)
var v=r(38),m=v.interactiveSizes
var g=r(75),y=g.containerSizeClassPropType,b=g.getInteractiveBoxFromSizeClass
var T=r(102)
var x=u.DeprecationMixin
var P="https://ka-perseus-graphie.s3.amazonaws.com/b1452c0d79fd0f7ff4c3af9488474a0a0decb361.png"
var E={url:null}
var w=u.eq
var k=u.deepEq
var S="unlimited"
function C(e,t,r){return(t[0]-e[0])*(r[1]-e[1])-(r[0]-e[0])*(t[1]-e[1])}function M(e,t,r){return w(C(e,t,r),0)}function _(e){return w(e,0)?0:e>0?1:-1}function N(e,t){return null==e?t:e}function I(e,t,r){return r[0]<=Math.max(e[0],t[0])&&r[0]>=Math.min(e[0],t[0])&&r[1]<=Math.max(e[1],t[1])&&r[1]>=Math.min(e[1],t[1])}function R(e,t){var r=[[e[0],e[1],t[0]],[e[0],e[1],t[1]],[t[0],t[1],e[0]],[t[0],t[1],e[1]]]
var n=a.map(r,function(e){return _(C.apply(null,e))})
if(n[0]!==n[1]&&n[2]!==n[3])return true
for(var i=0;i<4;i++)if(0===n[i]&&I.apply(null,r[i]))return true
return false}function O(e,t){return a.map(a.zip(e,t),function(e){return e[0]-e[1]})}function A(e){return Math.sqrt(a.reduce(e,function(e,t){return e+Math.pow(t,2)},0))}function D(e,t){return a.reduce(a.zip(e,t),function(e,t){return e+t[0]*t[1]},0)}function L(e){var t=a.zip(e,H(e))
return a.map(t,function(e){return A(O.apply(null,e))})}function F(e){var t=a.zip(H(e,-1),e,H(e,1))
var r=a.map(t,function(e){var t=O(e[1],e[0])
var r=O(e[2],e[1])
var n=Math.acos(D(t,r)/(A(t)*A(r)))
return _(C.apply(null,e))>0?n:-n})
var n=a.reduce(r,function(e,t){return e+t},0)
return a.map(r,function(e){return n>0?Math.PI-e:Math.PI+e})}function q(e,t,r){if(e.length!==t.length)return false
var n=e.length
var i=F(e)
var o=F(t)
var s=L(e)
var l=L(t)
for(var p=0;p<2*n;p++){var u=o.slice()
var h=l.slice()
if(p>=n){u.reverse()
h.reverse()
h=H(h,1)}u=H(u,p)
h=H(h,p)
if(k(i,u)){var d=a.zip(s,h)
var f=a.map(d,function(e){return e[0]/e[1]})
var v=a.all(f,function(e){return w(f[0],e)})
var m=a.all(d,function(e){return c.equal(e[0],e[1],r)})
if(v&&m)return true}}return false}function B(e,t){return e<t||w(e,t)}function z(e,t,r){return 180*Math.acos((e*e+t*t-r*r)/(2*e*t))/Math.PI}function U(e){var t=e[0]
var r=e[1]
var n=e[2]
var i=e[3]
if(t<0){t*=-1
r*=-1
n*=-1}var a=2*Math.PI
if(r<0){r*=-1
n*=-1
n+=a/2}while(n>0)n-=a
while(n<0)n+=a
return[t,r,n,i]}function H(e,t){t="undefined"===typeof t?1:t%e.length
return e.slice(t).concat(e.slice(0,t))}function W(e){return e.replace(/(?:^|-)(.)/g,function(e,t){return t.toUpperCase()})}function V(e,t){if(w(e[0],t[0]))return"x = "+e[0].toFixed(3)
var r=(t[1]-e[1])/(t[0]-e[0])
var n=e[1]-r*e[0]
return"y = "+r.toFixed(3)+"x + "+n.toFixed(3)}function G(e,t){var r=e[0][0],n=e[0][1],i=e[1][0],a=e[1][1],o=t[0][0],s=t[0][1],l=t[1][0],p=t[1][1]
var u=(r-i)*(s-p)-(n-a)*(o-l)
if(Math.abs(u)<1e-9)return"Lines are parallel"
var c=((r*a-n*i)*(o-l)-(r-i)*(o*p-s*l))/u
var h=((r*a-n*i)*(s-p)-(n-a)*(o*p-s*l))/u
return"Intersection: ("+c.toFixed(3)+", "+h.toFixed(3)+")"}function j(e,t){return Math.floor((e[1]-e[0])/t)}var Y={showGraph:function X(e){return{markings:e.showGraph?"graph":"none"}}}
var K=i.createClass({displayName:"InteractiveGraph",propTypes:{containerSizeClass:y.isRequired,trackInteraction:i.PropTypes.func.isRequired},getInitialState:function Q(){return{shouldShowInstructions:this._getShouldShowInstructions()}},getDefaultProps:function Z(){return{labels:["x","y"],range:[[-10,10],[-10,10]],step:[1,1],backgroundImage:E,markings:"graph",showTooltips:false,showProtractor:false,showRuler:false,rulerLabel:"",rulerTicks:10,graph:{type:"linear"}}},deprecatedProps:Y,componentWillMount:function J(){x.componentWillMount.call(this)},_getShouldShowInstructions:function et(e){e=e||this.props
return this.isClickToAddPoints(e)&&(null==e.graph.coords||0===e.graph.coords.length)},componentDidUpdate:function tt(e,t){var r=e.graph.type
var n=this.props.graph.type
if(r!==n||e.graph.allowReflexAngles!==this.props.graph.allowReflexAngles||e.graph.angleOffsetDeg!==this.props.graph.angleOffsetDeg||e.graph.numPoints!==this.props.graph.numPoints||e.graph.numSides!==this.props.graph.numSides||e.graph.numSegments!==this.props.graph.numSegments||e.graph.showAngles!==this.props.graph.showAngles||e.graph.showSides!==this.props.graph.showSides||e.graph.snapTo!==this.props.graph.snapTo||e.graph.snapDegrees!==this.props.graph.snapDegrees){this["remove"+W(r)+"Controls"]()
this["add"+W(n)+"Controls"]()}this.shouldResetGraphie&&this.resetGraphie()},render:function rt(){var e=this
var t
var r
if(this.props.flexibleType){t=i.createElement("select",{value:this.props.graph.type,onChange:function m(t){var r=t.target.value
e.onChange({graph:{type:r}})}},i.createElement("option",{value:"linear"},"Linear function"),i.createElement("option",{value:"quadratic"},"Quadratic function"),i.createElement("option",{value:"sinusoid"},"Sinusoid function"),i.createElement("option",{value:"circle"},"Circle"),i.createElement("option",{value:"point"},"Point(s)"),i.createElement("option",{value:"linear-system"},"Linear System"),i.createElement("option",{value:"polygon"},"Polygon"),i.createElement("option",{value:"segment"},"Line Segment(s)"),i.createElement("option",{value:"ray"},"Ray"),i.createElement("option",{value:"angle"},"Angle"))
if("point"===this.props.graph.type)r=i.createElement("select",{key:"point-select",value:this.props.graph.numPoints||1,onChange:function g(t){var r=+t.target.value||t.target.value
e.onChange({graph:{type:"point",numPoints:r,coords:null}})}},a.map(a.range(1,7),function(e){return i.createElement("option",{value:e},e," point",e>1&&"s")}),i.createElement("option",{value:S},"unlimited"))
else if("polygon"===this.props.graph.type)r=i.createElement("div",null,i.createElement("div",null,i.createElement("select",{key:"polygon-select",value:this.props.graph.numSides||3,onChange:function y(t){var r=+t.target.value||t.target.value
var n=a.extend({},e.props.graph,{numSides:r,coords:null,snapTo:"grid"})
e.onChange({graph:n})}},a.map(a.range(3,13),function(e){return i.createElement("option",{value:e},e," sides")}),i.createElement("option",{value:S},"unlimited sides"))),i.createElement("div",null,i.createElement("label",null," Snap to"," ",i.createElement("select",{key:"polygon-snap",value:this.props.graph.snapTo,onChange:function T(t){var r=a.extend({},e.props.graph,{snapTo:t.target.value,coords:null})
e.onChange({graph:r})}},i.createElement("option",{value:"grid"},"grid"),this.props.graph.numSides!==S&&[i.createElement("option",{value:"angles"}," ","interior angles"," "),i.createElement("option",{value:"sides"}," ","side measures"," ")])),i.createElement(s,null,i.createElement("p",null,"These options affect the movement of the vertex points. The grid option will guide the points to the nearest half step along the grid."),i.createElement("p",null,"The interior angle and side measure options guide the points to the nearest whole angle or side")," measure respectively."," ")),i.createElement("div",null,i.createElement("label",null,"Show angle measures:"," ",i.createElement("input",{type:"checkbox",checked:this.props.graph.showAngles,onChange:this.toggleShowAngles})),i.createElement(s,null,i.createElement("p",null,"Displays the interior angle measures."))),i.createElement("div",null,i.createElement("label",null,"Show side measures:"," ",i.createElement("input",{type:"checkbox",checked:this.props.graph.showSides,onChange:this.toggleShowSides})),i.createElement(s,null,i.createElement("p",null,"Displays the side lengths."))))
else if("segment"===this.props.graph.type)r=i.createElement("select",{key:"segment-select",value:this.props.graph.numSegments||1,onChange:function x(t){var r=+t.target.value
e.onChange({graph:{type:"segment",numSegments:r,coords:null}})}},a.map(a.range(1,7),function(e){return i.createElement("option",{value:e},e," segment",e>1&&"s")}))
else if("angle"===this.props.graph.type){var n=N(this.props.graph.allowReflexAngles,true)
r=i.createElement("div",null,i.createElement("div",null,i.createElement("label",null,"Show angle measure:"," ",i.createElement("input",{type:"checkbox",checked:this.props.graph.showAngles,onChange:this.toggleShowAngles}))),i.createElement("div",null,i.createElement("label",null,"Allow reflex angles:"," ",i.createElement("input",{type:"checkbox",checked:n,onChange:function P(t){e.onChange({graph:a.extend({},e.props.graph,{allowReflexAngles:!n,coords:null})})}})),i.createElement(s,null,i.createElement("p",null,"Reflex angles are angles with a measure greater than 180 degrees."),i.createElement("p",null,"By default, these should remain enabled."))),i.createElement("div",null,i.createElement("label",null,"Snap to increments of"," ",i.createElement(p,{key:"degree-snap",placeholder:1,value:this.props.graph.snapDegrees,onChange:function E(t){e.onChange({graph:a.extend({},e.props.graph,{snapDegrees:Math.abs(t),coords:null})})}})," ","degrees"," ")),i.createElement("div",null,i.createElement("label",null," ","With an offset of"," ",i.createElement(p,{key:"angle-offset",placeholder:0,value:this.props.graph.angleOffsetDeg,onChange:function w(t){e.onChange({graph:a.extend({},e.props.graph,{angleOffsetDeg:t,coords:null})})}})," ","degrees"," ")))}}var l=b(this.props.containerSizeClass)
var c
this.isClickToAddPoints()&&this.state.shouldShowInstructions?"point"===this.props.graph.type?c=i18n._("Click to add points"):"polygon"===this.props.graph.type&&(c=i18n._("Click to add vertices")):c=void 0
var h=this.isClickToAddPoints()?this.handleAddPointsMouseDown:null
var d=this.props.gridStep||u.getGridStep(this.props.range,this.props.step,l[0])
var f=this.props.snapStep||u.snapStepFromGridStep(d)
var v=this.props.apiOptions.isMobile
return i.createElement("div",{className:"perseus-widget perseus-widget-interactive-graph",style:{width:l[0],height:this.props.flexibleType?"auto":l[1]}},i.createElement(o,{instructions:c,ref:"graph",box:l,labels:this.props.labels,range:this.props.range,step:v?u.constrainedTickStepsFromTickSteps(this.props.step,this.props.range):this.props.step,gridStep:d,snapStep:f,markings:this.props.markings,backgroundImage:this.props.backgroundImage,showProtractor:this.props.showProtractor,showRuler:this.props.showRuler,rulerLabel:this.props.rulerLabel,rulerTicks:this.props.rulerTicks,onMouseDown:h,onGraphieUpdated:this.setGraphie,setDrawingAreaAvailable:this.props.apiOptions.setDrawingAreaAvailable,isMobile:v}),t,r)},componentDidMount:function nt(){this.setGraphie(this.refs.graph.graphie())},setGraphie:function it(e){this.graphie=e
this.setupGraphie()},handleAddPointsMouseDown:function at(e){if(!this.isClickToAddPoints())throw new Error("handleAddPointsClick should not be registeredwhen isClickToAddPoints() is false")
if(!this.isCoordInTrash(e)){var t
if("point"===this.props.graph.type){t=this.createPointForPointsType(e,this.points.length)
if(!t.constrain()){t.remove()
return}this.points.push(t)
var r=this.points.length-1
this.points[r].grab(e)
this.updateCoordsFromPoints()}else if("polygon"===this.props.graph.type){if(this.polygon.closed())return
t=this.createPointForPolygonType(e,this.points.length)
this.points.push(t)
var r=this.points.length-1
this.points[r].grab(e)
this.updatePolygon()}this.setState({shouldShowInstructions:false})}},resetGraphie:function ot(){this.shouldResetGraphie=false
this.parabola=null
this.sinusoid=null
this.refs.graph.reset()},setupGraphie:function st(){this.setTrashCanVisibility(0)
this.isClickToAddPoints()&&this.setTrashCanVisibility(.5)
if(this.props.apiOptions.isMobile){this.horizHairline=new T(this.graphie,[0,0],[0,0],{normalStyle:{strokeWidth:1}})
this.horizHairline.attr({stroke:d.INTERACTIVE})
this.horizHairline.hide()
this.vertHairline=new T(this.graphie,[0,0],[0,0],{normalStyle:{strokeWidth:1}})
this.vertHairline.attr({stroke:d.INTERACTIVE})
this.vertHairline.hide()}var e=this.props.graph.type
this["add"+W(e)+"Controls"]()},showHairlines:function lt(e){if(this.props.apiOptions.isMobile&&"none"!==this.props.markings){this.horizHairline.moveTo([this.props.range[0][0],e[1]],[this.props.range[0][1],e[1]])
this.horizHairline.show()
this.vertHairline.moveTo([e[0],this.props.range[1][0]],[e[0],this.props.range[1][1]])
this.vertHairline.show()}},hideHairlines:function pt(){if(this.props.apiOptions.isMobile){this.horizHairline.hide()
this.vertHairline.hide()}},setTrashCanVisibility:function ut(e){var t=this.graphie
if(c.equal(e,0)){if(this.trashCan){this.trashCan.remove()
this.trashCan=null}}else if(!this.props.apiOptions.isMobile){this.trashCan||(this.trashCan=t.raphael.image(P,t.xpixels-40,t.ypixels-40,40,40))
this.trashCan.attr({opacity:e})}},componentWillReceiveProps:function ct(e){if(this.isClickToAddPoints()!==this.isClickToAddPoints(e)){this.shouldResetGraphie=true
this.setState({shouldShowInstructions:this._getShouldShowInstructions(e)})}this.props.backgroundImage.url===e.backgroundImage.url&&this.props.backgroundImage===e.backgroundImage&&this.props.containerSizeClass===e.containerSizeClass||(this.shouldResetGraphie=true)},isClickToAddPoints:function ht(e){e=e||this.props
return"point"===e.graph.type&&e.graph.numPoints===S||"polygon"===e.graph.type&&e.graph.numSides===S},_lineStroke:function dt(){return this.props.isMobile?{"stroke-width":3}:{}},addLine:function ft(e){var t=this
var r=this
var i=r.graphie
var o=K.getLineCoords(r.props.graph,r.props)
var s=r.points=a.map(o,function(e){return l.addMaybeMobileMovablePoint(t,{coord:e,constraints:[l.MovablePoint.constraints.bound(),l.MovablePoint.constraints.snap()],onMove:function n(){var e=a.extend({},r.props.graph,{coords:a.invoke(s,"coord")})
r.onChange({graph:e})}})})
var p={points:s,"static":true,normalStyle:n({stroke:this.props.apiOptions.isMobile?d.BLUE_C:d.INTERACTIVE},this._lineStroke())}
"line"===e?p.extendLine=true:"ray"===e&&(p.extendRay=true)
var u=r.line=l.addMovableLine(i,p)
s[0].listen("constraints","isLine",function(e){return!h.equal(e,s[1].coord())})
s[1].listen("constraints","isLine",function(e){return!h.equal(e,s[0].coord())})},removeLine:function vt(){a.invoke(this.points,"remove")
this.line.remove()},addLinearControls:function mt(){this.addLine("line")},removeLinearControls:function gt(){this.removeLine()},addQuadraticControls:function yt(){var e=this
var t=this.graphie
var r=this.props.graph.coords
r||(r=K.defaultQuadraticCoords(this.props))
var n
var i
var o
var s=function p(){var t=a.extend({},e.props.graph,{coords:[n.coord(),i.coord(),o.coord()]})
e.onChange({graph:t})
e.updateQuadratic()}
n=this.pointA=l.addMaybeMobileMovablePoint(this,{coord:r[0],constraints:[l.MovablePoint.constraints.bound(),l.MovablePoint.constraints.snap(),function(e){return!n||e[0]!==i.coord()[0]&&e[0]!==o.coord()[0]}],onMove:s})
i=this.pointB=l.addMaybeMobileMovablePoint(this,{coord:r[1],constraints:[l.MovablePoint.constraints.bound(),l.MovablePoint.constraints.snap(),function(e){return!i||e[0]!==n.coord()[0]&&e[0]!==o.coord()[0]}],onMove:s})
o=this.pointC=l.addMaybeMobileMovablePoint(this,{coord:r[2],constraints:[l.MovablePoint.constraints.bound(),l.MovablePoint.constraints.snap(),function(e){return!o||e[0]!==n.coord()[0]&&e[0]!==i.coord()[0]}],onMove:s})
this.updateQuadratic()},updateQuadratic:function bt(){var e=K.getCurrentQuadraticCoefficients(this.props)
if(!e)return
var t=e[0],r=e[1],i=e[2]
if(this.parabola){var a=this.graphie.svgParabolaPath(t,r,i)
this.parabola.attr({path:a})}else{this.parabola=this.graphie.parabola(t,r,i)
this.parabola.attr(n({stroke:this.props.apiOptions.isMobile?d.BLUE_C:d.DYNAMIC},this._lineStroke()))
this.parabola.toBack()}},removeQuadraticControls:function Tt(){this.pointA.remove()
this.pointB.remove()
this.pointC.remove()
if(this.parabola){this.parabola.remove()
this.parabola=null}},addSinusoidControls:function xt(){var e=this
var t=this.graphie
var r=this.props.graph.coords
r||(r=K.defaultSinusoidCoords(this.props))
var n
var i
var o=function s(){var t=a.extend({},e.props.graph,{coords:[n.coord(),i.coord()]})
e.onChange({graph:t})
e.updateSinusoid()}
n=this.pointA=l.addMaybeMobileMovablePoint(this,{coord:r[0],constraints:[l.MovablePoint.constraints.bound(),l.MovablePoint.constraints.snap(),function(e){return!n||e[0]!==i.coord()[0]}],onMove:o})
i=this.pointB=l.addMaybeMobileMovablePoint(this,{coord:r[1],constraints:[l.MovablePoint.constraints.bound(),l.MovablePoint.constraints.snap(),function(e){return!n||e[0]!==n.coord()[0]}],onMove:o})
this.updateSinusoid()},updateSinusoid:function Pt(){var e=K.getCurrentSinusoidCoefficients(this.props)
if(!e)return
var t=e[0],r=e[1],i=e[2],a=e[3]
if(this.sinusoid){var o=this.graphie.svgSinusoidPath(t,r,i,a)
this.sinusoid.attr({path:o})}else{this.sinusoid=this.graphie.sinusoid(t,r,i,a)
this.sinusoid.attr(n({stroke:this.props.apiOptions.isMobile?d.BLUE_C:d.DYNAMIC},this._lineStroke()))
this.sinusoid.toBack()}},removeSinusoidControls:function Et(){this.pointA.remove()
this.pointB.remove()
if(this.sinusoid){this.sinusoid.remove()
this.sinusoid=null}},addCircleControls:function wt(){var e=this
var t=this.graphie
var r=a.min(t.snap)
var n=this.circle=t.addCircleGraph({center:this.props.graph.center||[0,0],radius:this.props.graph.radius||a.min(this.props.step),snapX:t.snap[0],snapY:t.snap[1],minRadius:2*r,snapRadius:r})
$(n).on("move",function(){var t=a.extend({},e.props.graph,{center:n.center,radius:n.radius})
e.onChange({graph:t})})},removeCircleControls:function kt(){this.circle.remove()},addLinearSystemControls:function St(){var e=this
var t=this.graphie
var r=K.getLinearSystemCoords(this.props.graph,this.props)
var n=[d.INTERACTIVE,d.GREEN]
var i=this.points=a.map(r,function(t,r){var i=a.map(t,function(t,o){return l.addMaybeMobileMovablePoint(e,{coord:t,constraints:[l.MovablePoint.constraints.bound(),l.MovablePoint.constraints.snap(),function(e){if(!i)return
return!h.equal(e,i[1-o].coord())}],onMove:function s(){var t=a.extend({},e.props.graph,{coords:a.map(e.points,function(e){return a.invoke(e,"coord")})})
e.onChange({graph:t})},normalStyle:{fill:n[r]},highlightStyle:{fill:n[r]}})})
return i})
var o=this.lines=a.map(i,function(e,r){return l.addMovableLine(t,{points:e,"static":true,extendLine:true,normalStyle:{stroke:n[r]}})})},removeLinearSystemControls:function Ct(){a.invoke(this.lines,"remove")
a.map(this.points,function(e){return a.invoke(e,"remove")})},isCoordInTrash:function Mt(e){if(this.props.apiOptions.isMobile)return false
var t=this.graphie
var r=t.scalePoint(e)
return r[0]>=t.xpixels-40&&r[1]>=t.ypixels-40},createPointForPointsType:function _t(e,t){var r=this
var i=r.graphie
var o=function p(){r.points=a.filter(r.points,function(e){return e!==s})
r.updateCoordsFromPoints()
setTimeout(s.remove.bind(s),0)}
var s=l.addMaybeMobileMovablePoint(this,n({coord:e,constraints:[l.MovablePoint.constraints.bound(),l.MovablePoint.constraints.snap(),function(e){return a.all(r.points,function(t){return s===t||!h.equal(e,t.coord())})}],onMoveStart:function u(){r.isClickToAddPoints()&&r.setTrashCanVisibility(1)},onMove:r.updateCoordsFromPoints,onMoveEnd:function c(e){if(r.isClickToAddPoints()){r.isCoordInTrash(e)&&o()
r.setTrashCanVisibility(.5)}}},this.props.apiOptions.isMobile&&r.isClickToAddPoints()?{onRemove:o}:{}))
return s},removePoint:function Nt(e){var t=null
this.points=a.filter(this.points,function(r,n){if(r===e){t=n
return false}return true})
return t},createPointForPolygonType:function It(e,t){var r=this
var i=this.graphie
var o=!a.contains(["angles","sides"],this.props.graph.snapTo)
var s=function v(e){return(t+e+r.points.length)%r.points.length}
var p=function m(){var e=r.removePoint(d)
if(r.polygon.closed()){r.points=H(r.points,e)
r.polygon.update({closed:false})}r.updatePolygon()
r.clearCoords()
setTimeout(d.remove.bind(d),0)}
var u=function g(e){if(r.isClickToAddPoints()){if(r.isCoordInTrash(e))p()
else if(r.points.length>1&&(d===r.points[0]&&h.equal(e,a.last(r.points).coord())||d===a.last(r.points)&&h.equal(e,r.points[0].coord()))){var t=r.points.pop()
if(r.points.length>2){r.polygon.update({closed:true})
r.updateCoordsFromPoints()}else{r.polygon.update({closed:false})
r.clearCoords()}r.updatePolygon()
setTimeout(t.remove.bind(t),0)}else{var n=a.any(r.points,function(t){return t!==d&&h.equal(t.coord(),e)})
if(n){r.removePoint(d)
if(r.points.length<3){r.polygon.update({closed:false})
r.clearCoords()}else r.polygon.closed()&&r.updateCoordsFromPoints()
r.updatePolygon()
setTimeout(d.remove.bind(d),0)}else if((d===r.points[0]||d===a.last(r.points))&&!d.hasMoved()&&!d.state.isInitialMove&&!r.polygon.closed()&&r.points.length>2){r.polygon.update({closed:true})
r.updatePolygon()
r.updateCoordsFromPoints()}}r.setTrashCanVisibility(.5)}d.state.isInitialMove=false}
var c=function y(e){if(null==r.points||0===r.points.length)return true
var n=a.invoke(r.points,"coord")
n[t]=e
if(!r.isClickToAddPoints()){if(M(n[s(-2)],n[s(-1)],n[t])||M(n[s(-1)],n[t],n[s(1)])||M(n[t],n[s(1)],n[s(2)]))return false
var i=a.zip(n,H(n))
if(r.points.length>3)for(var o=-1;o<=0;o++){var l=i[s(o)]
var p=a.without(i,l,i[s(o-1)],i[s(o+1)])
for(var u=0;u<p.length;u++){var c=p[u]
if(R(l,c))return false}}}if("angles"===r.props.graph.snapTo&&r.points.length>2){var h=a.map(F(n),function(e){return 180*e/Math.PI})
a.each([-1,1],function(e){h[s(e)]=Math.round(h[s(e)])})
var d=function E(e,t,r){var i=f.findAngle(n[s(e)],n[s(r)],n[s(t)])
return(i+360)%360}
var v=[h[s(-1)]-d(-2,-1,1),h[s(1)]-d(-1,1,2)]
v[2]=180-(v[0]+v[1])
if(a.any(v,function(e){return B(e,1)}))return false
var m=A(O(n[s(-1)],n[s(1)]))
var g=1===_(C(n[s(-1)],n[s(1)],n[t]))
var y=Math.sin(v[1]*Math.PI/180)/Math.sin(v[2]*Math.PI/180)*m
var b=f.findAngle(n[s(1)],n[s(-1)])
var T=r.graphie.polar(y,b+(g?1:-1)*v[0])
return r.graphie.addPoints(n[s(-1)],T)}if("sides"===r.props.graph.snapTo&&r.points.length>1){var x=a.map([[n[s(-1)],n[t]],[n[t],n[s(1)]],[n[s(-1)],n[s(1)]]],function(e){return A(O.apply(null,e))})
a.each([0,1],function(e){x[e]=Math.round(x[e])})
if(B(x[1]+x[2],x[0])||B(x[0]+x[2],x[1])||B(x[0]+x[1],x[2]))return false
var P=z(x[0],x[2],x[1])
var b=f.findAngle(n[s(1)],n[s(-1)])
var g=1===_(C(n[s(-1)],n[s(1)],n[t]))
var T=r.graphie.polar(x[0],b+(g?1:-1)*P)
return r.graphie.addPoints(n[s(-1)],T)}return true}
var d=l.addMaybeMobileMovablePoint(this,n({coord:e,constraints:[l.MovablePoint.constraints.bound(),o?l.MovablePoint.constraints.snap():null,c],onMoveStart:function b(){r.isClickToAddPoints()&&r.setTrashCanVisibility(1)},onMove:function T(){r.polygon.closed()&&r.updateCoordsFromPoints()},onMoveEnd:u},this.props.apiOptions.isMobile&&this.isClickToAddPoints()?{onRemove:p}:{}))
d.state.isInitialMove=true
return d},updateCoordsFromPoints:function Rt(){var e=a.extend({},this.props.graph,{coords:a.map(this.points,function(e){return a.result(e,"coord")})})
this.onChange({graph:e})},clearCoords:function Ot(){var e=a.extend({},this.props.graph,{coords:null})
this.onChange({graph:e})},onChange:function At(e){this.props.onChange(e)
this.props.trackInteraction()},addPointControls:function Dt(){var e=K.getPointCoords(this.props.graph,this.props)
this.points=[]
this.points=a.map(e,this.createPointForPointsType,this)},removePointControls:function Lt(){a.invoke(this.points,"remove")},addSegmentControls:function Ft(){var e=this
var t=this
var r=this.graphie
var i=K.getSegmentCoords(this.props.graph,this.props)
var o=function s(t){return l.addMaybeMobileMovablePoint(e,t)}
this.points=[]
this.lines=a.map(i,function(e,i){var s=function c(){var e=a.extend({},t.props.graph,{coords:a.invoke(t.lines,"coords")})
t.onChange({graph:e})}
var p=a.map(e,function(e,t){return o({coord:e,constraints:[l.MovablePoint.constraints.bound(),l.MovablePoint.constraints.snap(),function(e){if(!p)return
return!h.equal(e,p[1-t].coord())}],onMove:s})})
t.points=t.points.concat(p)
var u=l.addMovableLine(r,{points:p,"static":false,constraints:[l.MovableLine.constraints.bound(),l.MovableLine.constraints.snap()],onMove:[l.MovableLine.onMove.updatePoints,s],normalStyle:n({stroke:this.props.apiOptions.isMobile?d.BLUE_C:d.INTERACTIVE},this._lineStroke()),highlightStyle:n({stroke:this.props.apiOptions.isMobile?d.BLUE_C:d.INTERACTING},this._lineStroke())})
a.invoke(p,"toFront")
return u},this)},removeSegmentControls:function qt(){a.invoke(this.points,"remove")
a.invoke(this.lines,"remove")},addRayControls:function Bt(){this.addLine("ray")},removeRayControls:function zt(){this.removeLine()},addPolygonControls:function Ut(){this.polygon=null
var e=K.getPolygonCoords(this.props.graph,this.props)
this.points=[]
this.points=a.map(e,this.createPointForPolygonType,this)
this.updatePolygon()},updatePolygon:function Ht(){var e
e=this.polygon?this.polygon.closed():this.points.length>=3
var t=this.graphie
var r=this.points.length
var i=!a.contains(["angles","sides"],this.props.graph.snapTo)
var o=a.times(r,function(t){return this.props.graph.showAngles&&(e||0!==t&&t!==r-1)?"angles"===this.props.graph.snapTo?"$deg0":"$deg1":""},this)
var s=a.times(r,function(t){return e||0!==t&&t!==r-1},this)
var p=a.times(r,function(t){return this.props.graph.showAngles&&(e||0!==t&&t!==r-1)?1:0},this)
var u=a.times(r,function(t){return!this.props.graph.showSides||!e&&t===r-1?"":"sides"===this.props.graph.snapTo?"$len0":"$len1"},this)
if(null==this.polygon){var c=this
c.polygon=l.addMovablePolygon(t,{constraints:[l.MovablePolygon.constraints.bound(),i?l.MovablePolygon.constraints.snap():null],closed:e,points:c.points,angleLabels:o,showRightAngleMarkers:s,numArcs:p,sideLabels:u,onMove:[l.MovablePolygon.onMove.updatePoints,function(){this.closed()&&c.updateCoordsFromPoints()}],normalStyle:n({stroke:this.props.apiOptions.isMobile?d.BLUE_C:d.INTERACTIVE},this._lineStroke())})}else this.polygon.update({closed:e,points:this.points,angleLabels:o,showRightAngleMarkers:s,numArcs:p,sideLabels:u})},removePolygonControls:function Wt(){a.invoke(this.points,"remove")
this.polygon.remove()},addAngleControls:function Vt(){var e=this
var t=this.graphie
var r=K.getAngleCoords(this.props.graph,this.props)
this.points=a.map(r,function(e,r){return t.addMovablePoint(a.extend({coord:e,normalStyle:{stroke:d.INTERACTIVE,fill:d.INTERACTIVE}},1===r?{snapX:t.snap[0],snapY:t.snap[1]}:{}))})
this.angle=t.addMovableAngle({points:this.points,snapDegrees:this.props.graph.snapDegrees||1,snapOffsetDeg:this.props.graph.angleOffsetDeg||0,angleLabel:this.props.graph.showAngles?"$deg0":"",pushOut:2,allowReflex:N(this.props.graph.allowReflexAngles,true)})
$(this.angle).on("move",function(){var t=a.extend({},e.props.graph,{coords:e.angle.getClockwiseCoords()})
e.onChange({graph:t})})},removeAngleControls:function Gt(){a.invoke(this.points,"remove")
this.angle.remove()},toggleShowAngles:function jt(){var e=a.extend({},this.props.graph,{showAngles:!this.props.graph.showAngles})
this.onChange({graph:e})},toggleShowSides:function $t(){var e=a.extend({},this.props.graph,{showSides:!this.props.graph.showSides})
this.onChange({graph:e})},getUserInput:function Yt(){return this.props.graph},simpleValidate:function Kt(e){return K.validate(this.getUserInput(),e,this)},focus:$.noop})
a.extend(K,{getQuadraticCoefficients:function Xt(e){var t=e[0]
var r=e[1]
var n=e[2]
var i=(t[0]-r[0])*(t[0]-n[0])*(r[0]-n[0])
if(0===i)return
var a=(n[0]*(r[1]-t[1])+r[0]*(t[1]-n[1])+t[0]*(n[1]-r[1]))/i
var o=(n[0]*n[0]*(t[1]-r[1])+r[0]*r[0]*(n[1]-t[1])+t[0]*t[0]*(r[1]-n[1]))/i
var s=(r[0]*n[0]*(r[0]-n[0])*t[1]+n[0]*t[0]*(n[0]-t[0])*r[1]+t[0]*r[0]*(t[0]-r[0])*n[1])/i
return[a,o,s]},getSinusoidCoefficients:function Qt(e){var t=e[0]
var r=e[1]
var n=r[1]-t[1]
var i=Math.PI/(2*(r[0]-t[0]))
var a=t[0]*i
var o=t[1]
return[n,i,a,o]},getLineCoords:function Zt(e,t){return e.coords||K.pointsFromNormalized(t,[[.25,.75],[.75,.75]])},getPointCoords:function Jt(e,t){var r=e.numPoints||1
var n=e.coords
if(n)return n
switch(r){case 1:n=[e.coord||[0,0]]
break
case 2:n=[[-5,0],[5,0]]
break
case 3:n=[[-5,0],[0,0],[5,0]]
break
case 4:n=[[-6,0],[-2,0],[2,0],[6,0]]
break
case 5:n=[[-6,0],[-3,0],[0,0],[3,0],[6,0]]
break
case 6:n=[[-5,0],[-3,0],[-1,0],[1,0],[3,0],[5,0]]
break
case S:n=[]}var i=[[-10,10],[-10,10]]
n=K.normalizeCoords(n,i)
var n=K.pointsFromNormalized(t,n)
return n},getLinearSystemCoords:function er(e,t){return e.coords||a.map([[[.25,.75],[.75,.75]],[[.25,.25],[.75,.25]]],function(e){return K.pointsFromNormalized(t,e)})},getPolygonCoords:function tr(e,t){var r=e.coords
if(r)return r
var n=e.numSides||3
if(n===S)r=[]
else{var i=2*Math.PI/n
var o=(1/n-.5)*Math.PI
var s="sides"===e.snapTo?Math.sqrt(3)/3*7:4
r=a.times(n,function(e){return[s*Math.cos(e*i+o),s*Math.sin(e*i+o)]})}var l=[[-10,10],[-10,10]]
r=K.normalizeCoords(r,l)
var p=!a.contains(["angles","sides"],e.snapTo)
r=K.pointsFromNormalized(t,r,!p)
return r},getSegmentCoords:function rr(e,t){var r=e.coords
if(r)return r
var n=e.numSegments||1
var i={1:[5],2:[5,-5],3:[5,0,-5],4:[6,2,-2,-6],5:[6,3,0,-3,-6],6:[5,3,1,-1,-3,-5]}[n]
var o=[[-10,10],[-10,10]]
return a.map(i,function(e){var r=[[-5,e],[5,e]]
r=K.normalizeCoords(r,o)
r=K.pointsFromNormalized(t,r)
return r})},getAngleCoords:function nr(e,t){var r=e.coords
if(r)return r
var n=e.snapDegrees||1
var i=n
while(i<20)i+=n
i=i*Math.PI/180
var a=(e.angleOffsetDeg||0)*Math.PI/180
r=K.pointsFromNormalized(t,[[.85,.5],[.5,.5]])
var o=A(O.apply(null,r))
r[0]=[r[1][0]+o*Math.cos(a),r[1][1]+o*Math.sin(a)]
r[2]=[r[1][0]+o*Math.cos(i+a),r[1][1]+o*Math.sin(i+a)]
return r},normalizeCoords:function ir(e,t){return a.map(e,function(e){return a.map(e,function(e,r){var n=t[r][1]-t[r][0]
return(e+t[r][1])/n})})},getEquationString:function ar(e){var t=e.graph.type
var r="get"+W(t)+"EquationString"
return K[r](e)},pointsFromNormalized:function or(e,t,r){return a.map(t,function(t){return a.map(t,function(t,n){var i=e.range[n]
if(r)return i[0]+(i[1]-i[0])*t
var a=e.step[n]
var o=j(i,a)
var s=Math.round(t*o)
return i[0]+a*s})})},getLinearEquationString:function sr(e){var t=K.getLineCoords(e.graph,e)
if(w(t[0][0],t[1][0]))return"x = "+t[0][0].toFixed(3)
var r=(t[1][1]-t[0][1])/(t[1][0]-t[0][0])
var n=t[0][1]-r*t[0][0]
return w(r,0)?"y = "+n.toFixed(3):"y = "+r.toFixed(3)+"x + "+n.toFixed(3)},getCurrentQuadraticCoefficients:function lr(e){var t=e.graph.coords||K.defaultQuadraticCoords(e)
return K.getQuadraticCoefficients(t)},defaultQuadraticCoords:function pr(e){var t=[[.25,.75],[.5,.25],[.75,.75]]
return K.pointsFromNormalized(e,t)},getQuadraticEquationString:function ur(e){var t=K.getCurrentQuadraticCoefficients(e)
return"y = "+t[0].toFixed(3)+"x^2 + "+t[1].toFixed(3)+"x + "+t[2].toFixed(3)},getCurrentSinusoidCoefficients:function cr(e){var t=e.graph.coords||K.defaultSinusoidCoords(e)
return K.getSinusoidCoefficients(t)},defaultSinusoidCoords:function hr(e){var t=[[.5,.5],[.65,.6]]
return K.pointsFromNormalized(e,t)},getSinusoidEquationString:function dr(e){var t=K.getCurrentSinusoidCoefficients(e)
return"y = "+t[0].toFixed(3)+"sin("+t[1].toFixed(3)+"x - "+t[2].toFixed(3)+") + "+t[3].toFixed(3)},getCircleEquationString:function fr(e){var t=e.graph
var r=t.center||[0,0]
var n=t.radius||2
return"center ("+r[0]+", "+r[1]+"), radius "+n},getLinearSystemEquationString:function vr(e){var t=K.getLinearSystemCoords(e.graph,e)
return"\n"+V(t[0][0],t[0][1])+"\n"+V(t[1][0],t[1][1])+"\n"+G(t[0],t[1])},getPointEquationString:function mr(e){var t=K.getPointCoords(e.graph,e)
return t.map(function(e){return"("+e[0]+", "+e[1]+")"}).join(", ")},getSegmentEquationString:function gr(e){var t=K.getSegmentCoords(e.graph,e)
return a.map(t,function(e){return"["+a.map(e,function(e){return"("+e.join(", ")+")"}).join(" ")+"]"}).join(" ")},getRayEquationString:function yr(e){var t=K.getLineCoords(e.graph,e)
var r=t[0]
var n=t[1]
var i=K.getLinearEquationString(e)
i+=r[0]>n[0]?" (for x <= "+r[0].toFixed(3)+")":r[0]<n[0]?" (for x >= "+r[0].toFixed(3)+")":r[1]>n[1]?" (for y <= "+r[1].toFixed(3)+")":" (for y >= "+r[1].toFixed(3)+")"
return i},getPolygonEquationString:function br(e){var t=K.getPolygonCoords(e.graph,e)
return a.map(t,function(e){return"("+e.join(", ")+")"}).join(" ")},getAngleEquationString:function Tr(e){var t=K.getAngleCoords(e.graph,e)
var r=f.findAngle(t[2],t[0],t[1])
return r.toFixed(0)+"° angle at ("+t[1].join(", ")+")"},validate:function xr(e,t,r){var n=!!(e.coords||e.center&&e.radius)
if(e.type===t.correct.type&&n)if("linear"===e.type){var i=e.coords
var o=t.correct.coords
if(M(o[0],o[1],i[0])&&M(o[0],o[1],i[1]))return{type:"points",earned:1,total:1,message:null}}else if("linear-system"===e.type){var i=e.coords
var o=t.correct.coords
if(M(o[0][0],o[0][1],i[0][0])&&M(o[0][0],o[0][1],i[0][1])&&M(o[1][0],o[1][1],i[1][0])&&M(o[1][0],o[1][1],i[1][1])||M(o[0][0],o[0][1],i[1][0])&&M(o[0][0],o[0][1],i[1][1])&&M(o[1][0],o[1][1],i[0][0])&&M(o[1][0],o[1][1],i[0][1]))return{type:"points",earned:1,total:1,message:null}}else if("quadratic"===e.type){var s=this.getQuadraticCoefficients(e.coords)
var l=this.getQuadraticCoefficients(t.correct.coords)
if(k(s,l))return{type:"points",earned:1,total:1,message:null}}else if("sinusoid"===e.type){var s=this.getSinusoidCoefficients(e.coords)
var l=this.getSinusoidCoefficients(t.correct.coords)
var p=U(s)
var u=U(l)
if(k(p,u))return{type:"points",earned:1,total:1,message:null}}else if("circle"===e.type){if(k(e.center,t.correct.center)&&w(e.radius,t.correct.radius))return{type:"points",earned:1,total:1,message:null}}else if("point"===e.type){var i=e.coords
var o=K.getPointCoords(t.correct,r)
i=i.slice()
o=o.slice()
i.sort()
o.sort()
if(k(i,o))return{type:"points",earned:1,total:1,message:null}}else if("polygon"===e.type){var i=e.coords.slice()
var o=t.correct.coords.slice()
var h
if("similar"===t.correct.match)h=q(i,o,Number.POSITIVE_INFINITY)
else if("congruent"===t.correct.match)h=q(i,o,c.DEFAULT_TOLERANCE)
else if("approx"===t.correct.match)h=q(i,o,.1)
else{i.sort()
o.sort()
h=k(i,o)}if(h)return{type:"points",earned:1,total:1,message:null}}else if("segment"===e.type){var i=e.coords.slice()
var o=t.correct.coords.slice()
i=a.invoke(i,"sort").sort()
o=a.invoke(o,"sort").sort()
if(k(i,o))return{type:"points",earned:1,total:1,message:null}}else if("ray"===e.type){var i=e.coords
var o=t.correct.coords
if(k(i[0],o[0])&&M(o[0],o[1],i[1]))return{type:"points",earned:1,total:1,message:null}}else if("angle"===e.type){var i=e.coords
var o=t.correct.coords
var h
if("congruent"===t.correct.match){var d=a.map([i,o],function(e){var t=f.findAngle(e[2],e[0],e[1])
return(t+360)%360})
h=w.apply(null,d)}else h=k(i[1],o[1])&&M(o[1],o[0],i[0])&&M(o[1],o[2],i[2])
if(h)return{type:"points",earned:1,total:1,message:null}}return!n||a.isEqual(e,t.graph)?{type:"invalid",message:null}:{type:"points",earned:0,total:1,message:null}}})
e.exports={name:"interactive-graph",displayName:"Interactive graph",widget:K}},function(e,t,r){"use strict"
var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]
for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}
var i=r(12)
var a=r(11)
var o=r(83)
var s=r(99)
var l=8
var p=5
var u={display:"table",tableLayout:"fixed"}
var c={display:"table-row"}
var h={display:"table-cell",padding:p}
var d={borderRadius:10,cursor:"pointer"}
var f={padding:p,display:"inline-block"}
var v={"float":"right",paddingRight:p}
var m=50
var g=function M(e,t){return a.map(e,function(e,r){return a.map(e,function(e,n){return t(e,r,n)})})}
var y=function _(e,t,r){return a.times(e,function(e){return a.times(t,function(t){return r(e,t)})})}
var b={plus:function N(){return[[false,true,false],[true,true,true],[false,true,false]]},x:function I(){return[[true,false,true],[false,true,false],[true,false,true]]},"plus/x":function R(e){return e%2?b.x():b.plus()}}
var T=function O(e,t,r){e=Math.floor(e)
e=Math.max(e,t)
e=Math.min(e,r)
return e}
var x=i.createClass({displayName:"Tile",propTypes:{value:i.PropTypes.bool.isRequired,size:i.PropTypes.number.isRequired},render:function A(){var e=this.props.value?"#55dd55":"#115511"
var t=a.extend({},d,{width:this.props.size,height:this.props.size,backgroundColor:e})
return i.createElement("div",{style:t,onClick:this._flip})},_flip:function D(){this.props.onChange(!this.props.value)}})
var P=i.createClass({displayName:"TileGrid",propTypes:{cells:i.PropTypes.arrayOf(i.PropTypes.arrayOf(i.PropTypes.bool)).isRequired,size:i.PropTypes.number.isRequired},render:function L(){var e=this
return i.createElement("div",{style:u,className:"no-select"},a.map(this.props.cells,function(t,r){return i.createElement("div",{key:r,style:c},a.map(t,function(t,n){return i.createElement("div",{key:n,style:h},i.createElement(x,{value:t,size:e.props.size,onChange:a.partial(e.props.onChange,r,n)}))}))}))}})
var E=function F(e,t){return a.map(e,function(e,r){return a.map(e,function(e,n){return t(r,n)?!e:e})})}
var w=function q(e,t,r,n){return E(e,function(e,i){var a=e-t
var o=i-r
return Math.abs(a)<=1&&Math.abs(o)<=1?n[a+1][o+1]:false})}
var k=i.createClass({displayName:"LightsPuzzle",propTypes:n({},o.propTypes,{cells:i.PropTypes.arrayOf(i.PropTypes.arrayOf(i.PropTypes.bool)),startCells:i.PropTypes.arrayOf(i.PropTypes.arrayOf(i.PropTypes.bool)),flipPattern:i.PropTypes.string.isRequired,moveCount:i.PropTypes.number.isRequired}),getDefaultProps:function B(){return{cells:[[false,false,false],[false,false,false],[false,false,false]],startCells:[[false,false,false],[false,false,false],[false,false,false]],flipPattern:"plus",moveCount:0}},getUserInput:function z(){return s.getUserInput.call(this)},render:function U(){var e=this._width()
var t=m
var r=e*(t+2*p)
return i.createElement("div",null,i.createElement(P,{cells:this.props.cells,size:t,onChange:this._flipTile}),i.createElement("div",{style:{width:r}},i.createElement("div",{style:f},"Moves: ",this.props.moveCount),i.createElement("div",{style:v},i.createElement("input",{type:"button",value:"Reset",onClick:this._reset,className:"simple-button"}))),i.createElement("div",{className:"clearfix"}))},change:function H(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r]
return o.change.apply(this,t)},_width:function W(){return 0!==this.props.cells.length?this.props.cells[0].length:0},componentDidMount:function V(){this._initNextPatterns()},componentDidUpdate:function G(e){e.flipPattern!==this.props.flipPattern&&this._initNextPatterns()},_initNextPatterns:function j(){this._currPattern=b[this.props.flipPattern](0)
this._nextPattern=b[this.props.flipPattern](1)
this._patternIndex=2},_shiftPatterns:function Y(){this._currPattern=this._nextPattern
this._nextPattern=b[this.props.flipPattern](this._patternIndex)
this._patternIndex++},_flipTile:function K(e,t){var r=w(this.props.cells,e,t,this._currPattern)
this._shiftPatterns()
this.change({cells:r,moveCount:this.props.moveCount+1})},_reset:function X(){this.change({cells:this.props.startCells,moveCount:0})},simpleValidate:function Q(e){return S(e,this.getUserInput())}})
var S=function Z(e,t){var r=a.all(t.cells,function(t,r){return a.all(t,function(t,n){return t===e.startCells[r][n]})})
if(r)return{type:"invalid",message:i18n._("Click on the tiles to change the lights.")}
var n=a.all(t.cells,function(e){return a.all(e,function(e){return e})})
return n?{type:"points",earned:1,total:1,message:null}:e.gradeIncompleteAsWrong?{type:"points",earned:0,total:1,message:null}:{type:"invalid",message:i18n._("You must turn on all of the lights to continue.")}}
var C=function J(e){return{cells:e.startCells,startCells:e.startCells,flipPattern:e.flipPattern}}
e.exports={name:"lights-puzzle",displayName:"Lights Puzzle",hidden:true,widget:k,transform:C}},function(e,t,r){"use strict"
var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]
for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}
var i=r(14)
var a=r(12)
var o=r(13)
var s=r(11)
var l=r(107)
var p=r(9)
var u=r(109)
var c=r(110)
var h=r(78)
var d=r(19).Options
var f=r(42)
var v=r(76).propTypes.keypadElementPropType
var m=r(111).assert
var g=r(18).stringArrayOfSize
var y={INPUT_MARGIN:4,INPUT_HEIGHT:38,INPUT_WIDTH:82}
var b={INPUT_MARGIN:3,INPUT_HEIGHT:30,INPUT_WIDTH:40}
var T={INPUT_MARGIN:4,INPUT_HEIGHT:36,INPUT_WIDTH:64}
var x=function N(e,t){return[""+e,""+t]}
var P=function I(){return x(0,0)}
var E=function R(e){m(s.isArray(e)&&2===e.length)
return+e[0]}
var w=function O(e){m(s.isArray(e)&&2===e.length)
return+e[1]}
var k=function A(e){var t=E(e)
var r=w(e)
return"answer"+t+","+r}
var S=function D(e){var t=[1,1]
s(e).each(function(e,r){var n=0
s(e).each(function(e,t){null!=e&&e.toString().length&&(n=t+1)})
t[1]=Math.max(t[1],n)
n>0&&(t[0]=Math.max(t[0],r+1))})
return t}
var C=a.createClass({displayName:"Matrix",propTypes:{answers:a.PropTypes.arrayOf(a.PropTypes.arrayOf(a.PropTypes.oneOfType([a.PropTypes.string,a.PropTypes.number]))),apiOptions:d.propTypes,cursorPosition:a.PropTypes.arrayOf(a.PropTypes.number),keypadElement:v,matrixBoardSize:a.PropTypes.arrayOf(a.PropTypes.number).isRequired,prefix:a.PropTypes.string,suffix:a.PropTypes.string,trackInteraction:a.PropTypes.func.isRequired},getDefaultProps:function L(){return{matrixBoardSize:[3,3],answers:[[]],prefix:"",suffix:"",cursorPosition:[0,0],apiOptions:d.defaults}},getInitialState:function F(){return{enterTheMatrix:0}},componentDidMount:function q(){this.cursorPosition=[0,0]},render:function B(){var e=this
var t=void 0
t=this.props.apiOptions.customKeypad?T:this.props.apiOptions.staticRender?y:b
var r=t,o=r.INPUT_MARGIN,d=r.INPUT_HEIGHT,f=r.INPUT_WIDTH
var v=S(this.props.answers)
var m=this.props.matrixBoardSize[0]
var g=this.props.matrixBoardSize[1]
var P=this.props.cursorPosition[0]
var E=this.props.cursorPosition[1]
var w=Math.max(P,v[0]-1)
var C=Math.max(E,v[1]-1)
var M=(w+1)*(d+2*o)
var _=(C+1)*(f+2*o)
var N=i({"perseus-matrix":true,"static-mode":this.props["static"],"the-matrix":this.state.enterTheMatrix>=5})
return a.createElement("div",{className:N},this.props.prefix&&a.createElement("div",{className:"matrix-prefix"},a.createElement(p,{content:this.props.prefix})),a.createElement("div",{className:"matrix-input"},a.createElement("div",{className:"matrix-bracket bracket-left",style:{height:M}}),a.createElement("div",{className:"matrix-bracket bracket-right",style:{height:M,left:_}}),s(m).times(function(t){var r=e.props.answers[t]
return a.createElement("div",{className:"matrix-row",key:t},s(g).times(function(i){var s=t>w||i>C
var p={className:s?"outside":"inside",ref:k(x(t,i)),value:r?r[i]:null,style:{height:d,width:f,margin:o},disabled:e.props.apiOptions.readOnly,onFocus:function g(){e.cursorPosition=[t,i]
e.props.onChange({cursorPosition:[t,i]},function(){return false})
e._handleFocus(t,i)},onBlur:function y(){t===e.cursorPosition[0]&&i===e.cursorPosition[1]&&e.props.onChange({cursorPosition:[0,0]},function(){return false})
e._handleBlur(t,i)},onKeyDown:function b(r){e.handleKeyDown(t,i,r)},onChange:function T(r,n){e.onValueChange(t,i,r,n)}}
var v=void 0
if(e.props.apiOptions.customKeypad){var m={margin:o,minWidth:f,minHeight:d,boxSizing:"border-box",backgroundColor:s?"#f3f3f3":"#fff"}
v=a.createElement(h,n({},p,{style:m,scrollable:true,keypadElement:e.props.keypadElement}))}else v=e.props.apiOptions.staticRender?a.createElement(c,p):e.props.numericInput?a.createElement(l,p):a.createElement(u,p)
return a.createElement("span",{key:i,className:"matrix-input-field"},v)}))})),this.props.suffix&&a.createElement("div",{className:"matrix-suffix"},a.createElement(p,{content:this.props.suffix})))},getInputPaths:function z(){var e=[]
var t=this.props.matrixBoardSize[0]
var r=this.props.matrixBoardSize[1]
s(t).times(function(t){s(r).times(function(r){var n=x(t,r)
e.push(n)})})
return e},getGrammarTypeForPath:function U(e){return"number"},_handleFocus:function H(e,t){this.props.onFocus(x(e,t))},_handleBlur:function W(e,t){this.props.onBlur(x(e,t))},focus:function V(){this.focusInputPath(P())
return true},focusInputPath:function G(e){var t=k(e)
this.refs[t].focus()},blurInputPath:function j(e){0===e.length&&(e=P())
var t=k(e)
this.refs[t].blur()},getDOMNodeForPath:function Y(e){var t=k(e)
return o.findDOMNode(this.refs[t])},setInputValue:function K(e,t,r){var n=E(e)
var i=w(e)
this.onValueChange(n,i,t,r)},handleKeyDown:function X(e,t,r){var n=this.props.matrixBoardSize[0]
var i=this.props.matrixBoardSize[1]
var a=null
var o=this.refs[k(x(e,t))]
var s=o.getStringValue()
var l=o.getSelectionStart()
var p=o.getSelectionEnd()
var u=null
"ArrowUp"===r.key&&e>0?u=x(e-1,t):"ArrowDown"===r.key&&e+1<n?u=x(e+1,t):"ArrowLeft"===r.key&&t>0?0===l&&0===p&&(u=x(e,t-1)):"ArrowRight"===r.key&&t+1<i?l===s.length&&(u=x(e,t+1)):"Enter"===r.key?a=this.state.enterTheMatrix+1:"Escape"===r.key&&(a=0)
if(u){r.preventDefault()
var c=this.refs[k(u)]
var h=c.getStringValue()
var d=2*h.length
c.focus()
"ArrowRight"===r.key?c.setSelectionRange(0,0):c.setSelectionRange(d,d)}null!=a&&this.setState({enterTheMatrix:a})},onValueChange:function Q(e,t,r,n){var i=s.map(this.props.answers,s.clone)
i[e]||(i[e]=[])
i[e][t]=r
this.props.onChange({answers:i},n)
this.props.trackInteraction()},getUserInput:function Z(){return{answers:this.props.answers}},simpleValidate:function J(e){return C.validate(this.getUserInput(),e)}})
s.extend(C,{validate:function et(e,t){var r=t.answers
var n=e.answers
var i=S(r)
var a=S(n)
var o=i[0]!==a[0]||i[1]!==a[1]
var l=f.number.createValidatorFunctional
var p=null
var u=false
var c=false
s(a[0]).times(function(e){s(a[1]).times(function(t){null!=n[e][t]&&0!==n[e][t].toString().length||(u=true)
var i=l(r[e][t],{simplify:true})
var a=i(n[e][t])
a.message&&(p=a.message)
a.correct||(c=true)})})
if(u)return{type:"invalid",message:i18n._("Make sure you fill in all cells in the matrix.")}
if(o)return{type:"points",earned:0,total:1,message:null}
return{type:"points",earned:c?0:1,total:1,message:p}}})
var M=function tt(e){var t=s(e.matrixBoardSize[0]).times(function(){return g(e.matrixBoardSize[1])})
e=s.pick(e,"matrixBoardSize","prefix","suffix")
return s.extend(e,{answers:t})}
var _=function rt(e){var t=s.pick(e,"matrixBoardSize","prefix","suffix")
t.answers=s.map(e.answers,function(e){return s.map(e,function(e){return null!=e?String(e):""})})
return t}
e.exports={name:"matrix",displayName:"Matrix",widget:C,transform:M,staticTransform:_}},function(e,t,r){"use strict"
var n=r(12)
var i=r(11)
var a=r(9)
var o=r(112)
var s=r(19).Options
var l=r(18).shuffle
var p=r(18).seededRNG
var u=n.createClass({displayName:"Matcher",propTypes:{apiOptions:s.propTypes,labels:n.PropTypes.array,left:n.PropTypes.array,onChange:n.PropTypes.func,orderMatters:n.PropTypes.bool,padding:n.PropTypes.bool,problemNum:n.PropTypes.number,right:n.PropTypes.array,trackInteraction:n.PropTypes.func.isRequired},getDefaultProps:function c(){return{left:[],right:[],labels:["",""],orderMatters:false,padding:true,problemNum:0,onChange:function e(){}}},getInitialState:function h(){return{leftHeight:0,rightHeight:0}},render:function d(){var e=p(this.props.problemNum)
var t
t=this.props.orderMatters?l(this.props.left,e,true):this.props.left
var r=l(this.props.right,e,true)
var s=i.any(this.props.labels)
var u={height:i.max([this.state.leftHeight,this.state.rightHeight])}
var c=this.props.apiOptions.isMobile?8:5
return n.createElement("div",{className:"perseus-widget-matcher"},s&&n.createElement("div",{className:"perseus-clearfix"},n.createElement("div",{className:"column"},n.createElement("div",{className:"column-label"},n.createElement(a,{content:this.props.labels[0]||"..."}))),n.createElement("div",{className:"column"},n.createElement("div",{className:"column-label"},n.createElement(a,{content:this.props.labels[1]||"..."})))),n.createElement("div",{className:"perseus-clearfix"},n.createElement("div",{className:"column"},n.createElement(o,{options:t,layout:"vertical",padding:this.props.padding,disabled:!this.props.orderMatters,constraints:u,onMeasure:this.onMeasureLeft,onChange:this.changeAndTrack,margin:c,ref:"left"})),n.createElement("div",{className:"column"},n.createElement(o,{options:r,layout:"vertical",padding:this.props.padding,constraints:u,onMeasure:this.onMeasureRight,onChange:this.changeAndTrack,margin:c,ref:"right"}))))},changeAndTrack:function f(e){this.props.onChange(e)
this.props.trackInteraction()},onMeasureLeft:function v(e){var t=i.max(e.heights)
this.setState({leftHeight:t})},onMeasureRight:function m(e){var t=i.max(e.heights)
this.setState({rightHeight:t})},getUserInput:function g(){return{left:this.refs.left.getOptions(),right:this.refs.right.getOptions()}},simpleValidate:function y(e){return u.validate(this.getUserInput(),e)}})
i.extend(u,{validate:function b(e,t){var r=i.isEqual(e.left,t.left)&&i.isEqual(e.right,t.right)
return{type:"points",earned:r?1:0,total:1,message:null}}})
e.exports={name:"matcher",displayName:"Two column matcher",widget:u}},function(e,t,r){"use strict"
var n=r(12)
var i=r(13)
var a=r(11)
var o=r(19).Options
var s=r(108)
var l={url:null,top:0,left:0}
var p=n.createClass({displayName:"Measurer",propTypes:{apiOptions:o.propTypes,box:n.PropTypes.arrayOf(n.PropTypes.number),image:n.PropTypes.shape({url:n.PropTypes.string,top:n.PropTypes.number,left:n.PropTypes.number}),showProtractor:n.PropTypes.bool,protractorX:n.PropTypes.number,protractorY:n.PropTypes.number,showRuler:n.PropTypes.bool,rulerLabel:n.PropTypes.string,rulerTicks:n.PropTypes.number,rulerPixels:n.PropTypes.number,rulerLength:n.PropTypes.number},getDefaultProps:function c(){return{box:[480,480],image:{},showProtractor:true,protractorX:7.5,protractorY:.5,showRuler:false,rulerLabel:"",rulerTicks:10,rulerPixels:40,rulerLength:10}},getInitialState:function h(){return{}},render:function d(){var e=a.extend({},l,this.props.image)
return n.createElement("div",{className:"perseus-widget perseus-widget-measurer graphie-container above-scratchpad",style:{width:this.props.box[0],height:this.props.box[1]}},e.url&&n.createElement("img",{src:e.url,style:{top:e.top,left:e.left}}),n.createElement("div",{className:"graphie",ref:"graphieDiv"}))},componentDidMount:function f(){this.setupGraphie()},componentDidUpdate:function v(e){var t=a.any(["box","showProtractor","showRuler","rulerLabel","rulerTicks","rulerPixels","rulerLength"],function(t){return e[t]!==this.props[t]},this)
t&&this.setupGraphie()},setupGraphie:function m(){var e=i.findDOMNode(this.refs.graphieDiv)
$(e).empty()
var t=this.graphie=s.createGraphie(e)
var r=[40,40]
var n=[[0,this.props.box[0]/r[0]],[0,this.props.box[1]/r[1]]]
t.init({range:n,scale:r})
t.addMouseLayer({allowScratchpad:true,setDrawingAreaAvailable:this.props.apiOptions.setDrawingAreaAvailable})
this.protractor&&this.protractor.remove()
this.props.showProtractor&&(this.protractor=t.protractor([this.props.protractorX,this.props.protractorY]))
this.ruler&&this.ruler.remove()
this.props.showRuler&&(this.ruler=t.ruler({center:[(n[0][0]+n[0][1])/2,(n[1][0]+n[1][1])/2],label:this.props.rulerLabel,pixelsPerUnit:this.props.rulerPixels,ticksPerUnit:this.props.rulerTicks,units:this.props.rulerLength}))},getUserInput:function g(){return{}},simpleValidate:function y(e){return p.validate(this.getUserInput(),e)},focus:$.noop})
a.extend(p,{validate:function b(e,t){return{type:"points",earned:1,total:1,message:null}}})
var u={1:function T(e){var t=a(e).chain().omit("imageUrl","imageTop","imageLeft").extend({image:{url:e.imageUrl,top:e.imageTop,left:e.imageLeft}}).value()
return t}}
e.exports={name:"measurer",displayName:"Measurer",widget:p,version:{major:1,minor:0},propUpgrades:u}},function(e,t,r){"use strict"
var n=r(12)
var i=r(118)
var a=r(119),o=a.layout
var s=r(120)
var l=s.parse
var p=s.ParseError
var u=30
var c=n.createClass({displayName:"Molecule",propTypes:{id:n.PropTypes.string.isRequired,rotationAngle:n.PropTypes.number,smiles:n.PropTypes.string},getInitialState:function d(){return{parsedSmiles:null,error:null}},componentWillMount:function f(){this.stateFromSmiles(this.props.smiles)},componentDidMount:function v(){this.canvasRender()},componentWillReceiveProps:function m(e){this.stateFromSmiles(e.smiles)},componentDidUpdate:function g(){this.canvasRender()},stateFromSmiles:function y(e){try{this.setState({parsedSmiles:l(e),error:null})}catch(t){if(!(t instanceof p))throw t
this.setState({error:t.message})}},setCanvasBounds:function b(e,t){var r=Math.max.apply(Math,t.map(function(e){return e.pos?e.pos[0]:-(1/0)}))
var n=Math.max.apply(Math,t.map(function(e){return e.pos?e.pos[1]:-(1/0)}))
var i=Math.min.apply(Math,t.map(function(e){return e.pos?e.pos[0]:1/0}))
var a=Math.min.apply(Math,t.map(function(e){return e.pos?e.pos[1]:1/0}))
var o=r-i+2*u
var s=n-a+2*u
e.width=o
e.height=s
return[u-i,u-a]},canvasRender:function T(){if(!!this.state.error||!this.state.parsedSmiles)return
var e=o(this.state.parsedSmiles,this.props.rotationAngle)
var t=this.refs.canvas
var r=this.setCanvasBounds(t,e)
var n=t.getContext("2d")
n.clearRect(0,0,t.width,t.height)
n.save()
n.translate(r[0],r[1])
i(n,e)
n.restore()},render:function x(){var e=n.createElement("canvas",{className:"molecule-canvas",id:this.props.id+"-molecule",ref:"canvas"},"A molecular structure drawing.  SMILES notation:",this.props.smiles,".")
this.state.error&&(e=n.createElement("div",{className:"error"},this.state.error))
return n.createElement("div",{className:"molecule-canvas"},e)}})
var h=n.createClass({displayName:"MoleculeWidget",propTypes:{rotationAngle:n.PropTypes.number,smiles:n.PropTypes.string,widgetId:n.PropTypes.string},getDefaultProps:function P(){return{rotationAngle:0}},simpleValidate:function E(){return{type:"points",earned:0,total:0,message:null}},getUserInput:function w(){return[]},validate:function k(e,t){return{type:"points",earned:0,total:0,message:null}},render:function S(){return n.createElement(c,{id:this.props.widgetId,smiles:this.props.smiles,rotationAngle:this.props.rotationAngle})}})
e.exports={name:"molecule-renderer",displayName:"Molecule renderer",hidden:false,widget:h,molecule:c}},function(e,t,r){"use strict"
var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]
for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}
var i=r(12)
var a=r(13)
var o=r(11)
var s=r(83)
var l=r(107)
var p=r(110)
var u=r(78)
var c=r(19).Options
var h=r(76).propTypes.keypadElementPropType
var d=r(89)
var f=d.MovablePoint
var v=d.Line
var m=r(129).number
var g=r(81)
var y=r(103)
var b=function O(e,t,r){return Math.min(Math.max(e,t),r)}
var T=r(111).assert
var x="–"
var P=30
var E={ge:"le",gt:"lt",le:"ge",lt:"gt"}
var w={ge:"gt",gt:"ge",le:"lt",lt:"le"}
function k(e,t){return 1===t?""+e:e+"/"+t}function S(e,t){if(e<0)return"-"+S(-e,t)
var r=Math.floor(e/t)
return 0===r?k(e,t):e-r*t===0?""+r:r+"\\:"+k(e-r*t,t)}function C(e,t,r){var n=Math.floor(r/t)
return k(e*n,r)}var M=function A(e,t,r,n,i){n=n||r
if("decimal"===t||"decimal ticks"===t)return e.label([r,-.53],Math.round(100*n)/100,"center")
if("improper"===t){var a=g.toFraction(n)
return e.label([r,-.53],k(a[0],a[1]),"center")}if("mixed"===t){var o=g.toFraction(n)
return e.label([r,-.53],S(o[0],o[1]),"center")}if("non-reduced"===t){var s=g.toFraction(n)
return e.label([r,-.53],C(s[0],s[1],i),"center")}}
var _=d.createSimpleClass(function(e,t){if(!o.isFinite(t.tickStep)||t.tickStep<=0)return[]
var r=[]
var n=t.range
var i=t.labelRange
var a=null==i[0]?n[0]:i[0]
var s=null==i[1]?n[1]:i[1]
var l
if("non-reduced"===t.labelStyle){var p=[a,s]
for(var u=0;u<=t.numDivisions;u++){var c=n[0]+u*t.tickStep
p.push(c)}var h=function T(e){return m.toFraction(e)[1]}
var d=o.map(p,h)
l=o.reduce(d,function(e,t){return g.getLCM(e,t)})}else l=void 0
for(var f=0;f<=t.numDivisions;f++){var v=n[0]+f*t.tickStep
r.push(e.line([v,-.2],[v,.2]))
var b=t.labelTicks;(b||"decimal ticks"===t.labelStyle)&&r.push(M(e,t.labelStyle,v,v,l))}r.push(e.style(t.isMobile?{color:y.BLUE_D}:{},function(){return M(e,t.labelStyle,a,a,l)}))
r.push(e.style(t.isMobile?{color:y.BLUE_D}:{},function(){return M(e,t.labelStyle,s,s,l)}))
e.style({stroke:t.isMobile?y.BLUE_D:y.DYNAMIC,strokeWidth:3.5},function(){r.push(e.line([a,-.2],[a,.2]))
r.push(e.line([s,-.2],[s,.2]))})
return r})
var N=i.createClass({displayName:"NumberLine",propTypes:n({},s.propTypes,{range:i.PropTypes.arrayOf(i.PropTypes.number).isRequired,labelRange:i.PropTypes.arrayOf(i.PropTypes.number).isRequired,labelStyle:i.PropTypes.string.isRequired,labelTicks:i.PropTypes.bool.isRequired,divisionRange:i.PropTypes.arrayOf(i.PropTypes.number).isRequired,numDivisions:i.PropTypes.number.isRequired,snapDivisions:i.PropTypes.number.isRequired,isTickCtrl:i.PropTypes.bool.isRequired,isInequality:i.PropTypes.bool.isRequired,numLinePosition:i.PropTypes.number.isRequired,rel:i.PropTypes.oneOf(["lt","gt","le","ge"]),onFocus:i.PropTypes.func.isRequired,onBlur:i.PropTypes.func.isRequired,onChange:i.PropTypes.func.isRequired,apiOptions:c.propTypes,keypadElement:h,"static":i.PropTypes.bool,showTooltips:i.PropTypes.bool,trackInteraction:i.PropTypes.func.isRequired}),getDefaultProps:function D(){return{range:[0,10],labelStyle:"decimal",labelRange:[null,null],divisionRange:[1,12],labelTicks:true,isTickCtrl:false,isInequality:false,numLinePosition:0,snapDivisions:2,showTooltips:false,rel:"ge",apiOptions:c.defaults}},getInitialState:function L(){return{numDivisionsEmpty:false}},change:function F(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r]
return s.change.apply(this,t)},isValid:function q(){var e=this.props.range
var t=this.props.numLinePosition
var r=this.props.divisionRange
t=null==t?e[0]:t
return e[0]<e[1]&&m.sign(t-e[0])>=0&&m.sign(t-e[1])<=0&&r[0]<r[1]&&0<this.props.numDivisions&&0<this.props.snapDivisions},onNumDivisionsChange:function B(e,t){var r=this
var n=this.props.divisionRange.slice()
var i=this.props.range[1]-this.props.range[0]
e=Math.round(e)
e=e<0?-1*e:e
if(e){var a=o.extend({},this.props,{tickStep:i/e})
var s=this.snapNumLinePosition(a,this.props.numLinePosition)
this.setState({numDivisionsEmpty:false},function(){r.props.onChange({divisionRange:n,numDivisions:e,numLinePosition:s},t)})}else this.setState({numDivisionsEmpty:true},t)},_handleTickCtrlFocus:function z(){this.props.onFocus(["tick-ctrl"])},_handleTickCtrlBlur:function U(){this.props.onBlur(["tick-ctrl"])},focus:function H(){if(this.props.isTickCtrl){this.refs["tick-ctrl"].focus()
return true}},focusInputPath:function W(e){1===e.length&&this.refs[e[0]].focus()},blurInputPath:function V(e){1===e.length&&this.refs[e[0]].blur()},getInputPaths:function G(){return this.props.isTickCtrl?[["tick-ctrl"]]:[]},getDOMNodeForPath:function j(e){if(1===e.length)return a.findDOMNode(this.refs[e[0]])},getGrammarTypeForPath:function Y(e){if(1===e.length&&"tick-ctrl"===e[0])return"number"},setInputValue:function K(e,t,r){1===e.length&&"tick-ctrl"===e[0]&&this.onNumDivisionsChange(t,r)},_renderGraphie:function X(){var e=this
var t=this.props.range
var r=t[1]-t[0]
var a=o.pick(this.props,["range","isTickCtrl"])
var s=o.extend({},this.props,{tickStep:r/this.props.numDivisions})
return i.createElement(d,{ref:"graphie",box:[460,80],options:a,onMouseDown:function l(t){e.refs.graphie.movables.numberLinePoint.grab(t)},setup:this._setupGraphie,setDrawingAreaAvailable:this.props.apiOptions.setDrawingAreaAvailable,isMobile:this.props.apiOptions.isMobile},i.createElement(_,n({},o.pick(s,["range","numDivisions","labelTicks","labelStyle","labelRange","tickStep"]),{isMobile:this.props.apiOptions.isMobile})),this._renderInequality(s),this._renderNumberLinePoint(s))},snapNumLinePosition:function Q(e,t){var r=e.range[0]
var n=e.range[1]
var i=e.tickStep/e.snapDivisions
var a=b(t,r,n)
a=r+m.roundTo(a-r,i)
T(o.isFinite(a))
return a},_renderNumberLinePoint:function Z(e){var t=this
var r=o(["lt","gt"]).contains(e.rel)
var n
n=r?y._BACKGROUND:e["static"]?y.DYNAMIC:y.INTERACTIVE
var a={fill:n,stroke:e["static"]?y.DYNAMIC:y.INTERACTIVE,"stroke-width":r?3:1}
var s={fill:r?y._BACKGROUND:y.INTERACTING,"stroke-width":r?3:1}
var l=e.isInequality?{stroke:y.INTERACTIVE,"fill-opacity":r?0:1}:{}
return i.createElement(f,{ref:"numberLinePoint",pointSize:6,coord:[e.numLinePosition,0],constraints:[function(e,t){return[e[0],t[1]]},function(r,n){var i=t.snapNumLinePosition(e,r[0])
return[i,r[1]]}],normalStyle:a,highlightStyle:s,onMove:function p(e){t.change({numLinePosition:e[0]})
t.props.trackInteraction()},isMobile:this.props.apiOptions.isMobile,mobileStyleOverride:l,showTooltips:this.props.showTooltips,xOnlyTooltip:true})},handleReverse:function J(){var e=E[this.props.rel]
this.props.onChange({rel:e})},handleToggleStrict:function et(){var e=w[this.props.rel]
this.props.onChange({rel:e})},_getInequalityEndpoint:function tt(e){var t=o(["ge","gt"]).contains(e.rel)
var r=400
var n=e.range
var i=(n[1]-n[0])/r
var a=P*i
var s=n[0]-a
var l=n[1]+a
var p=t?[l,0]:[s,0]
return p},_renderInequality:function rt(e){if(e.isInequality){var t=this._getInequalityEndpoint(e)
var r={arrows:"->",stroke:this.props.apiOptions.isMobile?y.INTERACTIVE:y.DYNAMIC,strokeWidth:3.5}
var n=["ge","gt"].includes(e.rel)
return i.createElement(v,{start:[(n?.4:-.4)+e.numLinePosition,0],end:t,style:r})}return null},_setupGraphie:function nt(e,t){if(!this.isValid())return
var r=this.props.apiOptions.isMobile?288-2*P:400
var n=t.range
var i=(n[1]-n[0])/r
var a=P*i
var o=n[0]-a
var s=n[1]+a
var l=-1
var p=1
e.init({range:[[o,s],[l,p]],scale:[1/i,40],isMobile:this.props.apiOptions.isMobile})
var u=(n[0]+n[1])/2
e.line([u,0],[s,0],{arrows:"->"})
e.line([u,0],[o,0],{arrows:"->"})},getUserInput:function it(){return{numLinePosition:this.props.numLinePosition,rel:this.props.isInequality?this.props.rel:"eq",numDivisions:this.props.numDivisions,divisionRange:this.props.divisionRange}},simpleValidate:function at(e){return N.validate(this.getUserInput(),e)},render:function ot(){var e=this.props.divisionRange
var t=e[0]+x+e[1]
var r=this.props.numDivisions<e[0]||this.props.numDivisions>e[1]
var n=i.createElement("div",null,i.createElement("input",{type:"button",className:"simple-button",value:i18n._("Switch direction"),onClick:this.handleReverse}),i.createElement("input",{type:"button",className:"simple-button",value:o(["le","ge"]).contains(this.props.rel)?i18n._("Make circle open"):i18n._("Make circle filled"),onClick:this.handleToggleStrict}))
var a
if(this.props.isTickCtrl){var s
s=this.props.apiOptions.customKeypad?u:this.props.apiOptions.staticRender?p:l
a=i.createElement("label",null,i18n._("Number of divisions:")," ",i.createElement(s,{ref:"tick-ctrl",value:this.state.numDivisionsEmpty?null:this.props.numDivisions||e[0],checkValidity:function c(t){return t>=e[0]&&t<=e[1]},onChange:this.onNumDivisionsChange,onFocus:this._handleTickCtrlFocus,onBlur:this._handleTickCtrlBlur,useArrowKeys:true,keypadElement:this.props.keypadElement}))}return i.createElement("div",{className:"perseus-widget perseus-widget-interactive-number-line"},a,this.isValid()?this.props.isTickCtrl&&r?i.createElement("div",{className:"perseus-error"},$_({divRangeString:t},"Please make sure the number of divisions is in the range %(divRangeString)s.")):this._renderGraphie():i.createElement("div",{className:"perseus-error"},"Invalid number line configuration."),!this.props["static"]&&this.props.isInequality&&n)}})
o.extend(N,{validate:function st(e,t){var r=t.range
var n=e.divisionRange
var i=null!=t.initialX?t.initialX:r[0]
var a=t.isInequality?"ge":"eq"
var o=t.correctRel||"eq"
var s=m.equal(e.numLinePosition,t.correctX||0)
var l=e.numDivisions>n[1]||e.numDivisions<n[0]
return e.isTickCrtl&&l?{type:"invalid",message:"Number of divisions is outside the allowed range."}:s&&o===e.rel?{type:"points",earned:1,total:1,message:null}:e.numLinePosition===i&&e.rel===a?{type:"invalid",message:null}:{type:"points",earned:0,total:1,message:null}}})
var I=function lt(e){var t=o.pick(e,["range","labelRange","labelStyle","labelTicks","divisionRange","snapDivisions","isTickCtrl","isInequality","showTooltips"])
var r=null!=e.initialX?e.initialX:e.range[0]
var n=e.range[1]-e.range[0]
var i
i=null!=e.numDivisions?e.numDivisions:null!=e.tickStep?n/e.tickStep:void 0
o.extend(t,{numLinePosition:r,numDivisions:i,snapDivisions:t.snapDivisions||void 0})
return t}
var R=function pt(e){var t=o.pick(e,["range","labelRange","labelStyle","labelTicks","divisionRange","snapDivisions","isInequality"])
var r=null!=e.correctX?e.correctX:e.range[0]
var n=e.range[1]-e.range[0]
var i
i=null!=e.numDivisions?e.numDivisions:null!=e.tickStep?n/e.tickStep:void 0
o.extend(t,{numLinePosition:r,numDivisions:i,rel:e.isInequality?e.correctRel:null,snapDivisions:t.snapDivisions||void 0})
return t}
e.exports={name:"number-line",displayName:"Number line",widget:N,transform:I,staticTransform:R}},function(e,t,r){"use strict"
var n=r(12)
var i=r(13)
var a=r(11)
var o=r(9)
var s=r(18)
var l=r(19).ClassNames
var p=n.createClass({displayName:"PlaceholderCard",propTypes:{width:n.PropTypes.number.isRequired,height:n.PropTypes.number.isRequired},render:function y(){return n.createElement("div",{className:"card-wrap "+l.INTERACTIVE,style:{width:this.props.width}},n.createElement("div",{className:"card placeholder",style:{height:this.props.height}}))}})
var u=n.createClass({displayName:"DragHintCard",render:function b(){return n.createElement("div",{className:"card-wrap "+l.INTERACTIVE},n.createElement("div",{className:"card drag-hint"}))}})
var c={position:n.PropTypes.shape({left:n.PropTypes.number,top:n.PropTypes.number})}
var h=n.createClass({displayName:"Card",propTypes:{floating:n.PropTypes.bool.isRequired,animating:n.PropTypes.bool,width:n.PropTypes.number,stack:n.PropTypes.bool,onMouseDown:n.PropTypes.func,onMouseMove:n.PropTypes.func,onMouseUp:n.PropTypes.func,startMouse:c.position,startOffset:c.position,animateTo:c.position,onAnimationEnd:n.PropTypes.func},getDefaultProps:function T(){return{stack:false,animating:false}},render:function x(){var e={}
this.props.floating&&(e={position:"absolute",left:this.props.startOffset.left,top:this.props.startOffset.top})
this.props.width&&(e.width=this.props.width)
var t=["card"]
this.props.stack&&t.push("stack")
if(this.props.floating&&!this.props.animating){t.push("dragging")
e.left+=this.props.mouse.left-this.props.startMouse.left
e.top+=this.props.mouse.top-this.props.startMouse.top}var r=a.pick(this.props,"content")
var i=this.props.animating?$.noop:this.onMouseDown
return n.createElement("div",{className:"card-wrap "+l.INTERACTIVE,style:e,onMouseDown:i,onTouchStart:i,onTouchMove:this.onMouseMove,onTouchEnd:this.onMouseUp,onTouchCancel:this.onMouseUp},n.createElement("div",{className:t.join(" ")},n.createElement(o,r)))},shouldComponentUpdate:function P(e,t){return this.props.floating||e.floating||this.props.content!==e.content||this.props.fakeRef!==e.fakeRef},componentDidMount:function E(){this.mouseMoveUpBound=false},componentDidUpdate:function w(e,t){if(this.props.animating&&!e.animating){var r=15*Math.sqrt(Math.sqrt(Math.pow(this.props.animateTo.left-this.props.startOffset.left,2)+Math.pow(this.props.animateTo.top-this.props.startOffset.top,2)))
$(i.findDOMNode(this)).animate(this.props.animateTo,Math.max(r,1),this.props.onAnimationEnd)}},componentWillUnmount:function k(){if(this.mouseMoveUpBound){console.warn("Removing an element with bound event handlers.")
this.unbindMouseMoveUp()
s.resetTouchHandlers()}},bindMouseMoveUp:function S(){this.mouseMoveUpBound=true
$(document).on("mousemove",this.onMouseMove)
$(document).on("mouseup",this.onMouseUp)},unbindMouseMoveUp:function C(){this.mouseMoveUpBound=false
$(document).off("mousemove",this.onMouseMove)
$(document).off("mouseup",this.onMouseUp)},onMouseDown:function M(e){e.preventDefault()
var t=s.extractPointerLocation(e)
if(t){this.bindMouseMoveUp()
this.props.onMouseDown&&this.props.onMouseDown(t,this)}},onMouseMove:function _(e){e.preventDefault()
var t=s.extractPointerLocation(e)
t&&this.props.onMouseMove&&this.props.onMouseMove(t)},onMouseUp:function N(e){e.preventDefault()
var t=s.extractPointerLocation(e)
if(t){this.unbindMouseMoveUp()
this.props.onMouseUp&&this.props.onMouseUp(t)}}})
var d="normal",f="auto",v="horizontal",m="vertical"
var g=n.createClass({displayName:"Orderer",propTypes:{correctOptions:n.PropTypes.array,current:n.PropTypes.array,height:n.PropTypes.oneOf([d,f]),layout:n.PropTypes.oneOf([v,m]),options:n.PropTypes.array,trackInteraction:n.PropTypes.func.isRequired},getDefaultProps:function I(){return{current:[],options:[],correctOptions:[],height:d,layout:v}},getInitialState:function R(){return{current:[],dragging:false,placeholderIndex:null}},componentWillReceiveProps:function O(e){a.isEqual(this.props.current,e.current)||this.setState({current:e.current})},render:function A(){var e=this
var t=this.state.dragging&&n.createElement(h,{ref:"dragging",floating:true,content:this.state.dragContent,startOffset:this.state.offsetPos,startMouse:this.state.grabPos,mouse:this.state.mousePos,width:this.state.dragWidth,onMouseUp:this.onRelease,onMouseMove:this.onMouseMove,key:this.state.dragKey||"draggingCard"})
var r=this.state.animating&&n.createElement(h,{floating:true,animating:true,content:this.state.dragContent,startOffset:this.state.offsetPos,width:this.state.dragWidth,animateTo:this.state.animateTo,onAnimationEnd:this.state.onAnimationEnd,key:this.state.dragKey||"draggingCard"})
var i=a.map(this.state.current,function(e,t){return n.createElement(h,{ref:"sortable"+t,fakeRef:"sortable"+t,floating:false,content:e.content,width:e.width,key:e.key,onMouseDown:this.state.animating?$.noop:this.onClick.bind(null,"current",t)})},this)
if(null!=this.state.placeholderIndex){var o=n.createElement(p,{ref:"placeholder",width:this.state.dragWidth,height:this.state.dragHeight,key:"placeholder"})
i.splice(this.state.placeholderIndex,0,o)}var s=i.length>0
i.push(t,r)
var c=n.createElement("div",{className:"perseus-clearfix draggable-box"},!s&&n.createElement(u,null),n.createElement("div",{ref:"dragList"},i))
var d=n.createElement("div",{ref:"bank",className:"bank perseus-clearfix"},a.map(this.props.options,function(t,r){return n.createElement(h,{ref:"bank"+r,floating:false,content:t.content,stack:true,key:r,onMouseDown:e.state.animating?$.noop:e.onClick.bind(null,"bank",r),onMouseMove:e.onMouseMove,onMouseUp:e.onRelease})},this))
return n.createElement("div",{className:"draggy-boxy-thing orderer height-"+this.props.height+" layout-"+this.props.layout+" above-scratchpad blank-background perseus-clearfix "+l.INTERACTIVE,ref:"orderer"},d,c)},onClick:function D(e,t,r,n){var a=$(i.findDOMNode(n))
var o=this.state.current.slice()
var s
var l=null
if("current"===e){o.splice(t,1)
s=this.state.current[t]
l=t}else"bank"===e&&(s=this.props.options[t])
this.setState({current:o,dragging:true,placeholderIndex:l,dragKey:s.key,dragContent:s.content,dragWidth:a.width(),dragHeight:a.height(),grabPos:r,mousePos:r,offsetPos:a.position()})},onRelease:function L(e){var t=this
var r=this.refs.dragging
if(null==r)return
var n=this.isCardInBank(r)
var o=this.state.placeholderIndex
var s=function u(){var e=t.state.current.slice()
if(!n){var r={content:t.state.dragContent,key:a.uniqueId("perseus_draggable_card_"),width:t.state.dragWidth}
e.splice(o,0,r)}t.props.onChange({current:e})
t.setState({current:e,dragging:false,placeholderIndex:null,animating:false})
t.props.trackInteraction()}
var l=$(i.findDOMNode(r)).position()
var p=null
n?a.each(this.props.options,function(e,t){if(e.content===this.state.dragContent){var r=i.findDOMNode(this.refs["bank"+t])
p=$(r).position()}},this):null!=this.refs.placeholder&&(p=$(i.findDOMNode(this.refs.placeholder)).position())
null==p?s():this.setState({offsetPos:l,animateTo:p,onAnimationEnd:s,animating:true,dragging:false})},onMouseMove:function F(e){var t=this.refs.dragging
if(null==t)return
var r
r=this.isCardInBank(t)?null:this.findCorrectIndex(t,this.state.current)
this.setState({mousePos:e,placeholderIndex:r})},findCorrectIndex:function q(e,t){var r=this.props.layout===v,n=$(i.findDOMNode(this.refs.dragList)),o=n.offset().left,s=n.offset().top,l=$(i.findDOMNode(e)).offset().left-o,p=$(i.findDOMNode(e)).offset().top-s,u=0,c=0,h=0
r?a.each(t,function(e,t){var r=i.findDOMNode(this.refs["sortable"+t])
var n=$(r).outerWidth(true)
l>c+n/2&&(u+=1)
c+=n},this):a.each(t,function(e,t){var r=i.findDOMNode(this.refs["sortable"+t])
var n=$(r).outerHeight(true)
p>h+n/2&&(u+=1)
h+=n},this)
return u},isCardInBank:function B(e){if(null==e)return false
var t=this.props.layout===v,r=$(i.findDOMNode(e)),n=$(i.findDOMNode(this.refs.bank)),a=r.offset(),o=n.offset(),s=r.outerHeight(true),l=n.outerHeight(true),p=n.outerWidth(true),u=i.findDOMNode(this.refs.dragList),c=$(u).width(),h=r.outerWidth(true)
return t?a.top+s/2<o.top+l:a.left+h/2<o.left+p},getUserInput:function z(){return{current:a.map(this.props.current,function(e){return e.content})}},simpleValidate:function U(e){return g.validate(this.getUserInput(),e)}})
a.extend(g,{validate:function H(e,t){if(0===e.current.length)return{type:"invalid",message:null}
var r=a.isEqual(e.current,a.pluck(t.correctOptions,"content"))
return{type:"points",earned:r?1:0,total:1,message:null}}})
e.exports={name:"orderer",displayName:"Orderer",widget:g}},function(e,t,r){"use strict"
var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]
for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}
var i=r(15),a=i.StyleSheet,o=i.css
var s=r(12)
var l=r(13)
var p=r(11)
var u=r(83)
var c=r(9)
var h=r(121)
var d=s.createClass({displayName:"LineHeightMeasurer",measureLineHeight:function m(){"number"!==typeof this._cachedLineHeight&&this.forceMeasureLineHeight()
return this._cachedLineHeight},forceMeasureLineHeight:function g(){this.$body.text(" ")
this._cachedLineHeight=this.$end.offset().top-this.$body.offset().top
this.$body.text("")},render:function y(){var e=this
return s.createElement("div",{className:o(f.measurer)},s.createElement("div",null,s.createElement("div",{ref:function t(r){return e.$body=$(r)},className:"paragraph"}),s.createElement("div",{ref:function r(t){return e.$end=$(t)}})))}})
var f=a.create({measurer:{position:"absolute",width:"100%",top:0,left:0}})
var v=s.createClass({displayName:"Passage",propTypes:n({},u.propTypes,{passageTitle:s.PropTypes.string,passageText:s.PropTypes.string,footnotes:s.PropTypes.string,showLineNumbers:s.PropTypes.bool,onChange:s.PropTypes.func,highlightRanges:s.PropTypes.arrayOf(s.PropTypes.arrayOf(s.PropTypes.number)),reviewModeRubric:s.PropTypes.shape({passageTitle:s.PropTypes.string,passageText:s.PropTypes.string,footnotes:s.PropTypes.string,showLineNumbers:s.PropTypes.bool,"static":s.PropTypes.bool})}),getDefaultProps:function b(){return{passageTitle:"",passageText:"",footnotes:"",showLineNumbers:true,highlightRanges:[]}},getInitialState:function T(){return{nLines:null,startLineNumbersAfter:0,newHighlightRange:null,selectedHighlightRange:null,mouseX:null,mouseY:null}},change:function x(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r]
return u.change.apply(this,t)},supportsHighlighting:function P(){return!this.props.passageText.match(/\[\[1\]\]/)},canUpdateHighlighting:function E(){return!this.props.reviewModeRubric&&this.supportsHighlighting()},wordsInSection:function w(e){e=e.replace(/_+/g,"")
e=e.replace(/\[Marker for question [0-9]+\]/g," ")
e=e.replace(/\[Sentence [0-9]+\]/g," ")
var t=e.split(/\s+/).filter(function(e){return e.length>0})
return t.length},compareRanges:function k(e,t){return e[0]<t[0]?-1:e[0]>t[0]?1:0},mergeOverlappingRanges:function S(e){var t=[].concat(e).sort(this.compareRanges)
var r=[]
for(var n=t,i=Array.isArray(n),a=0,n=i?n:n[Symbol.iterator]();;){var o
if(i){if(a>=n.length)break
o=n[a++]}else{a=n.next()
if(a.done)break
o=a.value}var s=o
var l=r[r.length-1]
l&&s[0]<=l[1]?r[r.length-1]=[l[0],Math.max(l[1],s[1])]:r.push(s)}return r},addHighlightRange:function C(){var e=[].concat(this.props.highlightRanges)
e.push(this.state.newHighlightRange)
e=this.mergeOverlappingRanges(e)
this.props.onChange({highlightRanges:e})
this.forceUpdate()},isAnchorFirst:function M(e,t,r,n){return e===t?r<n:4===e.compareDocumentPosition(t)},sortIndices:function _(e){var t=this.getSelectionIndex(e,"anchor")
var r=this.getSelectionIndex(e,"focus")
var n=e.anchorNode
var i=e.focusNode
var a=e.anchorOffset
var o=e.focusOffset
return this.isAnchorFirst(n,i,a,o)?{selectionStartIndex:t,selectionEndIndex:r,startNode:n,endNode:i,startNodeOffset:a,endNodeOffset:o}:{selectionStartIndex:r,selectionEndIndex:t,startNode:i,endNode:n,startNodeOffset:o,endNodeOffset:a}},getSelectionRange:function N(e){var t=this.sortIndices(e)
var r=t.selectionStartIndex,n=t.selectionEndIndex
var i=t.startNode,a=t.endNode,o=t.startNodeOffset,s=t.endNodeOffset
if(null===r||null===n)return null
" "===i.textContent.charAt(o)&&n>r&&(r+=1)
" "===a.textContent.charAt(s-1)&&n>r&&(n-=1)
return[r,n]},isInPassageText:function I(e){var t=e
while(t){if(t.classList&&t.classList.contains("passage-text")){while(1!==e.nodeType)e=e.parentNode
return t.contains(e)}t=t.parentNode}return false},getSelectionIndex:function R(e,t){var r=null
var n=0
var i=".?;:!,'\""
if("anchor"===t){r=e.anchorNode
n=e.anchorOffset}else{r=e.focusNode
n=e.focusOffset}if(!this.isInPassageText(r))return null
var a=r.textContent;-1!==i.indexOf(a.charAt(0))&&(a=a.slice(1))
var o=this.charToWordOffset(n,a)
var s=""
var l=""
while(r&&!(r.classList&&r.classList.contains("passage-text"))){while(r.previousSibling){r=r.previousSibling
l=r.textContent
var p=""
var u=l.charAt(l.length-1)
var c=-1!==i.indexOf(u)||!r.nextSibling||"_"===u&&r.nextSibling.textContent.charAt(0).match(/[\w ]/)
c&&s.length>0&&(p=" ")
s=l+p+s}r=r.parentNode}o+=this.wordsInSection(s)
"_"!==s.charAt(s.length-1)||a.charAt(0).match(/[\w ]/)||(o-=1)
return o},charToWordOffset:function O(e,t){while(e>0&&" "!==t.charAt(e-1))e-=1
var r=t.substring(0,e)
var n=this.wordsInSection(r)
" "===t.charAt(0)&&0===e&&(n-=1)
return n},handleConfirmHighlightClick:function A(){this.setState({newHighlightRange:null})
this.addHighlightRange()
var e=window.getSelection()
e.collapse(e.anchorNode,e.anchorOffset)},isHighlighted:function D(e){var t=this.props.highlightRanges
for(var r=t,n=Array.isArray(r),i=0,r=n?r:r[Symbol.iterator]();;){var a
if(n){if(i>=r.length)break
a=r[i++]}else{i=r.next()
if(i.done)break
a=i.value}var o=a
if(e[0]>=o[0]&&e[1]<=o[1])return o}return null},handleMouseDown:function L(e){e.target.getAttribute("data-highlighting-tooltip")||this.setState({newHighlightRange:null,selectedHighlightRange:null})},handleMouseUp:function F(e){var t=this.state.newHighlightRange||this.state.selectedHighlightRange
if(this.canUpdateHighlighting()&&!t){this.setState({mouseX:e.clientX,mouseY:e.clientY-60})
var r=window.getSelection()
var n=this.getSelectionRange(r)
if(n){var i=this.isHighlighted(n)
i?this.setState({newHighlightRange:null,selectedHighlightRange:i}):" "===r.toString()||r.isCollapsed||this.setState({newHighlightRange:n,selectedHighlightRange:null})}}},handleRemoveHighlightClick:function q(){var e=this.state.selectedHighlightRange
var t=this.props.highlightRanges.findIndex(function(t){return t[0]===e[0]&&t[1]===e[1]})
var r=[].concat(this.props.highlightRanges)
r.splice(t,1)
this.setState({selectedHighlightRange:null})
this.props.onChange({highlightRanges:r})},stringToArrayOfWords:function B(e){var t
e=e.split(" ")
e=e.map(function(e){var t=e.match(/\s+/)
if(t){var r=t.index+t[0].length
return[e.slice(0,r),e.slice(r)]}return[e]})
e=(t=[]).concat.apply(t,e)
e=e.filter(function(e){return""!==e})
return e},adjustIndexforMarkdownAndWhitespace:function z(e,t){for(var r=0;r<=e;r++){var n=t[r].match(/^\s+$/)||["{highlighting.end}{highlighting.start}","{highlighting.end}","{highlighting.start}"].includes(t[r])
n&&e++}return e},shouldComponentUpdate:function U(e,t){return!p.isEqual(this.props,e)||!p.isEqual(this.state,t)},renderAddHighlightTooltip:function H(){var e=this.state.mouseX+"px"
var t=this.state.mouseY+"px"
return s.createElement("span",{onClick:this.handleConfirmHighlightClick,style:{position:"absolute",left:e,top:t}},s.createElement("img",{"data-highlighting-tooltip":true,width:"130",height:"44",style:{position:"absolute",top:"-54px",left:"-65px"},src:"/images/perseus/add-highlight.svg"}))},renderRemoveHighlightTooltip:function W(){var e=this.state.mouseX+"px"
var t=this.state.mouseY+"px"
return s.createElement("span",{onClick:this.handleRemoveHighlightClick,style:{position:"absolute",left:e,top:t}},s.createElement("img",{"data-highlighting-tooltip":true,width:"163",height:"44",style:{position:"absolute",top:"-54px",left:"-81px"},src:"/images/perseus/remove-highlight.svg"}))},render:function V(){var e=this
var t=void 0
var r=this.state.nLines
this.props.showLineNumbers&&r&&(t=p.range(1,r+1).map(function(t){return 4===t&&r>4?s.createElement("span",{key:"line-marker",className:"line-marker"},"Line"):t+e.state.startLineNumbersAfter}))
var n="{highlighting.start}"
var i="{highlighting.end}"
if(this.props.reviewModeRubric){n="{review-highlighting.start}"
i="{review-highlighting.end}"}var a=this.props.passageText
p.each(this.props.highlightRanges,function(e){a=a.replace(/\n +\n/g,"\n\n")
a=a.replace(/\r\n +\r\n/g,"\r\n\r\n")
var t=this.stringToArrayOfWords(a)
var r=this.adjustIndexforMarkdownAndWhitespace(e[0],t)
var o=this.adjustIndexforMarkdownAndWhitespace(e[1],t)
a=t.slice(0,r).join(" ")+" "+t.slice(r,o+1).map(function(e){var t=new RegExp("[\\(\\)\\—\\-\\—\\-\\‑\\.                                            \\[\\]\\+\\$\\?,!A-Za-z0-9                                            À-ſ:;'‘’\"“”=%<>s]+")
var r=e.match(t)
if(r){var a=r.index
var o=a+r[0].length
return e.slice(0,a)+n+e.slice(a,o)+i+e.slice(o)}return e}).join(n+" "+i)+" "+t.slice(o+1).join(" ")},this)
var o={}
var l=h.parse(a,o)
var u=/\S/.test(this.props.passageTitle)
return s.createElement("div",null,s.createElement("div",{onMouseUp:this.handleMouseUp,className:"perseus-widget-passage-container"},this._renderInstructions(o),s.createElement("div",{className:"perseus-widget-passage"},u&&s.createElement("h3",{className:"passage-title"},s.createElement(c,{content:this.props.passageTitle})),t&&s.createElement("div",{className:"line-numbers","aria-hidden":true},t),!u&&s.createElement("h3",{className:"perseus-sr-only"},i18n._("Beginning of reading passage.")),s.createElement("div",{className:"passage-text"},this._renderContent(l)),this._hasFootnotes()&&[s.createElement("h4",{key:"footnote-start",className:"perseus-sr-only"},i18n._("Beginning of reading passage footnotes.")),s.createElement("div",{key:"footnotes",className:"footnotes"},this._renderFootnotes())],s.createElement("div",{className:"perseus-sr-only"},i18n._("End of reading passage.")))),this.state.newHighlightRange&&this.renderAddHighlightTooltip(),this.state.selectedHighlightRange&&this.renderRemoveHighlightTooltip())},componentDidMount:function G(){var e=this
this._updateState()
window.addEventListener("mousedown",this.handleMouseDown)
this._onResize=p.throttle(function(){e._lineHeightMeasurer.forceMeasureLineHeight()
e._updateState()},500)
window.addEventListener("resize",this._onResize)},componentWillUnmount:function j(){window.removeEventListener("mousedown",this.handleMouseDown)
window.removeEventListener("resize",this._onResize)},componentDidUpdate:function Y(){this._updateState()},_updateState:function K(){this.setState({nLines:this._measureLines(),startLineNumbersAfter:this._getInitialLineNumber()})},_measureLines:function X(){var e=$(l.findDOMNode(this.refs.content))
var t=e.height()
var r=this._getLineHeight()
var n=Math.round(t/r)
return n},_getInitialLineNumber:function Q(){var e=this
var t=true
var r=this.props.findWidgets(function(r,n){if("passage"!==n.type)return false
r===e.props.widgetId&&(t=false)
return t})
return r.map(function(e){return e.getLineCount()}).reduce(function(e,t){return e+t},0)},getLineCount:function Z(){return null!=this.state.nLines?this.state.nLines:this._measureLines()},_renderInstructions:function J(e){var t=e.firstQuestionRef
var r=e.firstSentenceRef
var n=""
t&&(n+=i18n._("The symbol %(questionSymbol)s indicates that question %(questionNumber)s references this portion of the passage.",{questionSymbol:"[["+t+"]]",questionNumber:t}))
r&&(n+=i18n._(" The symbol %(sentenceSymbol)s indicates that the following sentence is referenced in a question.",{sentenceSymbol:"["+r+"]"}))
var i=h.parse(n)
return s.createElement("div",{className:"perseus-widget-passage-instructions"},h.output(i))},_renderContent:function et(e){var t=this
return s.createElement("div",{ref:"content"},s.createElement(d,{ref:function r(e){return t._lineHeightMeasurer=e}}),h.output(e))},_hasFootnotes:function tt(){var e=this.props.footnotes
var t=/^\s*$/.test(e)
return!t},_renderFootnotes:function rt(){var e=this.props.footnotes
var t=h.parse(e)
return h.output(t)},_getStartRefLineNumber:function nt(e){var t=h.START_REF_PREFIX+e
var r=this.refs[t]
if(!r)return null
var n=$(l.findDOMNode(r))
var i=n.next()
0===i.length&&(i=n)
var a=i.offset().top
return this.state.startLineNumbersAfter+1+this._convertPosToLineNumber(a)},_getEndRefLineNumber:function it(e){var t=h.END_REF_PREFIX+e
var r=this.refs[t]
if(!r)return null
var n=$(l.findDOMNode(r))
var i=n.prev()
0===i.length&&(i=n)
var a=i.height()
var o=i.offset().top
var s=this._convertPosToLineNumber(o+a)
0===a&&(s+=1)
return this.state.startLineNumbersAfter+s},_getLineHeight:function at(){return this._lineHeightMeasurer.measureLineHeight()},_convertPosToLineNumber:function ot(e){var t=$(l.findDOMNode(this.refs.content))
var r=e-t.offset().top
var n=this._getLineHeight()
var i=Math.round(r/n)
return i},_getRefContent:function st(e){var t=h.START_REF_PREFIX+e
var r=this.refs[t]
if(!r)return null
return r.getRefContent()},getReference:function lt(e){var t=this._getStartRefLineNumber(e)
var r=this._getEndRefLineNumber(e)
if(null==t||null==r)return null
var n=this._getRefContent(e)
return{startLine:t,endLine:r,content:n}},getUserInput:function pt(){return null},simpleValidate:function ut(e){return v.validate(this.getUserInput(),e)}})
p.extend(v,{validate:function ct(e,t){return{type:"points",earned:0,total:0,message:null}}})
e.exports={name:"passage",displayName:"Passage",widget:v,transform:function ht(e){return p.pick(e,"passageTitle","passageText","footnotes","showLineNumbers")}}},function(e,t,r){"use strict"
var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]
for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}
var i=r(12)
var a=r(11)
var o=r(83)
var s=r(22)
var l=r(99)
var p="–"
var u=i.createClass({displayName:"PassageRef",propTypes:n({},o.propTypes,{passageNumber:i.PropTypes.number,referenceNumber:i.PropTypes.number,summaryText:i.PropTypes.string}),getDefaultProps:function c(){return{passageNumber:1,referenceNumber:1,summaryText:""}},getInitialState:function h(){return{lineRange:null,content:null}},shouldComponentUpdate:function d(e,t){return!a.isEqual(this.props,e)||!a.isEqual(this.state,t)},getUserInput:function f(){return l.getUserInput.call(this)},render:function v(){var e=this.state.lineRange
var t
t=e?e[0]===e[1]?$_({lineNumber:e[0]},"line %(lineNumber)s"):$_({lineRange:e[0]+p+e[1]},"lines %(lineRange)s"):$_({lineRange:"?"+p+"?"},"lines %(lineRange)s")
var r
if(this.props.summaryText){var n=s.parseInline(this.props.summaryText)
r=i.createElement("span",{"aria-hidden":true}," ","(“",s.basicOutput(n),"”)")}else r=null
return i.createElement("span",null,t,r,e&&i.createElement("div",{className:"perseus-sr-only"},this.state.content))},change:function m(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r]
return o.change.apply(this,t)},componentDidMount:function g(){this._deferredUpdateRange()
this._throttledUpdateRange=a.throttle(this._deferredUpdateRange,500)
window.addEventListener("resize",this._throttledUpdateRange)},componentDidUpdate:function y(){this._deferredUpdateRange()},componentWillUnmount:function b(){window.removeEventListener("resize",this._throttledUpdateRange)},_deferredUpdateRange:function T(){a.defer(this._updateRange)},_updateRange:function x(){var e=this.props.findWidgets("passage "+this.props.passageNumber)[0]
var t=null
e&&(t=e.getReference(this.props.referenceNumber))
this.isMounted()&&(t?this.setState({lineRange:[t.startLine,t.endLine],content:t.content}):this.setState({lineRange:null,content:null}))},simpleValidate:function P(e){return u.validate(this.getUserInput(),e)}})
a.extend(u,{validate:function E(e,t){return{type:"points",earned:0,total:0,message:null}}})
e.exports={name:"passage-ref",displayName:"PassageRef",defaultAlignment:"inline",widget:u,transform:function w(e){return a.pick(e,"passageNumber","referenceNumber","summaryText")},version:{major:0,minor:1}}},function(e,t,r){"use strict"
var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]
for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}
var i=r(12)
var a=r(11)
var o=r(83)
var s=r(99)
var l=r(9)
var p=i.createClass({displayName:"PassageRefTarget",propTypes:n({},o.propTypes,{content:i.PropTypes.string}),getDefaultProps:function u(){return{content:""}},getUserInput:function c(){return s.getUserInput.call(this)},render:function h(){return i.createElement(l,{content:this.props.content,inline:true,apiOptions:this.props.apiOptions})},change:function d(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r]
return o.change.apply(this,t)},simpleValidate:function f(e){return p.validate(this.getUserInput(),e)}})
a.extend(p,{validate:function v(e,t){return{type:"points",earned:0,total:0,message:null}}})
e.exports={name:"passage-ref-target",displayName:"PassageRefTarget",defaultAlignment:"inline",widget:p,hidden:true,transform:function m(e){return a.pick(e,"content")},version:{major:0,minor:0}}},function(e,t,r){"use strict"
var n=r(12)
var i=r(13)
var a=r(11)
var o=r(19).ClassNames
var s=r(18).deepEq
var l=r(81)
var p=r(103)
var u=r(108)
var c=r(100)
var h=r(102)
var d="bar",f="line",v="pic",m="histogram",g="dotplot"
var y={type:n.PropTypes.oneOf([d,f,v,m,g]),labels:n.PropTypes.arrayOf(n.PropTypes.string),categories:n.PropTypes.arrayOf(n.PropTypes.oneOfType([n.PropTypes.number,n.PropTypes.string])),scaleY:n.PropTypes.number,maxY:n.PropTypes.number,snapsPerLine:n.PropTypes.number,picSize:n.PropTypes.number,pixBoxHeight:n.PropTypes.number,picUrl:n.PropTypes.string,plotDimensions:n.PropTypes.arrayOf(n.PropTypes.number),labelInterval:n.PropTypes.number,starting:n.PropTypes.arrayOf(n.PropTypes.number),"static":n.PropTypes.bool}
var b=n.createClass({displayName:"Plotter",propTypes:{onChange:n.PropTypes.func.isRequired,trackInteraction:n.PropTypes.func.isRequired},getDefaultProps:function x(){return{type:d,labels:["",""],categories:[""],scaleY:1,maxY:10,snapsPerLine:2,picSize:40,picBoxHeight:48,picUrl:"",plotDimensions:[380,300],labelInterval:1}},getInitialState:function P(){return{values:this.props.starting||[1]}},DOT_PLOT_POINT_SIZE:function E(){return this.props.apiOptions.isMobile?6:4},DOT_PLOT_POINT_PADDING:function w(){return 8},DOT_TICK_POINT_SIZE:function k(){return 2},render:function S(){var e=75
var t={marginBottom:this.props.labels[0]?e:0}
return n.createElement("div",{className:"perseus-widget-plotter graphie "+o.INTERACTIVE,ref:"graphieDiv",style:t})},componentDidUpdate:function C(e,t){this.shouldSetupGraphie&&this.setupGraphie(t)},componentDidMount:function M(){this.setupGraphie(this.state)},componentWillReceiveProps:function _(e){var t=["type","labels","categories","scaleY","maxY","snapsPerLine","picUrl","labelInterval","static"]
this.shouldSetupGraphie=a.any(t,function(t){return!a.isEqual(this.props[t],e[t])},this)
if(!a.isEqual(this.props.starting,e.starting)&&!a.isEqual(this.state.values,e.starting)){this.shouldSetupGraphie=true
this.setState({values:e.starting})}},setupGraphie:function N(e){var t=this
t.shouldSetupGraphie=false
var r=i.findDOMNode(t.refs.graphieDiv)
$(r).empty()
var n=u.createGraphie(r)
t.graphie=n
t.graphie.pics=[]
t.graphie.dotTicks=[]
var o=t.props.type===d,s=t.props.type===f,c=t.props.type===v,y=t.props.type===m,b=t.props.type===g
var T=c||b
var x={}
var P=x
var E=this.props.apiOptions.isMobile
P.graph={lines:[],bars:[],points:[],dividers:[]}
P.scaleY=t.props.scaleY
P.dimX=t.props.categories.length
var w=E?[288,336]:t.props.plotDimensions
if(s)P.dimX+=E?-.2:1
else if(y){P.barPad=0
P.barWidth=1}else if(o){P.barPad=E?.08:.15
P.barWidth=1-2*P.barPad
P.dimX+=(E?-2:2)*P.barPad}else if(T){P.picBoxHeight=t.props.picBoxHeight
P.picBoxWidthPx=w[0]/t.props.categories.length
var k=w[0]-P.dimX*P.picBoxWidthPx
P.picPad=k/(2*P.dimX+2)
var S=P.picBoxWidthPx+2*P.picPad
P.picPad=P.picPad/S
P.picBoxWidth=P.picBoxWidthPx/S
P.dimX+=2*P.picPad}b&&(P.picBoxHeight=2*this.DOT_PLOT_POINT_SIZE()+this.DOT_PLOT_POINT_PADDING())
P.dimY=Math.ceil(t.props.maxY/P.scaleY)*P.scaleY
var C=25
var M=25;(o||s)&&E&&(C=0!==t.props.labels[1].length?17:11)
b&&(C/=2)
E&&T&&0===t.props.labels[1].length&&(C=0)
E?P.scale=a.map([[P.dimX,C],[P.dimY,M]],function(e,t){var r=e[0],n=e[1]
return(w[t]-4*n)/r}):P.scale=a.map([P.dimX,P.dimY],function(e,t){return w[t]/e})
C/=P.scale[0]
M/=P.scale[1]
T&&(P.scale[1]=P.picBoxHeight/P.scaleY)
n.init({range:[[-3*C,P.dimX+C],[-3*M,P.dimY+M]],scale:P.scale,isMobile:this.props.apiOptions.isMobile})
n.addMouseLayer({allowScratchpad:true,setDrawingAreaAvailable:this.props.apiOptions.setDrawingAreaAvailable})
if(!T){var _=E?P.scaleY:0
for(var N=_;N<=P.dimY;N+=P.scaleY){n.label([0,N],l.roundToApprox(N,2),"left",true)
n.style({stroke:E?"#e9ebec":"#000",strokeWidth:1,opacity:E?1:.3},function(){n.line([0,N],[P.dimX,N])})}}(o||s)&&E&&(t.graphie.dragPrompt=n.label([P.dimX/2,P.dimY/2],"Drag handles to make graph","center",false).css("font-weight","bold").css("color",p.KA_GREEN).css("display","none"))
t.setupCategories(x)
T&&E&&(t.graphie.dotPrompt=n.label([P.dimX/2,P.dimY/2],"Tap to add points","center",false).css("font-weight","bold").css("color",p.KA_GREEN).css("display","none"))
T&&t.drawPicHeights(t.state.values,e.values)
n.style({stroke:"#000",strokeWidth:2,opacity:1},function(){if(T)if(b)n.style({stroke:E?p.GRAY_G:"#000",strokeWidth:E?1:2},function(){return n.line([E?0:.5,0],[P.dimX-(E?0:.5),0])})
else{n.line([0,0],[P.dimX,0])
0===t.props.labels[1].length&&E||n.style({stroke:E?p.GRAY_G:"#000",strokeWidth:E?1:2},function(){return n.line([0,0],[0,P.dimY])})}else{n.style({stroke:E?p.GRAY_G:"#000",strokeWidth:E?1:2},function(){return n.line([E?3*-C:0,0],[P.dimX+(E?C:0),0])});(o||s)&&E||n.style({stroke:E?p.GRAY_G:"#000",strokeWidth:E?1:2},function(){return n.line([0,0],[0,P.dimY])})}})
n.label([P.dimX/2,E?3*-M:-35/P.scale[1]],t.props.labels[0],E?"above":"below",false).css("font-weight","bold").css("color",E&&p.GRAY_F)
n.label([(E?-35:-60)/P.scale[0],P.dimY/2],t.props.labels[1],"center",false).css("font-weight","bold").css("color",E&&p.GRAY_F).addClass("rotate")
if(this.props.apiOptions.isMobile){this.horizHairline=new h(this.graphie,[0,0],[0,0],{normalStyle:{strokeWidth:1}})
this.horizHairline.attr({stroke:p.INTERACTIVE})
this.horizHairline.hide()
this.hairlineRange=[[0,P.dimX],[0,P.dimY]]}},showHairlines:function I(e){if(this.props.apiOptions.isMobile&&"none"!==this.props.markings){this.horizHairline.moveTo([this.hairlineRange[0][0],e[1]],[this.hairlineRange[0][1],e[1]])
this.horizHairline.show()}},hideHairlines:function R(){this.props.apiOptions.isMobile&&this.horizHairline.hide()},labelCategory:function O(e,t){var r=this.props.apiOptions.isMobile
var n=this.graphie
t+=""
var i=false
var a=t.match(/^\$(.*)\$$/)
if(a){t=a[1]
i=true}var o=0!==this.props.labels[0].length
var s="translateX(-50%) translateX(5px) translateY(-50%) rotate(-45deg)"
n.style({color:r?p.GRAY_G:"inherit",transform:r&&!a?s:"none",transformOrigin:"100%"},function(){return n.label([e,r?-.5:0],t,"below",i)})},setupCategories:function A(e){var t=this
var r=e
var n=t.graphie
var i=this.props.apiOptions.isMobile
if(t.props.type===m){a.times(t.props.categories.length-1,function(r){t.setupBar({index:r,startHeight:t.state.values[r],config:e,isHistogram:true})})
a.each(t.props.categories,function(e,a){var o=.5+a*r.barWidth
t.labelCategory(o,e)
var s=6/r.scale[1]
n.style({stroke:"#000",strokeWidth:i?1:2,opacity:1},function(){n.line([o,-s],[o,0])})})}else a.each(t.props.categories,function(a,o){var s=t.state.values[o]
var l
t.props.type===d?l=t.setupBar({index:o,startHeight:s,config:e,isHistogram:false}):t.props.type===f?l=t.setupLine(o,s,e):t.props.type===v?l=t.setupPic(o,e):t.props.type===g&&(l=t.setupDotplot(o,e))
var u=0
var c=-6/r.scale[1]
t.props.type!==g||i||(u=-c)
if(t.props.type===g){if(o%t.props.labelInterval===0||o===t.props.categories.length-1){t.labelCategory(l,a)
u*=1.5
c*=1.5}}else t.labelCategory(l,a)
n.style({stroke:i?p.GRAY_G:"#000",strokeWidth:i?1:2,opacity:1},function(){n.line([l,u],[l,c])})})},_clampValue:function D(e,t,r){return Math.max(Math.min(e,r),t)},_maybeUpdateDragPrompt:function L(e){if(null!=this.graphie.dragPrompt){var t=e.every(function(e){return 0===e})
this.graphie.dragPrompt[0].style.display=t?"inline":"none"}},setupBar:function F(e){var t=this
var r=this.props.apiOptions.isMobile
var n=e.index
var i=e.startHeight
var o=e.config
var s=e.isHistogram
var l=this
var u=l.graphie
var h=o.barWidth/2
var d
d=s?.5+n*o.barWidth+h:(r?h:.5+o.barPad)+n
var f=function v(e,t){var n=u.scalePoint(0)
o.graph.bars[e].scale(1,Math.max(r?.2:.01,t/o.scaleY),n[0],n[1])
if(s){var i=o.graph.dividers[e-1],a=o.graph.dividers[e]
if(i){var p=Math.min(l.state.values[e-1],t)
i.scale(1,Math.max(.01,p/o.scaleY),n[0],n[1])}if(a){var p=Math.min(l.state.values[e+1],t)
a.scale(1,Math.max(.01,p/o.scaleY),n[0],n[1])}}}
u.style({stroke:"none",fill:r?p.BLUE_C:p.LIGHT_BLUE,opacity:1},function(){o.graph.bars[n]=u.path([[d-h,0],[d-h,o.scaleY],[d+h,o.scaleY],[d+h,0],[d-h,0]])})
s&&n>0&&u.style({stroke:"#000",strokeWidth:1,opacity:.3},function(){o.graph.dividers.push(u.path([[d-h,0],[d-h,o.scaleY]]))})
if(r)!function(){var e=o.scaleY/l.props.snapsPerLine
o.graph.lines[n]=c.addMaybeMobileMovablePoint(t,{coord:[d,i],constraints:[function(r,n,i){return[d,t._clampValue(Math.round(r[1]/e)*e,0,o.dimY)]}],onMoveStart:function r(){o.graph.bars[n].attr({fill:p.INTERACTIVE})},onMove:function s(){var e=o.graph.lines[n].coord()[1]
var t=a.clone(l.state.values)
t[n]=e
l.setState({values:t})
l.changeAndTrack({values:t})
l._maybeUpdateDragPrompt(t)
f(n,e)},onMoveEnd:function u(){o.graph.bars[n].attr({fill:p.BLUE_C})}})
o.graph.lines[n].state.visibleShape.wrapper.style.zIndex="1"
l._maybeUpdateDragPrompt(l.state.values)}()
else{o.graph.lines[n]=u.addMovableLineSegment({coordA:[d-h,i],coordZ:[d+h,i],snapY:o.scaleY/l.props.snapsPerLine,constraints:{constrainX:true},normalStyle:{stroke:p.INTERACTIVE,"stroke-width":this.props["static"]?0:4}})
o.graph.lines[n].onMove=function(e,t){var r=this.coordA[1]
if(r<0||r>o.dimY){r=Math.min(Math.max(r,0),o.dimY)
this.coordA[1]=this.coordZ[1]=r
this.transform()}var i=a.clone(l.state.values)
i[n]=r
l.setState({values:i})
l.changeAndTrack({values:i})
f(n,r)}}f(n,i)
return d},setupLine:function q(e,t,r){var n=this
var i=this.props.apiOptions.isMobile
var o=this
var s=r
var l=o.graphie
var u=e+(i?.4:1)
if(i)!function(){var i=r.scaleY/o.props.snapsPerLine
s.graph.points[e]=c.addMaybeMobileMovablePoint(n,{coord:[u,t],constraints:[function(e,t,a){return[u,n._clampValue(Math.round(e[1]/i)*i,0,r.dimY)]}],onMove:function h(){var t=s.graph.points[e].coord()[1]
var r=a.clone(o.state.values)
r[e]=t
o.setState({values:r})
o.changeAndTrack({values:r})
o._maybeUpdateDragPrompt(r)}})
o._maybeUpdateDragPrompt(o.state.values)
e>0&&(s.graph.lines[e]=c.addMovableLine(l,{points:[s.graph.points[e-1],s.graph.points[e]],constraints:c.MovablePoint.constraints.fixed(),normalStyle:{stroke:p.BLUE_C,"stroke-width":2},highlightStyle:{stroke:p.BLUE_C,"stroke-width":2}}))}()
else{s.graph.points[e]=l.addMovablePoint({coord:[u,t],constraints:{constrainX:true},normalStyle:{fill:p.INTERACTIVE,stroke:p.INTERACTIVE},snapY:s.scaleY/o.props.snapsPerLine})
s.graph.points[e].onMove=function(t,r){r=Math.min(Math.max(r,0),s.dimY)
var n=a.clone(o.state.values)
n[e]=r
o.setState({values:n})
o.changeAndTrack({values:n})
return[t,r]}
e>0&&(s.graph.lines[e]=l.addMovableLineSegment({pointA:s.graph.points[e-1],pointZ:s.graph.points[e],constraints:{fixed:true},normalStyle:{stroke:"#9ab8ed","stroke-width":2}}))}return u},setupDotplot:function B(e,t){var r=this
var n=this.graphie
var i=this.props.apiOptions.isMobile
return this.setupTiledPlot(e,i?.5:1,t,function(e,t){return n.ellipse([e,t],[r.DOT_PLOT_POINT_SIZE()/n.scale[0],r.DOT_PLOT_POINT_SIZE()/n.scale[1]],{fill:p.INTERACTIVE,stroke:p.INTERACTIVE})})},setupPic:function z(e,t){var r=this
var n=this.graphie
return this.setupTiledPlot(e,0,t,function(e,t){var i=n.scalePoint([e,t])
var a=r.props.picSize
return n.raphael.image(r.props.picUrl,i[0]-a/2,i[1]-a/2,a,a)})},setupTiledPlot:function U(e,t,r,n){var i=this
var o=r
var s=i.graphie
var l=s.pics
var p=s.dotTicks
var u=e+.5+o.picPad
l[e]=[]
p[e]=[]
var c=Math.round(o.dimY/o.scaleY)+1
a(c).times(function(r){r-=1
var a=(r+.5)*o.scaleY
var c=u-o.picBoxWidth/2
var h=a+.5*o.scaleY
var d=s.scalePoint([c,h+t])
var f=s.mouselayer.rect(d[0],d[1],o.picBoxWidthPx,o.picBoxHeight)
$(f[0]).css({fill:"#000",opacity:0,cursor:"pointer"}).on("vmousedown",function(r){r.preventDefault()
i.whichPicClicked=e
i.setPicHeight(e,h)
$(document).on("vmouseup.plotTile",function(e){$(document).unbind(".plotTile")})
$(document).on("vmousemove.plotTile",function(e){e.preventDefault()
var r=s.getMouseCoord(e)[1]
var n=Math.floor(r-t)
var a=Math.max(-1,Math.floor(n/o.scaleY))
var l=(a+.5)*o.scaleY
var p=l+.5*o.scaleY
i.setPicHeight(i.whichPicClicked,p)})})
if(r<0)return
l[e][r]=n(u,a+t)
p[e][r]=s.ellipse([u,a+t],[i.DOT_TICK_POINT_SIZE()/s.scale[0],i.DOT_TICK_POINT_SIZE()/s.scale[1]],{fill:"#dee1e3",stroke:"#dee1e3"})})
return u},setPicHeight:function H(e,t){var r=a.clone(this.state.values)
r[e]=t
this.drawPicHeights(r,this.state.values)
this.setState({values:r})
this.changeAndTrack({values:r})},changeAndTrack:function W(e){this.props.onChange(e)
this.props.trackInteraction()},drawPicHeights:function V(e,t){var r=this
var n=r.graphie
var i=n.pics
var o=this.props.apiOptions.isMobile
if(o){var s=e.every(function(e){return 0===e})
n.dotPrompt[0].style.display=s?"inline":"none"}a.each(i,function(i,s){a.each(i,function(i,a){var l=(a+1)*r.props.scaleY
var p=l<=e[s]
if(r.props.type===g){var u=l<=t[s]
var c=p&&!u
c&&i.animate({"stroke-width":8},75,function(){return i.animate({"stroke-width":2},75)})}$(i[0]).css({display:p?"inline":"none"})
n.dotTicks[s][a][0].style.display=p||!o?"none":"inline"})})},getUserInput:function G(){return this.state.values},simpleValidate:function j(e){return b.validate(this.getUserInput(),e)}})
a.extend(b,{validate:function Y(e,t){return s(e,t.starting)?{type:"invalid",message:null}:{type:"points",earned:s(e,t.correct)?1:0,total:1,message:null}}})
var T=a.identity
e.exports={name:"plotter",displayName:"Plotter",widget:b,staticTransform:T}},function(e,t,r){"use strict"
var n=r(12)
var i=r(59).molecule
var a=n.createClass({displayName:"Separator",propTypes:{data:n.PropTypes.any,index:n.PropTypes.number},componentDidMount:function s(){this.drawArrow()},componentDidUpdate:function l(){this.drawArrow()},arrowLength:100,drawArrow:function p(){var e=this.refs["arrowCanvas"+this.props.index]
var t=e.getContext("2d")
t.clearRect(0,0,e.width,e.height)
var r=new Path2D
t.strokeStyle="rgb(0,0,0)"
t.lineWidth=1.2
t.lineCap="round"
var n=5
r.moveTo(n,e.height/2)
r.lineTo(e.width-n,e.height/2)
r.moveTo(e.width-2*n,e.height/2-n)
r.lineTo(e.width-n,e.height/2)
r.moveTo(e.width-2*n,e.height/2+n)
r.lineTo(e.width-n,e.height/2)
t.stroke(r)},render:function u(){return n.createElement("div",{className:"arrow-container"},n.createElement("div",{className:"above-text"},this.props.data.topText),n.createElement("canvas",{height:"30",id:"arrowCanvas"+this.props.index,ref:"arrowCanvas"+this.props.index,width:this.arrowLength},"Reaction arrow pointing to the right."),n.createElement("div",{className:"below-text"},this.props.data.bottomText))}})
var o=n.createClass({displayName:"ReactionDiagramWidget",propTypes:{rotationAngle:n.PropTypes.arrayOf(n.PropTypes.number),separators:n.PropTypes.arrayOf(n.PropTypes.object),smiles:n.PropTypes.arrayOf(n.PropTypes.string),widgetId:n.PropTypes.string},getDefaultProps:function c(){return{smiles:[],rotationAngle:[],separators:[]}},simpleValidate:function h(){return{type:"points",earned:0,total:0,message:null}},getUserInput:function d(){return[]},validate:function f(e,t){return{type:"points",earned:0,total:0,message:null}},focus:function v(){return true},render:function m(){var e=this
return n.createElement("div",{className:"reaction",ref:"reaction"},this.props.smiles.map(function(t,r){var o=e.props.widgetId+"-"+r
return n.createElement("div",{key:o,className:"molecule-container"},n.createElement(i,{id:o,rotationAngle:e.props.rotationAngle[r],smiles:t}),r===e.props.smiles.length-1?null:n.createElement(a,{data:e.props.separators[r],index:r}))}))}})
e.exports={name:"reaction-diagram",displayName:"Chemical reaction",hidden:false,widget:o}},function(e,t,r){"use strict"
var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]
for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}
var i=r(12)
var a=r(11)
var o=r(19).Options
var s=r(83)
var l=r(87),p=l.iconOk
var u=r(84)
var c=r(9)
var h=r(18)
var d=i.createClass({displayName:"Sequence",propTypes:n({},s.propTypes,{apiOptions:o.propTypes,json:i.PropTypes.arrayOf(i.PropTypes.shape({content:i.PropTypes.string,images:i.PropTypes.object,widgets:i.PropTypes.object})),trackInteraction:i.PropTypes.func.isRequired}),getDefaultProps:function v(){return{json:[{content:"",widgets:{},images:{}}]}},getInitialState:function m(){return{visible:1}},shouldComponentUpdate:function g(e,t){return e!==this.props||t!==this.state},render:function y(){var e=this
var t=i.createElement(u,n({},p,{style:{color:"green"}}))
var r=a.chain(this.props.json).first(this.state.visible).map(function(e,t){return"[["+h.snowman+" group "+t+"]]"}).join("\n\n").value()
var o={}
a.each(this.props.json,function(r,n){var i="group "+n
o[i]={type:"group",graded:true,version:{major:0,minor:0},options:a.extend({},r,{icon:n<e.state.visible-1?t:null})}})
return i.createElement("div",{className:"perseus-sequence"},i.createElement(c,{ref:"renderer",content:r,widgets:o,onInteractWithWidget:this._handleInteraction,apiOptions:this.props.apiOptions}))},change:function b(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r]
return s.change.apply(this,t)},_handleInteraction:function T(e){var t=parseInt(e.split(" ")[1])
if(t===this.state.visible-1){var r=this.refs.renderer.getWidgetInstance("group "+t)
var n=r.simpleValidate()
if("points"===n.type&&n.total===n.earned){this.setState({visible:this.state.visible+1})
this.props.trackInteraction({visible:this.state.visible+1})}}}})
var f=function x(e,t){var r=e.json
a.isArray(r)||(r=[r])
var n=a.map(r,function(e){return t(e)})
return a.extend({},e,{json:n})}
e.exports={name:"sequence",displayName:"Graded Sequence",widget:d,traverseChildWidgets:f,tracking:"all"}},function(e,t,r){"use strict"
var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]
for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}
var i=r(106)
var a=r(12)
var o=r(13)
var s=r(11)
var l=r(83)
var p=r(19).Options
var u=r(111).assert
var c=r(89)
var h=c.Path,d=c.Arc,f=c.Circle,v=c.Label,m=c.Line,g=c.MovablePoint,y=c.MovableLine
var b=r(107)
var T=r(110)
var x=r(18).seededRNG
var P=r(18)
var E=r(129).number
var w=r(103)
var k=r(81)
var S=400
var C=1e3
var M=5e3
var _=a.createClass({displayName:"Histogram",propTypes:{data:a.PropTypes.arrayOf(a.PropTypes.number),xAxisLabel:a.PropTypes.string,yAxisLabel:a.PropTypes.string,box:a.PropTypes.arrayOf(a.PropTypes.number)},getDefaultProps:function R(){return{data:null,xAxisLabel:"Proportion (%)",yAxisLabel:"Number of times seen",box:[S,S]}},getInitialState:function O(){return{threshold:this._getInitialThreshold(this._range())}},componentWillReceiveProps:function A(e){var t=this._range()
var r=this._range(e)
P.deepEq(t,r)||this.setState({threshold:this._getInitialThreshold(r)})},_renderThresholdLine:function D(){var e=this
var t=[0,this._range()[1][1]]
var r=s.map(t,function(t){return[e.state.threshold,t]})
var n=function i(e,t){return a.createElement(g,{key:t,"static":true,coord:e,normalStyle:{stroke:"none",fill:"none"}})}
return a.createElement(y,{onMove:this.handleMouseInteraction},s.map(r,n))},_renderCircle:function L(){var e=this
var t=this.props.data
var r=s.reduce(t,function(e,t){return e+t},0)
var n=s.reduce(t,function(t,r,n){return null!=e.state.threshold&&n<=e.state.threshold?t+r:t},0)
var i=n/r
var o=1e-5
var l=20
var p=[this.props.box[0]-1.5*l,1.5*l]
var u=function g(){var e={key:"below",center:p,radius:l,startAngle:0,endAngle:i<1?360*i:360-o,sector:1!==i,unscaled:true,style:{fill:w.LIGHT_RED,stroke:w.RED}}
return a.createElement(d,e)}
var c=function y(){var e={key:"above",center:p,radius:l,startAngle:i>0?360*i:o,endAngle:360,sector:0!==i,unscaled:true,style:{fill:w.LIGHT_BLUE,stroke:w.BLUE}}
return a.createElement(d,e)}
var h=this._range()[0]
var f=Math.min(Math.max(this.state.threshold,h[0]),h[1]).toFixed(2)
var m=function b(){var e={key:"label",coord:[p[0],p[1]+1.5*l],text:n+" of "+r+" results below "+f+"%",direction:"center",tex:false,unscaled:true,style:{fontSize:"12px"}}
return a.createElement(v,e)}
return[i>0&&u(),i<1&&c(),m()]},_renderData:function F(){var e=this
var t=this.props.data
var r=this._range()
var n=1
var i=function o(t,r){if(!t)return
var i=null!=e.state.threshold&&r<=e.state.threshold
var o={fill:i?w.LIGHT_RED:w.LIGHT_BLUE,stroke:i?w.RED:w.BLUE}
var s=[[r,0],[r,t],[r+n,t],[r+n,0]]
return a.createElement(h,{key:r,coords:s,style:o})}
return s.map(t,i)},render:function q(){var e=this.props.data
var t=this._range()
var r={xAxisLabel:this.props.xAxisLabel,yAxisLabel:this.props.yAxisLabel,box:this.props.box,range:t,data:e,scale:[P.scaleFromExtent(t[0],this.props.box[0]),P.scaleFromExtent(t[1],this.props.box[1])]}
var n={stroke:"#000",strokeWidth:1,opacity:1}
var i=[t[0][0],0]
var o=[t[0][1],0]
return a.createElement(c,{box:r.box,range:r.range,options:r,setup:this._setupGraphie,onMouseMove:this.handleMouseInteraction,onMouseDown:this.handleMouseInteraction,setDrawingAreaAvailable:this.props.setDrawingAreaAvailable},a.createElement(m,{start:i,end:o,style:n}),e&&this._renderData(),e&&this._renderCircle(),e&&this._renderThresholdLine())},_setupGraphie:function B(e,t){var r=t.data
var n=t.range
var i=t.scale
var a=n[0][1]-n[0][0]
var o=n[1][1]-0
var l=20
var p=Math.ceil(o/l)
s.each(s.range(0,n[1][1],p),function(t){r&&e.label([n[0][0],t],k.roundToApprox(t,2),"left",true)
e.line([n[0][0],t],[n[0][1],t],{stroke:"#000",strokeWidth:1,opacity:.3})})
if(r){var u=15
var c=Math.ceil(a/u)
s.each(s.range(n[0][0],n[0][1],c),function(t){e.label([t,0],E.round(t,2),"below",true)
var r=8
e.line([t,0],[t,-r/i[1]],{stroke:"#000",strokeWidth:1})})}var h={stroke:"#000",strokeWidth:2,opacity:1}
var d=[n[0][0],0]
var f=[n[0][0],n[1][1]]
e.line(d,f,h)
var v=n[0][0]+a/2
var m=r?25:0
e.label([v,-m/i[1]],t.xAxisLabel,"below",false).css("font-weight","bold")
var g=0+o/2
var y=r?55:28
e.label([n[0][0]-y/i[0],g],t.yAxisLabel,"center",false).css("font-weight","bold").css("-webkit-transform","rotate(-90deg)")},handleMouseInteraction:function z(e){this.setState({threshold:e[0]})},_range:function U(e){var t=[[0,100],[-1,10]]
e=e||this.props
return e.data?this._getRangeForData(e.data):t},_getRangeForData:function H(e){var t=10
var r=s.indexOf(e,s.find(e,function(e){return e>0}))
var n=Math.max(0,r-t)
var i=s.lastIndexOf(e,s.last(s.filter(e,function(e){return e>0})))
var a=Math.min(101,i+1+t)
var o=-1
var l=s.max(e)
return[[n,a],[o,l]]},_getInitialThreshold:function W(e){var t=e[0]
return t[0]+(t[1]-t[0])/3}})
var N=a.createClass({displayName:"Simulator",propTypes:n({},l.propTypes,{apiOptions:p.propTypes,data:a.PropTypes.arrayOf(a.PropTypes.number),numTrials:a.PropTypes.number,proportionLabel:a.PropTypes.string,proportionOrPercentage:a.PropTypes.string,randomSeed:a.PropTypes.number,sampleSize:a.PropTypes.number,trackInteraction:a.PropTypes.func.isRequired,userProportion:a.PropTypes.number,xAxisLabel:a.PropTypes.string,yAxisLabel:a.PropTypes.string}),getInitialState:function V(){return{invalidInput:false}},getDefaultProps:function G(){return{data:null,userProportion:null,sampleSize:null,numTrials:null,randomSeed:0,xAxisLabel:"Proportion (%)",yAxisLabel:"Number of times seen",proportionLabel:"Underlying proportion",proportionOrPercentage:"proportion",apiOptions:p.defaults}},componentWillMount:function j(){null!=this.props.randomSeed&&(this.generateNumber=P.seededRNG(this.props.randomSeed))},componentWillReceiveProps:function Y(e){e.randomSeed!==this.props.randomSeed&&(this.generateNumber=P.seededRNG(e.randomSeed))},render:function K(){var e=this
var t={marginLeft:"5px"}
var r="0px 0px 0px 2px rgba(255, 165, 0, 1)"
var n=s.extend({},t,{WebkitBoxShadow:r,MozBoxShadow:r,boxShadow:r,transition:"all 0.15s"})
var o=s.extend({},t,{transition:"all 0.15s"})
var l=this.state.invalidInput?n:o
var p=this.props.apiOptions.staticRender?T:b
var u=a.createElement("div",null,a.createElement(p,{ref:"userProportion",style:l,value:this.calculateDisplayProportion(),checkValidity:this.checkProportionValidity,disabled:this.props.apiOptions.readOnly,onChange:this.handleUserProportionChange,onFocus:function x(){return e.props.onFocus(["userProportion"])},onBlur:function P(){return e.props.onBlur(["userProportion"])}}),a.createElement(i,null,a.createElement("p",null,"This controls the proportion or percentage that will be used in your simulation.")))
var c=a.createElement("div",null,a.createElement(p,{ref:"sampleSize",style:l,value:this.props.sampleSize,checkValidity:function E(e){return e>=0},disabled:this.props.apiOptions.readOnly,onChange:this.handleSampleSizeChange,onFocus:function w(){return e.props.onFocus(["sampleSize"])},onBlur:function k(){return e.props.onBlur(["sampleSize"])}}),a.createElement(i,null,a.createElement("p",null,"This controls the sample size that will be used in your simulation. For example, if you set this to 100, then for each trial, responses from 100 participants will be simulated.")))
var h=a.createElement("div",{style:{textAlign:"right"}},a.createElement("b",null,this.props.numTrials),a.createElement(i,null,a.createElement("p",null,"This is the number of trials used in the simulation. For example, if set to 50, then the survey will be conducted 50 times.")))
var d=function S(e){var t=a.createElement("thead",null,a.createElement("tr",null,a.createElement("th",null,"Parameter"),a.createElement("th",null,"Value")))
var r=a.createElement("tbody",null,s.map(e,function(e,t){return a.createElement("tr",{key:t},a.createElement("td",null,e.title),a.createElement("td",null,e.value))}))
return a.createElement("table",null,t,r)}
var f=[{title:this.props.proportionLabel+":",value:u},{title:"Sample size:",value:c},{title:"Number of trials:",value:h}]
var v={margin:"20px 0"}
var m=a.createElement("button",{className:"simple-button",style:v,disabled:this.props.apiOptions.readOnly,onClick:this.handleRunSimulation},i18n._("Run simulation"))
var g={paddingBottom:this.props.data?40:0}
var y=a.createElement("div",{style:g},a.createElement(_,{data:this.props.data,xAxisLabel:this.props.xAxisLabel,yAxisLabel:this.props.yAxisLabel,setDrawingAreaAvailable:this.props.apiOptions.setDrawingAreaAvailable}))
return a.createElement("div",null,d(f),m,y)},calculateDisplayProportion:function X(){var e=this.props.userProportion
return"percentage"===this.props.proportionOrPercentage?Math.round(100*e):e},change:function Q(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r]
return l.change.apply(this,t)},checkProportionValidity:function Z(e){return e>=0&&"proportion"===this.props.proportionOrPercentage&&e<=1||"percentage"===this.props.proportionOrPercentage&&e<=100},handleUserProportionChange:function J(e,t){var r
r="percentage"===this.props.proportionOrPercentage?e/100:e
null!=r&&(r=Math.min(1,Math.max(0,r)))
this.props.onChange({userProportion:r},t)},handleSampleSizeChange:function et(e,t){null!=e&&(e=Math.min(C,Math.max(0,Math.floor(e))))
this.props.onChange({sampleSize:e},t)},handleRunSimulation:function tt(){if(null==this.props.numTrials||null==this.props.userProportion||null==this.props.sampleSize){this.setState({invalidInput:true})
return}this.setState({invalidInput:false})
this.props.onChange({data:this.generateData()})
this.props.trackInteraction()},generateData:function rt(e){var t=this
e=e||this.props
var r=function n(e,r,i){var a=function l(){return t.generateNumber()<i}
var o=s.times(101,function(){return 0})
s.times(r,function(){var t=s.times(e,a)
var r=s.filter(t,s.identity).length
var n=Math.floor(100*r/e)
o[n]++})
return o}
return r(e.sampleSize,e.numTrials,e.userProportion)},getInputPaths:function nt(){return[["userProportion"],["sampleSize"]]},focus:function it(){var e=s.head(this.getInputPaths())
this.focusInputPath(e)
return true},focusInputPath:function at(e){u(e.length>0)
var t=s.head(e)
var r=this.refs[t]
r.focus()},blurInputPath:function ot(e){u(e.length>0)
var t=s.head(e)
var r=this.refs[t]
r.blur()},getDOMNodeForPath:function st(e){u(e.length>0)
var t=s.head(e)
return o.findDOMNode(this.refs[t])},getGrammarTypeForPath:function lt(e){u(e.length>0)
return"number"},setInputValue:function pt(e,t,r){u(e.length>0)
var n=s.head(e)
var i=n.charAt(0).toUpperCase()+n.slice(1)
var a="handle"+i+"Change"
this[a](t,r)},getUserInput:function ut(){return null},simpleValidate:function ct(e){return N.validate(this.getUserInput(),e)}})
s.extend(N,{validate:function ht(e,t){return{type:"points",earned:0,total:0,message:null}}})
var I=function dt(e){var t=s.clone(e)
t.randomSeed=e.problemNum
return t}
e.exports={name:"simulator",displayName:"Simulator",widget:N,transform:I}},function(e,t,r){"use strict"
var n=r(12)
var i=r(11)
var a=r(112)
var o=r(19).Options
var s=r(18).shuffle
var l="horizontal",p="vertical"
var u=n.createClass({displayName:"Sorter",propTypes:{apiOptions:o.propTypes,correct:n.PropTypes.array,layout:n.PropTypes.oneOf([l,p]),onChange:n.PropTypes.func,padding:n.PropTypes.bool,problemNum:n.PropTypes.number,trackInteraction:n.PropTypes.func.isRequired},getDefaultProps:function c(){return{correct:[],layout:l,padding:true,problemNum:0,onChange:function e(){}}},render:function h(){var e=s(this.props.correct,this.props.problemNum,true)
var t=this.props.apiOptions.isMobile?8:5
return n.createElement("div",{className:"perseus-widget-sorter perseus-clearfix"},n.createElement(a,{options:e,layout:this.props.layout,margin:t,padding:this.props.padding,onChange:this.handleChange,ref:"sortable"}))},handleChange:function d(e){this.props.onChange(e)
this.props.trackInteraction()},getUserInput:function f(){return{options:this.refs.sortable.getOptions()}},simpleValidate:function v(e){return u.validate(this.getUserInput(),e)}})
i.extend(u,{validate:function m(e,t){var r=i.isEqual(e.options,t.correct)
return{type:"points",earned:r?1:0,total:1,message:null}}})
e.exports={name:"sorter",displayName:"Sorter",widget:u}},function(e,t,r){"use strict"
var n=r(12)
var i=r(13)
var a=r(11)
var o=r(110)
var s=r(9)
var l=r(18)
var p=r(19).Options
var u=r(42)
var c=r(111).assert
var h=function b(e,t){return[""+e,""+t]}
var d=function T(){return h(0,0)}
var f=function x(e){c(a.isArray(e)&&2===e.length)
return+e[0]}
var v=function P(e){c(a.isArray(e)&&2===e.length)
return+e[1]}
var m=function E(e){var t=f(e)
var r=v(e)
return"answer"+t+","+r}
var g=n.createClass({displayName:"Table",propTypes:{answers:n.PropTypes.arrayOf(n.PropTypes.arrayOf(n.PropTypes.string)),editableHeaders:n.PropTypes.bool,Editor:n.PropTypes.func,headers:n.PropTypes.arrayOf(n.PropTypes.string),trackInteraction:n.PropTypes.func.isRequired},getDefaultProps:function w(){var e=4
var t=1
var r=a(e).times(function(){return l.stringArrayOfSize(t)})
return{apiOptions:p.defaults,headers:[""],editableHeaders:false,rows:e,columns:t,answers:r}},_getRows:function k(){return this.props.answers.length},_getColumns:function S(){return this.props.answers[0].length},render:function C(){var e=this
var t=this._getRows()
var r=this._getColumns()
var i=this.props.headers
var l
l=this.props.apiOptions.staticRender?o:"input"
return n.createElement("table",{className:"perseus-widget-table-of-values non-markdown"},n.createElement("thead",null,n.createElement("tr",null,a.map(i,function(t,r){return e.props.editableHeaders?n.createElement("th",{key:r},n.createElement(e.props.Editor,{ref:"columnHeader"+r,apiOptions:e.props.apiOptions,content:t,widgetEnabled:false,onChange:a.partial(e.onHeaderChange,r)})):n.createElement("th",{key:r},n.createElement(s,{content:t}))}))),n.createElement("tbody",null,a(t).times(function(t){return n.createElement("tr",{key:t},a(r).times(function(r){return n.createElement("td",{key:r},n.createElement(l,{ref:m(h(t,r)),type:"text",value:e.props.answers[t][r],disabled:e.props.apiOptions.readOnly,onFocus:a.partial(e._handleFocus,h(t,r)),onBlur:a.partial(e._handleBlur,h(t,r)),onChange:a.partial(e.onValueChange,t,r)}))}))})))},getUserInput:function M(){return a.map(this.props.answers,a.clone)},onValueChange:function _(e,t,r){var n=a.map(this.props.answers,a.clone)
n[e][t]=r.target.value
this.props.onChange({answers:n})
this.props.trackInteraction()},onHeaderChange:function N(e,t){var r=this.props.headers.slice()
r[e]=t.content
this.props.onChange({headers:r})},simpleValidate:function I(e){return g.validate(this.getUserInput(),e)},_handleFocus:function R(e){this.props.onFocus(e)},_handleBlur:function O(e){this.props.onBlur(e)},focus:function A(){this.focusInputPath(d())
return true},focusInputPath:function D(e){var t=m(e)
var r=this.refs[t]
this.props.apiOptions.staticRender?r.focus():i.findDOMNode(r).focus()},blurInputPath:function L(e){var t=m(e)
var r=this.refs[t]
this.props.apiOptions.staticRender?r.blur():i.findDOMNode(r).blur()},getDOMNodeForPath:function F(e){var t=m(e)
return i.findDOMNode(this.refs[t])},getInputPaths:function q(){var e=this._getRows()
var t=this._getColumns()
var r=[]
a(e).times(function(e){a(t).times(function(t){var n=h(e,t)
r.push(n)})})
return r},getGrammarTypeForPath:function B(e){return"number"},setInputValue:function z(e,t,r){var n=f(e)
var i=v(e)
var o=a.map(this.props.answers,a.clone)
o[n][i]=t
this.props.onChange({answers:o},r)}})
a.extend(g,{validate:function U(e,t){var r=function c(e){return a.filter(e,function(e){return a.some(e,a.identity)})}
var n=r(t.answers)
var i=r(e)
var o=a.some(i,function(e){return a.some(e,function(e){return""===e})})
if(o||!i.length)return{type:"invalid",message:null}
if(i.length!==n.length)return{type:"points",earned:0,total:1,message:null}
var s=u.number.createValidatorFunctional
var l=null
var p=a.every(n,function(e){var t
for(t=0;t<i.length;t++){var r=i[t]
var n=a.every(r,function(t,r){var n=e[r]
var i=s(n,{simplify:true})
var a=i(t)
a.message&&(l=a.message)
return a.correct})
if(n){i.splice(t,1)
return true}}return false})
return{type:"points",earned:p?1:0,total:1,message:l}}})
var y=function H(e){var t=e.answers.length
var r=e.answers[0].length
var n=a(t).times(function(){return l.stringArrayOfSize(r)})
return a.extend({},e,{answers:n})}
e.exports={name:"table",displayName:"Table of values",accessible:true,widget:g,transform:y}},function(e,t,r){"use strict"
var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]
for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}
var i=r(12)
var a=r(13)
var o=r(11)
var s=r(105)
var l=r(84)
var p=r(107)
var u=r(110)
var c=r(40)
var h=r(78)
var d=r(19).Options
var f=r(76).propTypes.keypadElementPropType
var v=15
var m="°"
var g=300
var y=1.5
var b=2
var T=1
var x=r(87),P=x.iconPlus,E=x.iconUndo
var w=r(18).deepEq
var k=r(18).getGridStep
var S=r(18).captureScratchpadTouchStart
var C=r(129).number
var M=r(129).vector
var _=r(129).point
var N=r(129).ray
var I=r(129).line
var R=r(81)
var O=r(103)
var A=r(111).assert
var D=400
var L={url:null}
function F(e,t){return o.object(o.map(e,function(e,r){return[r,e[t]]}))}var q=function ot(e,t){e=e||{}
var r=e.labels||["x","y"]
var n=e.range||[[-10,10],[-10,10]]
var i=e.step||[1,1]
var a=e.gridStep||k(n,i,t)
return{box:[t,t],labels:r,range:n,step:i,gridStep:a,valid:true,backgroundImage:L,markings:"grid",showProtractor:false}}
var B={apiOptions:d.defaults,gradeEmpty:false,graphMode:"interactive",listMode:"dynamic",graph:{},tools:{translation:{enabled:true,required:false,constraints:{}},rotation:{enabled:true,required:false,constraints:{fixed:false},coord:[1,6]},reflection:{enabled:true,required:false,constraints:{fixed:false},coords:[[2,-4],[2,2]]},dilation:{enabled:true,required:false,constraints:{fixed:false},coord:[6,6]}},drawSolutionShape:true,starting:{shape:{type:"polygon-3",coords:[[2,2],[2,6],[7,2]]},transformations:[]},correct:{shape:{type:"polygon-3",coords:[[2,2],[2,6],[7,2]]},transformations:[]}}
function z(e){return e.constraints.fixed?O.DYNAMIC:O.INTERACTIVE}function U(e,t){var r=t[0][1]-t[0][0]
var n=t[1][1]-t[1][0]
return e*Math.max(r,n)/20}function H(e,t,r){var n=M.subtract(e,t)
var i=M.scale(n,r)
var a=M.add(t,i)
return a}function W(e){return String(R.roundTo(9,e))}function V(e){var t=R.toFraction(e,C.DEFAULT_TOLERANCE)
return 1===t[1]?W(e):W(t[0])+"/"+W(t[1])}function G(e){return[i.createElement(c,null,"("),W(e[0]),i.createElement(c,null,", {}"),W(e[1]),i.createElement(c,null,")")]}function j(e){return[i.createElement(c,null,"\\langle"),W(e[0]),i.createElement(c,null,", {}"),W(e[1]),i.createElement(c,null,"\\rangle")]}function Y(e){return W(e)+m}function K(e,t){e=o.clone(e).sort(_.compare)
t=o.clone(t).sort(_.compare)
return o.all(o.map(e,function(e,r){var n=t[r]
return _.equal(e,n)}))}var X=function st(e){return e.customKeypad?h:e.staticRender?u:p}
var Q={apply:function lt(e){return Z[e.type].isValid(e)?Z[e.type].apply(e):o.identity},append:function pt(e,t){var r=Q._appendAndCollapseLastTwo(e,t)
return Q._collapseFinalNoOps(r)},_collapseFinalNoOps:function ut(e){return e.length&&Q.isNoOp(o.last(e))?o.initial(e):e},_appendAndCollapseLastTwo:function ct(e,t){if(e.length){var r=Q.collapse(o.last(e),t)
return o.initial(e).concat(r)}return[t]},isNoOp:function ht(e){return Z[e.type].isNoOp(e)},collapse:function dt(e,t){if(e.type!==t.type)return[e,t]
if(Q.isEmpty(e)&&Q.isEmpty(t))return[]
if(!Q.isValid(e)||!Q.isValid(t))return[e,t]
return Q._collapseValidMonotypedTransforms(e,t)},isValid:function ft(e){return Z[e.type].isValid(e)},isEmpty:function vt(e){return Z[e.type].isEmpty(e)},_collapseValidMonotypedTransforms:function mt(e,t){var r=Z[e.type].collapse(e,t)
if(r){o.isArray(r)||(r=[r])
o.each(r,function(t){t.type=e.type})
return r}return[e,t]},toTeX:function gt(e){return Z[e.type].toTeX(e)},ListItem:i.createClass({displayName:"ListItem",render:function yt(){if("dynamic"===this.props.mode)return i.createElement("div",null,Q.toTeX(this.props.transform))
if("interactive"===this.props.mode){var e=Z[this.props.transform.type].Input
return i.createElement(e,n({ref:"transform",onChange:this.handleChange,onFocus:this.props.onFocus,onBlur:this.props.onBlur,keypadElement:this.props.keypadElement,apiOptions:this.props.apiOptions},this.props.transform))}throw new Error("Invalid mode: "+this.props.mode)},value:function bt(){return"interactive"===this.props.mode?o.extend({type:this.props.transform.type},this.refs.transform.value()):this.props.transform},handleChange:o.debounce(function(e){this.props.onChange(this.value(),e)},g),_getComponentAtPath:function Tt(e){var t=this.refs.transform
var r=o.head(e)
return t.refs[r]},focus:function xt(){var e=this.refs.transform
var t=o.head(e.getInputPaths())
t&&this.focusInputPath(t)},focusInputPath:function Pt(e){this._getComponentAtPath(e).focus()},blurInputPath:function Et(e){this._getComponentAtPath(e).blur()},getDOMNodeForPath:function wt(e){return a.findDOMNode(this._getComponentAtPath(e))},getGrammarTypeForPath:function kt(e){return"number"},setInputValue:function St(e,t,r){if(t.length){t=parseFloat(t)
if(isNaN(t))return}this.refs.transform.setInputValue(e,t,r)},getInputPaths:function Ct(){return"dynamic"===this.props.mode?[]:this.refs.transform.getInputPaths()}})}
var Z={translation:{verbName:i18n._("Translate"),nounName:i18n._("Translation"),lowerNounName:i18n._("translation"),apply:function Mt(e){return function(t){return M.add(t,e.vector)}},isValid:function _t(e){return o.isFinite(e.vector[0])&&o.isFinite(e.vector[1])},isEmpty:function Nt(e){return null===e.vector[0]&&null===e.vector[1]},isNoOp:function It(e){return M.equal(e.vector,[0,0])},collapse:function Rt(e,t){return{vector:M.add(e.vector,t.vector)}},toTeX:function Ot(e){return $_({vector:j(e.vector)},"Translation by %(vector)s")},Input:i.createClass({displayName:"Input",getInitialState:function At(){return{vector:this.props.vector||[null,null]}},componentDidUpdate:function Dt(e){w(this.props,e)||this.setState({vector:this.props.vector})},render:function Lt(){var e=this
var t=X(this.props.apiOptions)
var r=[i.createElement(c,null,"\\langle"),i.createElement(t,{ref:"x",placeholder:0,value:this.state.vector[0],useArrowKeys:true,onChange:function n(t){var r=e.state.vector[1]
e.setState({vector:[t,r]},function(){e.props.onChange()})},onFocus:o.partial(this.props.onFocus,"x"),onBlur:o.partial(this.props.onBlur,"x"),keypadElement:this.props.keypadElement}),i.createElement(c,null,", {}"),i.createElement(t,{ref:"y",placeholder:0,value:this.state.vector[1],useArrowKeys:true,onChange:function a(t){var r=e.state.vector[0]
e.setState({vector:[r,t]},function(){e.props.onChange()})},onFocus:o.partial(this.props.onFocus,"y"),onBlur:o.partial(this.props.onBlur,"y"),keypadElement:this.props.keypadElement}),i.createElement(c,null,"\\rangle")]
return i.createElement("div",null,$_({vector:r},"Translation by %(vector)s"))},value:function Ft(){var e=this.refs.x.getValue()
var t=this.refs.y.getValue()
return{vector:[e,t]}},setInputValue:function qt(e,t,r){var n=this
var i=o.first(e)
var a=o.clone(this.state.vector)
"x"===i?a[0]=t:"y"===i&&(a[1]=t)
this.setState({vector:a},function(){n.props.onChange(r)})},getInputPaths:function Bt(){return[["x"],["y"]]}})},rotation:{verbName:i18n._("Rotate"),nounName:i18n._("Rotation"),lowerNounName:i18n._("rotation"),apply:function zt(e){return function(t){return _.rotateDeg(t,e.angleDeg,e.center)}},isValid:function Ut(e){return o.isFinite(e.angleDeg)&&o.isFinite(e.center[0])&&o.isFinite(e.center[1])},isEmpty:function Ht(e){return null===e.angleDeg&&null===e.center[0]&&null===e.center[1]},isNoOp:function Wt(e){return C.equal(e.angleDeg,0)},collapse:function Vt(e,t){if(!_.equal(e.center,t.center))return false
return{center:e.center,angleDeg:e.angleDeg+t.angleDeg}},toTeX:function Gt(e){return $_({degrees:Y(e.angleDeg),point:G(e.center)},"Rotation by %(degrees)s about %(point)s")},Input:i.createClass({displayName:"Input",getInitialState:function jt(){return{center:this.props.center||[null,null],angleDeg:this.props.angleDeg||null}},componentDidUpdate:function $t(e){w(this.props,e)||this.setState({center:this.props.center,angleDeg:this.props.angleDeg})},render:function Yt(){var e=this
var t=X(this.props.apiOptions)
var r=[i.createElement(c,null,"("),i.createElement(t,{ref:"centerX",placeholder:0,value:this.state.center[0],useArrowKeys:true,onChange:function s(t){var r=e.state.center[1]
e.setState({center:[t,r]},function(){e.props.onChange()})},onFocus:o.partial(this.props.onFocus,"centerX"),onBlur:o.partial(this.props.onBlur,"centerX"),keypadElement:this.props.keypadElement}),i.createElement(c,null,", {}"),i.createElement(t,{ref:"centerY",placeholder:0,value:this.state.center[1],useArrowKeys:true,onChange:function l(t){var r=e.state.center[0]
e.setState({center:[r,t]},function(){e.props.onChange()})},onFocus:o.partial(this.props.onFocus,"centerY"),onBlur:o.partial(this.props.onBlur,"centerY"),keypadElement:this.props.keypadElement}),i.createElement(c,null,")")]
var n=[i.createElement(t,{ref:"angleDeg",placeholder:0,value:this.state.angleDeg,useArrowKeys:true,onChange:function p(t){e.setState({angleDeg:t},function(){e.props.onChange()})},onFocus:o.partial(this.props.onFocus,"angleDeg"),onBlur:o.partial(this.props.onBlur,"angleDeg"),keypadElement:this.props.keypadElement}),m]
var a=$_({point:r,degrees:n},"Rotation about %(point)s by %(degrees)s")
return i.createElement("div",null,a)},value:function Kt(){var e=this.refs.angleDeg.getValue()
var t=this.refs.centerX.getValue()
var r=this.refs.centerY.getValue()
return{angleDeg:e,center:[t,r]}},setInputValue:function Xt(e,t,r){var n=this
var i=o.first(e)
var a=o.clone(this.state.angleDeg)
var s=o.clone(this.state.center)
"angleDeg"===i?a=t:"centerX"===i?s[0]=t:"centerY"===i&&(s[1]=t)
this.setState({angleDeg:a,center:s},function(){n.props.onChange(r)})},getInputPaths:function Qt(){return[["centerX"],["centerY"],["angleDeg"]]}})},reflection:{verbName:i18n._("Reflect"),nounName:i18n._("Reflection"),lowerNounName:i18n._("reflection"),apply:function Zt(e){return function(t){return _.reflectOverLine(t,e.line)}},isValid:function Jt(e){return o.all(o.flatten(e.line),o.isFinite)&&!_.equal(e.line[0],e.line[1])},isEmpty:function er(e){return o.all(o.flatten(e.line),o.isNull)},isNoOp:function tr(e){return false},collapse:function rr(e,t){if(!I.equal(e.line,t.line))return false
return[]},toTeX:function nr(e){var t=e.line[0]
var r=e.line[1]
return $_({point1:G(t),point2:G(r)},"Reflection over the line from %(point1)s to %(point2)s")},Input:i.createClass({displayName:"Input",getInitialState:function ir(){return{line:this.props.line||[[null,null],[null,null]]}},componentDidUpdate:function ar(e){w(this.props,e)||this.setState({line:this.props.line})},render:function or(){var e=X(this.props.apiOptions)
var t=[i.createElement(c,null,"("),i.createElement(e,{ref:"x1",value:this.state.line[0][0],useArrowKeys:true,onChange:this.changePoint.bind(this,0,0),onFocus:o.partial(this.props.onFocus,"x1"),onBlur:o.partial(this.props.onBlur,"x1"),keypadElement:this.props.keypadElement}),i.createElement(c,null,", {}"),i.createElement(e,{ref:"y1",value:this.state.line[0][1],useArrowKeys:true,onChange:this.changePoint.bind(this,0,1),onFocus:o.partial(this.props.onFocus,"y1"),onBlur:o.partial(this.props.onBlur,"y1"),keypadElement:this.props.keypadElement}),i.createElement(c,null,")")]
var r=[i.createElement(c,null,"("),i.createElement(e,{ref:"x2",value:this.state.line[1][0],useArrowKeys:true,onChange:this.changePoint.bind(this,1,0),onFocus:o.partial(this.props.onFocus,"x2"),onBlur:o.partial(this.props.onBlur,"x2"),keypadElement:this.props.keypadElement}),i.createElement(c,null,", {}"),i.createElement(e,{ref:"y2",value:this.state.line[1][1],useArrowKeys:true,onChange:this.changePoint.bind(this,1,1),onFocus:o.partial(this.props.onFocus,"y2"),onBlur:o.partial(this.props.onBlur,"y2"),keypadElement:this.props.keypadElement}),i.createElement(c,null,")")]
return i.createElement("div",null,$_({point1:t,point2:r},"Reflection over the line from %(point1)s to %(point2)s"))},changePoint:function sr(e,t,r,n){var i=this
var a=o.map(this.state.line,o.clone)
a[e][t]=r
this.setState({line:a},function(){i.props.onChange(n)})},value:function lr(){var e=this.refs.x1.getValue()
var t=this.refs.y1.getValue()
var r=this.refs.x2.getValue()
var n=this.refs.y2.getValue()
return{line:[[e,t],[r,n]]}},setInputValue:function pr(e,t,r){var n=o.first(e)
var i
"x"===n[0]?i=0:"y"===n[0]&&(i=1)
var a
"1"===n[1]?a=0:"2"===n[1]&&(a=1)
this.changePoint(a,i,t,r)},getInputPaths:function ur(){return[["x1"],["y1"],["x2"],["y2"]]}})},dilation:{verbName:i18n._("Dilate"),nounName:i18n._("Dilation"),lowerNounName:i18n._("dilation"),apply:function cr(e){return function(t){return H(t,e.center,e.scale)}},isValid:function hr(e){return o.isFinite(e.scale)&&o.isFinite(e.center[0])&&o.isFinite(e.center[1])},isEmpty:function dr(e){return null===e.scale&&null===e.center[0]&&null===e.center[1]},isNoOp:function fr(e){return C.equal(e.scale,1)},collapse:function vr(e,t){if(!_.equal(e.center,t.center))return false
return{center:e.center,scale:e.scale*t.scale}},toTeX:function mr(e){var t=V(e.scale)
return $_({scale:t,point:G(e.center)},"Dilation of scale %(scale)s about %(point)s")},Input:i.createClass({displayName:"Input",getInitialState:function gr(){return{center:this.props.center||[null,null],scale:this.props.scale||null}},componentDidUpdate:function yr(e){w(this.props,e)||this.setState({center:this.props.center,scale:this.props.scale})},render:function br(){var e=this
var t=X(this.props.apiOptions)
var r=[i.createElement(c,null,"("),i.createElement(t,{ref:"x",placeholder:0,value:this.state.center[0],useArrowKeys:true,onChange:function a(t){var r=e.state.center[1]
e.setState({center:[t,r]},function(){e.props.onChange()})},onFocus:o.partial(this.props.onFocus,"x"),onBlur:o.partial(this.props.onBlur,"x"),keypadElement:this.props.keypadElement}),i.createElement(c,null,", {}"),i.createElement(t,{ref:"y",placeholder:0,value:this.state.center[1],useArrowKeys:true,onChange:function s(t){var r=e.state.center[0]
e.setState({center:[r,t]},function(){e.props.onChange()})},onFocus:o.partial(this.props.onFocus,"y"),onBlur:o.partial(this.props.onBlur,"y"),keypadElement:this.props.keypadElement}),i.createElement(c,null,")")]
var n=i.createElement(t,{ref:"scale",placeholder:1,value:this.state.scale,useArrowKeys:true,onChange:function l(t){e.setState({scale:t},function(){e.props.onChange()})},onFocus:o.partial(this.props.onFocus,"scale"),onBlur:o.partial(this.props.onBlur,"scale"),keypadElement:this.props.keypadElement})
return i.createElement("div",null,$_({point:r,scale:n},"Dilation about %(point)s by %(scale)s"))},value:function Tr(){var e=this.refs.scale.getValue()
var t=this.refs.x.getValue()
var r=this.refs.y.getValue()
return{scale:e,center:[t,r]}},setInputValue:function xr(e,t,r){var n=this
var i=o.first(e)
var a=this.state.scale
var s=o.clone(this.state.center)
"x"===i?s[0]=t:"y"===i?s[1]=t:"scale"===i&&(a=t)
this.setState({scale:a,center:s},function(){n.props.onChange(r)})},getInputPaths:function Pr(){return[["x"],["y"],["scale"]]}})}}
var J={getPointCountForType:function Er(e){var t=e.split("-")
if("polygon"===t[0])return t[1]||3
if("line"===t[0]||"lineSegment"===t[0])return 2
if("angle"===t[0])return 3
if("circle"===t[0])return 2
if("point"===t[0])return 1},addMovableShape:function wr(e,t){if(t.editable&&t.translatable)throw new Error("It doesn't make sense to have a movable shape where you can stretch the points and translate them simultaneously. options: "+JSON.stringify(t))
var r
var n=o.map(t.shape.coords,function(i){var a
var s=false
var l=i
var p=function c(e,i){if(!s){l=a.coord
s=true}var p=M.subtract([e,i],a.coord)
t.onMove&&(p=t.onMove(p[0],p[1]))
t.translatable&&o.each(n,function(e){e!==a&&e.setCoord(M.add(e.coord,p))})
var u=a.coord
var c=M.add(a.coord,p)
a.coord=c
r.update()
a.coord=u
return c}
var u=function h(){if(t.onMoveEnd&&s){s=false
var e=M.subtract(a.coord,l)
t.onMoveEnd(e[0],e[1])}r.update()}
a=e.addMovablePoint({coord:i,normalStyle:t.normalPointStyle,highlightStyle:t.highlightPointStyle,constraints:{fixed:!t.translatable&&!t.editable},visible:t.showPoints,snapX:t.snap&&t.snap[0]||0,snapY:t.snap&&t.snap[1]||0,bounded:false,onMove:p,onMoveEnd:u})
a.bounded=true
return a})
r=J.addShape(e,t,n)
var i=r.remove
r.remove=function(){i.apply(r)
o.invoke(n,"remove")}
return r},addShape:function kr(e,t,r){r=r||t.shape.coords
var n=J._typesOf(t.shape)
var i=t.shape.options||J.defaultOptions(n)
var a=J._mapTypes(n,r,function(r,n,a){var s=o.extend({},t,i[a])
return J._addType(e,r,n,s)})
var s=o.filter(o.pluck(a,"update"),o.identity)
var l=function d(){o.invoke(s,"call")}
var p=o.filter(o.pluck(a,"remove"),o.identity)
var u=function f(){o.invoke(p,"call")}
var c=function v(){return o.map(a,function(e){return e.getOptions?e.getOptions():{}})}
var h=function m(){var e=o.map(r,function(e){return o.isArray(e)?e:e.coord})
return{type:n,coords:e,options:c()}}
return{type:n,points:r,update:l,remove:u,toJSON:h,getOptions:c}},equal:function Sr(e,t){var r=J._typesOf(e)
var n=J._typesOf(t)
if(r.length!==n.length)return false
var i=J._mapTypes(r,e.coords,J._combine)
var a=J._mapTypes(n,t.coords,J._combine)
return o.all(o.map(i,function(e,t){var r=a[t]
if(e.type!==r.type)return false
return J._forType(e.type).equal(e.coords,r.coords)}))},_typesOf:function Cr(e){var t=e.type
o.isArray(t)||(t=[t])
return o.map(t,function(e){return"polygon"===e?"polygon-3":e})},defaultOptions:function Mr(e){return o.map(e,function(e){var t=J._forType(e).defaultOptions
return o.extend({},t)})},_forType:function _r(e){var t=e.split("-")[0]
return J[t]},_mapTypes:function Nr(e,t,r,n){return o.map(e,function(e,i){var a=J.getPointCountForType(e)
var s=o.first(t,a)
t=o.rest(t,a)
return r.call(n,e,s,i)})},_addType:function Ir(e,t,r,n){var i=o.isArray(r[0])?{coordA:r[0],coordZ:r[1]}:{pointA:r[0],pointZ:r[1]}
t=t.split("-")[0]
if("polygon"===t){var a=e.addMovablePolygon(o.extend({},n,{fixed:!n.editable,snapX:n.snap&&n.snap[0]||0,snapY:n.snap&&n.snap[1]||0,points:r,constrainToGraph:false}))
return{update:a.transform.bind(a),remove:a.remove.bind(a)}}if("line"===t||"lineSegment"===t){var s=e.addMovableLineSegment(o.extend({},n,i,{movePointsWithLine:true,fixed:true,constraints:{fixed:true},extendLine:"line"===t}))
return{update:s.transform.bind(s,true),remove:s.remove.bind(s)}}if("angle"===t){var l=n.editable?null:false
var p=e.addMovableAngle({angleLabel:"$deg0",fixed:true,points:r,normalStyle:n.normalStyle,reflex:n.reflex})
if(!o.isArray(r[0])&&!n.editable){r[0].remove()
r[2].remove()}return{update:p.update.bind(p,l),remove:p.remove.bind(p),getOptions:function h(){return{reflex:p.isReflex()}}}}if("circle"===t){var u={remove:o.identity}
var c=function d(){var t=r[0].coord||r[0]
var i=r[1].coord||r[1]
var a=_.distanceToPoint(t,i)
u.remove()
u=e.circle(t,a,o.extend({stroke:O.DYNAMIC,"stroke-width":2},n.normalStyle))}
c()
r[1].remove&&!n.editable&&r[1].remove()
return{update:c,remove:function f(){u.remove()}}}if("point"===t)return{update:null,remove:null}
throw new Error("Invalid shape type "+t)},_combine:function Rr(e,t){return{type:e,coords:t}},polygon:{equal:K},line:{equal:I.equal},lineSegment:{equal:K},angle:{equal:function Or(e,t){if(!_.equal(e[1],t[1]))return false
var r=[e[1],e[0]]
var n=[e[1],e[2]]
var i=[t[1],t[0]]
var a=[t[1],t[2]]
var o=N.equal(r,i)&&N.equal(n,a)
var s=N.equal(r,a)&&N.equal(n,i)
return o||s},defaultOptions:{reflex:false}},circle:{equal:function Ar(e,t){var r=_.distanceToPoint(e[0],e[1])
var n=_.distanceToPoint(t[0],t[1])
return _.equal(e[0],t[0])&&C.equal(r,n)}},point:{equal:_.equal}}
var et=Q.ListItem
var tt=i.createClass({displayName:"TransformationList",render:function Dr(){if("static"===this.props.mode)return i.createElement("span",null)
var e=o.map(this.props.transformations,function(e,t){return i.createElement(et,{ref:"transformation"+t,key:"transformation"+t,transform:e,mode:this.props.mode,onChange:this.handleChange,onFocus:o.partial(this.props.onFocus,""+t),onBlur:o.partial(this.props.onBlur,""+t),keypadElement:this.props.keypadElement,apiOptions:this.props.apiOptions})},this)
return i.createElement("div",{className:"perseus-transformation-list"},e)},_transformationRefs:function Lr(){var e=this
return o.times(this.props.transformations.length,function(t){return e.refs["transformation"+t]})},value:function Fr(){return o.invoke(this._transformationRefs(),"value")},handleChange:function qr(e,t){this.props.onChange(this.value(),t)},focusLast:function Br(){var e=this._transformationRefs()
0!==e.length&&o.last(e).focus()}})
var rt=i.createClass({displayName:"ToolButton",render:function zr(){var e=this.props.toggled?"simple-button exercise-orange toggled highlighted-tool-button":"simple-button"
return i.createElement("button",{type:"button",className:e,disabled:this.props.disabled,onClick:this.props.onClick,onTouchStart:S},this.props.children)}})
var nt=i.createClass({displayName:"ToolsBar",getInitialState:function Ur(){return{selected:null}},render:function Hr(){var e=o.map(Z,function(e,t){if(this.props.enabled[t])return i.createElement(rt,{key:t,disabled:this.props.apiOptions.readOnly,toggled:this.state.selected===t,onClick:this.changeSelected.bind(this,t)},e.verbName)},this)
return i.createElement("div",{className:"transformer-tools-bar"},i.createElement("span",{className:"simple-button-group"},e),i.createElement("button",{className:"transformer-undo-button simple-button",type:"button",disabled:this.props.apiOptions.readOnly,onClick:this.props.onUndoClick,onTouchStart:S},i.createElement(l,E)," ","Undo"),i.createElement("div",{className:"clear"}))},changeSelected:function Wr(e){this.props.removeTool(this.state.selected)
if(e&&e!==this.state.selected){this.props.addTool(e)
this.setState({selected:e})}else this.setState({selected:null})}})
var it=i.createClass({displayName:"AddTransformBar",render:function Vr(){var e=o.map(Z,function(e,t){if(this.props.enabled[t])return i.createElement(rt,{key:t,toggled:false,disabled:this.props.apiOptions.readOnly,onClick:this.changeSelected.bind(this,t)},i.createElement(l,P)," ",e.nounName)},this)
return i.createElement("div",{className:"transformer-tools-bar"},e,i.createElement("button",{className:"transformer-undo-button simple-button",type:"button",onClick:this.props.onUndoClick,disabled:this.props.apiOptions.readOnly,onTouchStart:S},i.createElement(l,E)," ","Undo"),i.createElement("div",{className:"clear"}))},changeSelected:function Gr(e){e&&this.props.addTool(e)}})
var at=i.createClass({displayName:"Transformer",propTypes:{apiOptions:d.propTypes,keypadElement:f,trackInteraction:i.PropTypes.func.isRequired},getDefaultProps:function jr(){return o.defaults({transformations:[]},B)},render:function $r(){var e=o.extend(q(this.props.graph,D),this.props.graph)
var t="interactive"===this.props.graphMode
var r=t?nt:it
var n=i.createElement("div",{style:{width:e.box[0]}},i.createElement(r,{ref:"toolsBar",enabled:F(this.props.tools,"enabled"),apiOptions:this.props.apiOptions,addTool:this.addTool,removeTool:this.removeTool,onUndoClick:this.handleUndoClick}))
return i.createElement("div",{className:"perseus-widget perseus-widget-transformer"},i.createElement(s,{ref:"graph",box:e.box,range:e.range,labels:e.labels,step:e.step,gridStep:e.gridStep,markings:e.markings,backgroundImage:e.backgroundImage,showProtractor:e.showProtractor,onGraphieUpdated:this.setupGraphie,setDrawingAreaAvailable:this.props.apiOptions.setDrawingAreaAvailable}),!t&&"Add transformations below:","static"===this.props.graphMode&&[i.createElement("br",{key:"static-br"}),i.createElement("em",{key:"static-nomove"}," ","Note: For this question, the shape will not move."," ")],t&&n,i.createElement(tt,{ref:"transformationList",mode:this.props.listMode,transformations:this.props.transformations,onChange:this.setTransformationProps,onFocus:this._handleFocus,onBlur:this._handleBlur,keypadElement:this.props.keypadElement,apiOptions:this.props.apiOptions}),!t&&n)},componentDidMount:function Yr(){this.setupGraphie(this.graphie())},componentDidUpdate:function Kr(e){this.shouldSetupGraphie(this.props,e)?this.refs.graph.reset():w(this.props.transformations,this.transformations)||this.setTransformations(this.props.transformations)},shouldSetupGraphie:function Xr(e,t){return w(t.starting,e.starting)?t.graphMode!==e.graphMode?true:t.listMode!==e.listMode?true:t.drawSolutionShape!==e.drawSolutionShape?true:e.drawSolutionShape&&!w(t.correct.shape,e.correct.shape)?true:!w(this.tools,e.tools):true},graphie:function Qr(){return this.refs.graph.graphie()},setupGraphie:function Zr(e){this.props.drawSolutionShape&&this.props.correct.shape&&this.props.correct.shape.coords&&J.addShape(e,{fixed:true,shape:this.props.correct.shape,normalStyle:{stroke:O.GRAY,"stroke-dasharray":"","stroke-width":2}})
this.currentTool=null
this.refs.toolsBar.changeSelected(null)
this.addTransformerShape(this.props.starting.shape,false)
this.setTransformations(this.props.transformations)
this.tools={translation:o.clone(this.props.tools.translation),rotation:o.clone(this.props.tools.rotation),reflection:o.clone(this.props.tools.reflection),dilation:o.clone(this.props.tools.dilation)}},setTransformations:function Jr(e){this.resetCoords()
this.transformations=o.clone(e)
o.each(this.transformations,this.applyTransform)},addTransformerShape:function en(e,t){var r=this
var n=this.graphie()
this.shape=J.addMovableShape(n,{shape:e,editable:false,showPoints:"static"!==this.props.graphMode,translatable:t,onMove:function i(e,t){e=R.roundToNearest(n.snap[0],e)
t=R.roundToNearest(n.snap[1],t)
r.addTransform({type:"translation",vector:[e,t]})
return[e,t]},normalPointStyle:{fill:t?O.INTERACTIVE:O.DYNAMIC,stroke:t?O.INTERACTIVE:O.DYNAMIC},highlightPointStyle:{fill:O.INTERACTING,stroke:O.INTERACTING}})},addTool:function tn(e){var t=this
if("interactive"===this.props.graphMode)if("translation"===e)this.currentTool=this.addTranslationTool()
else if("rotation"===e)this.currentTool=this.addRotationTool()
else if("reflection"===e)this.currentTool=this.addReflectionTool()
else{if("dilation"!==e)throw new Error("Invalid tool id: "+e)
this.currentTool=this.addDilationTool()}else{var r
if("translation"===e)r={type:e,vector:[null,null]}
else if("rotation"===e)r={type:e,center:[null,null],angleDeg:null}
else if("reflection"===e)r={type:e,line:[[null,null],[null,null]]}
else{if("dilation"!==e)throw new Error("Invalid tool id: "+e)
r={type:e,center:[null,null],scale:null}}this.doTransform(r,function(){t.refs.transformationList.focusLast()})}},removeTool:function rn(e){this.currentTool&&this.currentTool.remove()
this.currentTool=null},addTranslationTool:function nn(){var e=this
this.shape.remove()
this.addTransformerShape(this.shape.toJSON(),true)
return{remove:function t(){e.shape.remove()
e.addTransformerShape(e.shape.toJSON(),false)}}},snapCoord:function an(e){var t=this.graphie()
return o.map(e,function(e,r){return R.roundToNearest(t.snap[r],e)})},normalizeReflectionCoords:function on(e){var t=this.snapCoord(I.midpoint(e))
var r=M.polarDegFromCart(M.subtract(e[0],e[1]))
var n=[1,R.roundToNearest(45,r[1])]
var i=M.cartFromPolarDeg(n)
var a=o.map([-1,1],function(e){var r=M.add(t,M.scale(i,e*this.scaleToCurrentRange(b)))
return this.snapCoord(r)},this)
return a},addReflectionTool:function sn(){var e=this.props.tools.reflection
if(!e.enabled)return
var t=this
var r=this.refs.graph.graphie()
var n=function h(){t.changeTool("reflection",{coords:o.pluck(a,"coord")})}
var i=this.normalizeReflectionCoords(e.coords)
var a=o.map(i,function(e){return r.addMovablePoint({coord:e,visible:false})},this)
var s
var l=z(e)
r.style({},function(){s=r.addMovableLineSegment({fixed:e.constraints.fixed,constraints:e.constraints,pointA:a[0],pointZ:a[1],snapX:r.snap[0],snapY:r.snap[1],extendLine:true,normalStyle:{stroke:l,"stroke-width":2,"stroke-dasharray":"- "},highlightStyle:{stroke:O.INTERACTING,"stroke-width":2,"stroke-dasharray":"- "},movePointsWithLine:true,onMoveEnd:n})})
var p=r.addReflectButton({fixed:e.constraints.fixed,line:s,size:this.scaleToCurrentRange(T),onClick:function d(){t.doTransform({type:"reflection",line:o.pluck(a,"coord")})
if(u){u.setCoord(M.add(p.coord,M.subtract(p.coord,u.coord)))
u.update()}},normalStyle:{stroke:l,"stroke-width":2,fill:l},highlightStyle:{stroke:O.INTERACTING,"stroke-width":3,fill:O.INTERACTING},onMoveEnd:n})
var u=null
if(!e.constraints.fixed){var c=M.polarDegFromCart(M.subtract(a[1].coord,a[0].coord))[1]+90
u=r.addRotateHandle({center:p,radius:this.scaleToCurrentRange(b),angleDeg:c,width:this.scaleToCurrentRange(.24),hoverWidth:this.scaleToCurrentRange(.4),lengthAngle:17,onMove:function f(e){return R.roundToNearest(45,e)},onMoveEnd:n})}$(s).on("move",function(){p.update()
$(p).trigger("move")})
u&&$(u).on("move",function(){var e=t.snapCoord(u.coord)
var r=M.subtract(e,p.coord)
var n=p.isFlipped()?1:0
a[n].setCoord(M.add(p.coord,M.rotateDeg(r,90)))
a[1-n].setCoord(M.add(p.coord,M.rotateDeg(r,-90)))
s.transform(true)
p.update()})
return{remove:function v(){p.remove()
u&&u.remove()
s.remove()
a[0].remove()
a[1].remove()}}},scaleToCurrentRange:function ln(e){return U(e,this.refs.graph.props.range)},addRotationTool:function pn(){var e=this.props.tools.rotation
if(!e.enabled)return
var t=this
var r=this.refs.graph.graphie()
var n=z(e)
this.rotatePoint=r.addMovablePoint({constraints:e.constraints,coord:e.coord,snapX:r.snap[0],snapY:r.snap[1],normalStyle:{"stroke-dasharray":"",stroke:n,fill:n},highlightStyle:{"stroke-dasharray":"",stroke:O.INTERACTING,fill:O.INTERACTING}})
this.rotateHandle=r.addRotateHandle({center:this.rotatePoint,radius:this.scaleToCurrentRange(y),width:this.scaleToCurrentRange(.24),hoverWidth:this.scaleToCurrentRange(.4),onMove:function i(e,r){var n=t.getRotationTransformFromAngle(t.rotatePoint.coord,e-r)
t.doTransform(n)
return r+n.angleDeg}})
this.rotatePoint.onMoveEnd=function(e,r){t.changeTool("rotation",{coord:[e,r]})}
return{remove:function a(){t.rotateHandle.remove()
t.rotatePoint.remove()}}},addDilationTool:function un(){var e=this.props.tools.dilation
if(!e.enabled)return
var t=this
var r=this.refs.graph.graphie()
var n=z(e)
t.dilationCircle=r.addCircleGraph({centerConstraints:e.constraints,center:e.coord,radius:t.scaleToCurrentRange(2),snapX:r.snap[0],snapY:r.snap[1],minRadius:t.scaleToCurrentRange(1),snapRadius:t.scaleToCurrentRange(.5),onResize:function a(e,r){t.doTransform({type:"dilation",center:t.dilationCircle.centerPoint.coord,scale:e/r})},circleNormalStyle:{stroke:n,"stroke-width":2,"stroke-dasharray":"- ","fill-opacity":0},circleHighlightStyle:{stroke:O.INTERACTING,"stroke-width":2,"stroke-dasharray":"",fill:O.INTERACTING,"fill-opacity":.05},centerNormalStyle:{stroke:n,fill:n,"stroke-width":2,"stroke-dasharray":""},centerHighlightStyle:{stroke:n,fill:n,"stroke-width":2,"stroke-dasharray":""}})
var i=this.dilationCircle.centerPoint.onMoveEnd
this.dilationCircle.centerPoint.onMoveEnd=function(){i&&i.apply(this,o.toArray(arguments))
t.changeTool("dilation",{coord:t.dilationCircle.centerPoint.coord})}
return{remove:function s(){t.dilationCircle.remove()}}},getRotationTransformFromAngle:function cn(e,t){t=(t+360)%360
t>180&&(t-=360)
var r=Math.round(t/v)*v
return{type:"rotation",center:e,angleDeg:r}},doTransform:function hn(e,t){this.applyTransform(e)
this.addTransform(e,t)},applyTransform:function dn(e){if("static"!==this.props.graphMode){var t=Q.apply(e)
this.applyCoordTransformation(t)}},applyCoordTransformation:function fn(e){o.each(this.shape.points,function(t){var r=e(t.coord)
t.setCoord(r)})
this.shape.update()},resetCoords:function vn(){var e=this.props.starting.shape.coords
o.each(this.shape.points,function(t,r){t.setCoord(e[r])})
this.shape.update()},handleUndoClick:function mn(){this.refs.toolsBar.changeSelected(null)
this.props.transformations.length&&this.props.onChange({transformations:o.initial(this.props.transformations)})},setTransformationProps:function gn(e,t){this.props.onChange({transformations:e},t)},addTransform:function yn(e,t){this.transformations=Q.append(this.transformations,e)
this.props.onChange({transformations:o.clone(this.transformations)},t)},changeTool:function bn(e,t){var r=o.clone(this.props.tools)
r[e]=o.extend({},this.props.tools[e],t)
this.tools[e]=o.clone(r[e])
this.props.onChange({tools:r})
this.props.trackInteraction()},simpleValidate:function Tn(e){return at.validate(this.getUserInput(),e)},getCoords:function xn(){var e=this.props.starting.shape.coords
var t=this.props.transformations
return o.reduce(t,function(e,t){return o.map(e,Q.apply(t))},e)},getEditorJSON:function Pn(){var e=o.pick(this.props,"grading","starting","graphMode","listMode","tools","drawSolutionShape","gradeEmpty")
e.graph=this.refs.graph.toJSON()
e.version=1.2
e.answer=this.getUserInput()
return e},getUserInput:function En(){return{transformations:this.props.transformations,shape:{type:this.shape.type,coords:this.getCoords(),options:this.shape.getOptions()}}},_handleFocus:function wn(){var e=Array.prototype.slice.call(arguments)
this.props.onFocus(e)},_handleBlur:function kn(){var e=Array.prototype.slice.call(arguments)
this.props.onBlur(e)},_getTransformationForID:function Sn(e){var t=["transformationList","transformation"+e]
var r=this
o.each(t,function(e){r=r.refs[e]})
return r},getInputPaths:function Cn(){var e=this
if("static"===this.props.listMode)return[]
var t=[]
o.each(this.props.transformations,function(r,n){var r=e._getTransformationForID(n)
var i=r.getInputPaths()
var a=o.map(i,function(e){return[""+n].concat(e)})
t=t.concat(a)})
return t},_passToInner:function Mn(e,t){if(!t||!t.length)return
var r=o.rest(t)
var n=[r].concat(o.rest(arguments,2))
var i=o.head(t)
var a=this._getTransformationForID(i)
return a[e].apply(a,n)},focus:function _n(){var e=this.getInputPaths()
if(e.length>0){this.focusInputPath(e[0])
return true}return false},focusInputPath:function Nn(e){if(0===e.length)return false
A(e.length>=2)
return this._passToInner("focusInputPath",e)},blurInputPath:function In(e){if(0===e.length)return false
A(e.length>=2)
return this._passToInner("blurInputPath",e)},setInputValue:function Rn(e,t,r){A(e.length>=2)
return this._passToInner("setInputValue",e,t,r)},getDOMNodeForPath:function On(e){A(e.length>=2)
return this._passToInner("getDOMNodeForPath",e)},getGrammarTypeForPath:function An(e){A(e.length>=2)
return this._passToInner("getGrammarTypeForPath",e)}})
o.extend(at,{validate:function Dn(e,t){for(var r in Z)if(t.tools[r].required){var n=o.any(o.map(e.transformations,function(e){return e.type===r&&!Q.isEmpty(e)&&!Q.isNoOp(e)}))
if(!n)return{type:"invalid",message:i18n._("Your transformation must use a %(type)s.",{type:Z[r].lowerNounName})}}return J.equal(e.shape,t.correct.shape)?{type:"points",earned:1,total:1,message:null}:!t.gradeEmpty&&w(e.shape.coords,t.starting.shape.coords)?{type:"invalid",message:i18n._("Use the interactive graph to define a correct transformation.")}:{type:"points",earned:0,total:1,message:null}}})
e.exports={name:"transformer",displayName:"Transformer",widget:at}},function(e,t,r){"use strict"
var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]
for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}
var i=r(41)
var a=r(12)
var o=r(13)
var s=r(11)
var l=r(19).ClassNames
var p=r(19).Options
var u=r(83)
var c=r(110)
var h=r(113),d=h.SignificantFigures,f=h.displaySigFigs
var v="all"
var m="some"
var g=10
var y=function P(e){return new d(e).sigFigs}
var b=function E(e,t){return f(e,t,-g,false)}
var T=a.createClass({displayName:"OldUnitInput",propTypes:n({},u.propTypes,{value:a.PropTypes.string}),getDefaultProps:function w(){return{apiOptions:p.defaults,value:""}},render:function k(){var e=this.props.apiOptions.staticRender?a.createFactory(c):a.DOM.input
var t=e({onChange:this.handleChange,ref:"input",className:l.INTERACTIVE,value:this.props.value,onFocus:this.handleFocus,onBlur:this.handleBlur})
return a.createElement("div",{className:"old-unit-input"},t,a.createElement("div",{ref:"error",className:"error",style:{display:"none"}},i18n._("I don't understand that")))},_errorTimeout:null,_showError:function S(){if(""===this.props.value)return
var e=$(o.findDOMNode(this.refs.error))
e.is(":visible")||e.css({top:50,opacity:.1}).show().animate({top:0,opacity:1},300)},_hideError:function C(){var e=$(o.findDOMNode(this.refs.error))
e.is(":visible")&&e.animate({top:50,opacity:.1},300,function(){$(this).hide()})},change:function M(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r]
return u.change.apply(this,t)},componentDidUpdate:function _(){clearTimeout(this._errorTimeout)
KAS.unitParse(this.props.value).parsed?this._hideError():this._errorTimeout=setTimeout(this._showError,2e3)},componentWillUnmount:function N(){clearTimeout(this._errorTimeout)},handleBlur:function I(){this.props.onBlur([])
clearTimeout(this._errorTimeout)
KAS.unitParse(this.props.value).parsed||this._showError()},handleChange:function R(e){this._hideError()
this.props.onChange({value:e.target.value})},simpleValidate:function O(e,t){t=t||function(){}
return T.validate(this.getUserInput(),e)},getUserInput:function A(){return this.props.value},getInputPaths:function D(){return[[]]},focusInputPath:function L(e){o.findDOMNode(this.refs.input).focus()},handleFocus:function F(){this.props.onFocus([])},blurInputPath:function q(e){o.findDOMNode(this.refs.input).blur()},setInputValue:function B(e,t,r){this.props.onChange({value:t},r)},getDOMNodeForPath:function z(){return o.findDOMNode(this.refs.input)},getGrammarTypeForPath:function U(e){return"unit"}})
var x=function H(e){return e.simplify().asMul().partition()[1].flatten().simplify()}
s.extend(T,{validate:function W(e,t){var r=KAS.unitParse(t.value).expr
var n=KAS.unitParse(e)
if(!n.parsed)return{type:"invalid",message:i18n._("I couldn't understand those units.")}
var i=null
var a=t.sigfigs
var o=y(n.coefficient)===a
o||(i=i18n._("Check your significant figures."))
var l
try{var p=new KAS.Var("x")
var u=new KAS.Eq(r.simplify(),"=",new KAS.Mul(p,n.expr.simplify()))
var c=u.solveLinearEquationForVariable(p)
l=Number(c.eval()).toPrecision(a)===Number(1).toPrecision(a)}catch(h){l=false}l||(i=i18n._("That answer is numerically incorrect."))
var d
var f=x(n.expr.simplify())
var m=x(r.simplify())
d=t.accepting===v?KAS.compare(f,m).equal:s(t.acceptingUnits).any(function(e){var t=x(KAS.unitParse(e).unit.simplify())
return KAS.compare(t,f).equal})
if(!d)var i=i18n._("Check your units.")
var g=d&&l&&o
return{type:"points",earned:g?1:0,total:1,message:i}}})
e.exports={name:"unit-input",displayName:"Unit",defaultAlignment:"inline-block",widget:T,transform:function V(e){return i(e).del(["value"]).freeze()},version:{major:0,minor:1},countSigfigs:y,sigfigPrint:b,hidden:true}},function(e,t,r){"use strict"
var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]
for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}
var i=r(12)
var a=r(11)
var o=r(83)
var s=r(88)
var l=1280
var p=720
var u="https://{hostname}/embed_video?slug={slug}&internal_video_only=1"
var c=/^https?:\/\//
var h=/khanacademy\.org/
var d=i.createClass({displayName:"Video",propTypes:n({},o.propTypes,{alignment:i.PropTypes.string,location:i.PropTypes.string}),getUserInput:function f(){return null},simpleValidate:function v(e){return d.validate(null,e)},change:function m(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r]
return o.change.apply(this,t)},render:function g(){var e=this.props.location
if(!e)return i.createElement("div",null)
var t
if(c.test(e))t=e
else{t=u.replace("{slug}",e)
var r=document.location.hostname
var n="www.khanacademy.org"
h.test(r)&&(n=r)
t=t.replace("{hostname}",n)}return i.createElement(s,{width:l,height:p,key:e+this.props.alignment},i.createElement("iframe",{className:"perseus-video-widget",sandbox:"allow-same-origin allow-scripts",width:l,height:p,src:t,allowFullScreen:true}))}})
a.extend(d,{validate:function y(e,t){return{type:"points",earned:0,total:0,message:null}}})
e.exports={name:"video",displayName:"Video",defaultAlignment:"block",supportedAlignments:["block","float-left","float-right","full-width"],widget:d}},function(e,t,r){"use strict"
var n=r(12)
var i=r(114)
var a=[]
var o=n.createClass({displayName:"StubTagEditor",propTypes:{value:n.PropTypes.arrayOf(n.PropTypes.string),onChange:n.PropTypes.func.isRequired},getDefaultProps:function s(){return{value:a}},render:function l(){return n.createElement("div",null,n.createElement("div",{style:{fontSize:14}},"Tags:"),n.createElement(i,{options:this.props.value||a,layout:"vertical",onChange:this.props.onChange}))}})
e.exports=o},function(e,t,r){"use strict"
var n=r(38),i=n.interactiveSizes
var a=r(12)
var o=512
var s=688
var l={SMALL:"small",MEDIUM:"medium",LARGE:"large",XLARGE:"xlarge"}
e.exports={containerSizeClass:l,containerSizeClassPropType:a.PropTypes.oneOf(Object.values(l)),getClassFromWidth:function p(e){if(!e)return l.MEDIUM
return e<=o?l.SMALL:e<=s?l.MEDIUM:l.LARGE},getInteractiveBoxFromSizeClass:function u(e){return e===l.SMALL?[i.defaultBoxSizeSmall,i.defaultBoxSizeSmall]:[i.defaultBoxSize,i.defaultBoxSize]}}},function(e,t,r){"use strict"
var n={Keypad:r(125),KeypadInput:r(127)}
var i=r(116),a=i.KeypadTypes
var o={KeypadTypes:a}
var s=r(126),l=s.keypadConfigurationPropType,p=s.keypadElementPropType
var u={keypadConfigurationPropType:l,keypadElementPropType:p}
e.exports={components:n,consts:o,propTypes:u}},function(e,t,r){"use strict"
var n=r(12)
var i=r(82)
var a=r(11)
var o=r(19).ClassNames
var s=r(85)
var l=r(9)
var p=r(109)
var u=r(110)
var c=r(18).captureScratchpadTouchStart
var h="math"
var d="text"
var f="tex"
var v=n.createClass({displayName:"InputWithExamples",propTypes:{type:n.PropTypes.oneOf([h,d,f]),value:n.PropTypes.string,onChange:n.PropTypes.func.isRequired,className:n.PropTypes.string,examples:n.PropTypes.arrayOf(n.PropTypes.string).isRequired,shouldShowExamples:n.PropTypes.bool,convertDotToTimes:n.PropTypes.bool,buttonSet:n.PropTypes.string,buttonsVisible:n.PropTypes.oneOf(["always","never","focused"]),labelText:n.PropTypes.string,onFocus:n.PropTypes.func,onBlur:n.PropTypes.func,disabled:n.PropTypes.bool,id:n.PropTypes.string.isRequired},getDefaultProps:function m(){return{type:d,shouldShowExamples:true,onFocus:function e(){},onBlur:function t(){},disabled:false}},getInitialState:function g(){return{focused:false,showExamples:false}},_getUniqueId:function y(){return"input-with-examples-"+btoa(this.props.id).replace(/=/g,"")},_getInputClassName:function b(){if(this.props.type===f)return this.props.className
var e=o.INPUT+" "+o.INTERACTIVE
this.state.focused&&(e+=" "+o.FOCUSED)
this.props.className&&(e+=" "+this.props.className)
return e},_getPropsForInputType:function T(){var e={"aria-describedby":this._getUniqueId(),ref:"input",className:this._getInputClassName(),labelText:this.props.labelText,value:this.props.value,onFocus:this._handleFocus,onBlur:this._handleBlur,disabled:this.props.disabled}
if(this.props.type===f)return e
a.extend(e,{buttonSet:this.props.buttonSet,buttonsVisible:this.props.buttonsVisible,onChange:this.props.onChange,onTouchStart:c})
if(this.props.type===h)return a.extend({convertDotToTimes:this.props.convertDotToTimes},e)
if(this.props.type===d)return a.extend({autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",spellCheck:"false"},e)},_getComponentForInputType:function x(){switch(this.props.type){case f:return u
case h:return s
case d:return p
default:return null}},_renderInput:function P(){var e=this._getPropsForInputType()
var t=this._getComponentForInputType()
return n.createElement(t,e)},render:function E(){var e=this._renderInput()
if(this.props.type===f)return e
var t=a.map(this.props.examples,function(e){return"- "+e}).join("\n")
var r=this.props.shouldShowExamples&&this.state.showExamples
return n.createElement(i,{ref:"tooltip",className:"perseus-formats-tooltip preview-measure",horizontalPosition:"left",horizontalAlign:"left",verticalPosition:"bottom",arrowSize:10,borderColor:"#ccc",show:r},e,n.createElement("div",{id:this._getUniqueId()},n.createElement(l,{content:t})))},_handleFocus:function w(){this.props.onFocus()
this.setState({focused:true,showExamples:true})},show:function k(){this.setState({showExamples:true})},hide:function S(){this.setState({showExamples:false})},_handleBlur:function C(){this.props.onBlur()
this.setState({focused:false,showExamples:false})},focus:function M(){this.refs.input.focus()},blur:function _(){this.refs.input.blur()},handleChange:function N(e){this.props.onChange(e.target.value)}})
e.exports=v},function(e,t,r){"use strict"
var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]
for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}
function i(e,t){var r={}
for(var n in e){if(t.indexOf(n)>=0)continue
if(!Object.prototype.hasOwnProperty.call(e,n))continue
r[n]=e[n]}return r}var a=r(12)
var o=r(76).components.KeypadInput
var s=r(76).consts.KeypadTypes
var l=r(76).propTypes.keypadElementPropType
var p=a.createClass({displayName:"SimpleKeypadInput",propTypes:{keypadElement:l,onFocus:a.PropTypes.func,value:a.PropTypes.oneOfType([a.PropTypes.string,a.PropTypes.number])},focus:function u(){this.refs.input.focus()},blur:function c(){this.refs.input.blur()},getValue:function h(){return this.props.value},render:function d(){var e=this
var t=this.props,r=t.keypadElement,l=t.onFocus,p=t.value,u=i(t,["keypadElement","onFocus","value"])
return a.createElement(o,n({ref:"input",keypadElement:r,onFocus:function c(){r?r.configure({keypadType:s.FRACTION},function(){e.isMounted()&&l&&l()}):l&&l()},value:null==p?"":""+p},u))}})
e.exports=p},function(e,t,r){"use strict"
function n(e,t){var r=0
for(var n=t,i=e.length;n<i;n++){var a=e[n]
"{"===a?r++:"}"===a&&r--
if(r<0)return n}return e.length}function i(e,t,r){var i=e.indexOf("{",t)
var a=i+1
var s=n(e,a)
var l=e.substring(a,s)
var p=o(l,r)
return{endpoint:s,expression:p}}function a(e,t){var r="\\dfrac"
var n="\\frac"
var i=e.indexOf(n,t)
var a=e.indexOf(r,t)
return i>-1&&a>-1?Math.min(i,a):i>-1?i:a>-1?a:-1}function o(e,t){var r=""
var n=0
var o=a(e,n)
while(o>-1){r+=e.substring(n,o)
n=o
var s=i(e,n,t)
n=s.endpoint+1
var l=i(e,n,t)
n=l.endpoint+1
r.length&&(r+=" ")
r+=t(s.expression,l.expression)
o=a(e,n)}r+=e.slice(n)
return r}function s(e){function t(e){return e.indexOf("\\frac")>-1||e.indexOf("\\dfrac")>-1}var r=function n(e,r){var n
n=t(e)||t(r)?"\\dfrac":"\\frac"
return n+" {"+e+"}{"+r+"}"}
return o(e,r)}function l(e){var t=function r(e,t){return e+"/"+t}
return o(e,t)}e.exports={parseTex:l,modifyTex:s}},function(e,t,r){"use strict"
var n=r(12)
var i=r(11)
var a=n.createClass({displayName:"PossibleAnswers",propTypes:{answers:n.PropTypes.arrayOf(n.PropTypes.string)},render:function o(){var e=i.uniq(this.props.answers)
var t=i.map(e,function(e){return n.createElement("dd",{key:e},e)})
return n.createElement("dl",{className:"perseus-possible-answers"},n.createElement("dt",null,"Correct Answer"),t)}})
e.exports=a},function(e,t,r){"use strict"
var n=r(11)
var i=r(129).number
var a={cleanMath:function o(e){return"string"===typeof e?e.replace(/\+\s*-/g,"- ").replace(/-\s*-/g,"+ ").replace(/\^1/g,""):e},bound:function s(e){return 0===e?e:e<0?-a.bound(-e):Math.max(1e-6,Math.min(e,1e20))},factorial:function l(e){return e<=1?e:e*a.factorial(e-1)},getGCD:function p(e,t){if(arguments.length>2){var r=[].slice.call(arguments,1)
return a.getGCD(e,a.getGCD.apply(a,r))}var n=void 0
e=Math.abs(e)
t=Math.abs(t)
while(t){n=e%t
e=t
t=n}return e},getLCM:function u(e,t){if(arguments.length>2){var r=[].slice.call(arguments,1)
return a.getLCM(e,a.getLCM.apply(a,r))}return Math.abs(e*t)/a.getGCD(e,t)},primes:[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97],isPrime:function c(e){if(e<=1)return false
if(e<101)return!!$.grep(a.primes,function(t,r){return Math.abs(t-e)<=.5}).length
if(e<=1||e>2&&e%2===0)return false
for(var t=3,r=Math.sqrt(e);t<=r;t+=2)if(e%t===0)return false
return true},getPrimeFactorization:function h(e){if(1===e)return[]
if(a.isPrime(e))return[e]
var t=Math.sqrt(e)
for(var r=2;r<=t;r++)if(e%r===0)return $.merge(a.getPrimeFactorization(r),a.getPrimeFactorization(e/r))},roundToNearest:function d(e,t){return Math.round(t/e)*e},roundTo:function f(e,t){var r=Math.pow(10,e).toFixed(5)
return Math.round((t*r).toFixed(5))/r},toFixedApprox:function v(e,t){var r=e.toFixed(t)
return i.equal(+r,e)?r:"\\approx "+r},roundToApprox:function m(e,t){var r=a.roundTo(t,e)
return i.equal(r,e)?String(r):a.toFixedApprox(e,t)},toFraction:function g(e,t){null==t&&(t=Math.pow(2,-46))
if(e<0||e>1){var r=e%1
r+=r<0?1:0
var n=a.toFraction(r,t)
n[0]+=Math.round(e-r)*n[1]
return n}if(Math.abs(Math.round(Number(e))-e)<=t)return[Math.round(e),1]
var i=0
var o=1
var s=1
var l=1
var p=1
var u=2
while(true){if(Math.abs(Number(p/u)-e)<=t)return[p,u]
if(p/u<e){i=p
o=u}else{s=p
l=u}p=i+s
u=o+l}},getNumericFormat:function y(e){e=$.trim(e)
e=e.replace(/\u2212/,"-").replace(/([+-])\s+/g,"$1")
if(e.match(/^[+-]?\d+$/))return"integer"
if(e.match(/^[+-]?\d+\s+\d+\s*\/\s*\d+$/))return"mixed"
var t=e.match(/^[+-]?(\d+)\s*\/\s*(\d+)$/)
return t?parseFloat(t[1])>parseFloat(t[2])?"improper":"proper":e.replace(/[,. ]/g,"").match(/^\d+$/)?"decimal":e.match(/(pi?|\u03c0|t(?:au)?|\u03c4|pau)/)?"pi":null},toNumericString:function b(e,t){if(null==e)return""
if(0===e)return"0"
if("percent"===t)return 100*e+"%"
if("pi"===t){var r=i.toFraction(e/Math.PI)
var a=Math.abs(r[0])
var o=r[1]
if(i.isInteger(a)){var s=e<0?"-":""
var l="π"
return s+(1===a?"":a)+l+(1===o?"":"/"+o)}}if(n(["proper","improper","mixed","fraction"]).contains(t)){var p=i.toFraction(e)
var u=Math.abs(p[0])
var c=p[1]
var h=e<0?"-":""
if(1===c)return h+u
if("mixed"===t){var d=u%c
var f=(u-d)/c
return h+(f?f+" ":"")+d+"/"+c}return h+u+"/"+c}return String(e)}}
e.exports=a},function(e,t,r){"use strict"
var n=r(12)
var i=r(13)
var a=r(11)
var o=10
var s=n.createClass({displayName:"Triangle",propTypes:{color:n.PropTypes.string.isRequired,left:n.PropTypes.number.isRequired,top:n.PropTypes.number.isRequired,width:n.PropTypes.number.isRequired,height:n.PropTypes.number.isRequired,horizontalDirection:n.PropTypes.oneOf(["left","right"]).isRequired,verticalDirection:n.PropTypes.oneOf(["top","bottom"]).isRequired},render:function d(){var e,t,r,i
var a=this.props.width+"px solid transparent"
"right"===this.props.horizontalDirection?e=a:t=a
var o=this.props.height+"px solid "+this.props.color
"top"===this.props.verticalDirection?r=o:i=o
return n.createElement("div",{style:{display:"block",height:0,width:0,position:"absolute",left:this.props.left,top:this.props["top"],borderLeft:e,borderRight:t,borderTop:r,borderBottom:i}})}})
var l=n.createClass({displayName:"TooltipArrow",propTypes:{position:n.PropTypes.string,visibility:n.PropTypes.string,left:n.PropTypes.number,top:n.PropTypes.number,color:n.PropTypes.string.isRequired,border:n.PropTypes.string.isRequired,width:n.PropTypes.number.isRequired,height:n.PropTypes.number.isRequired,horizontalDirection:n.PropTypes.oneOf(["left","right"]).isRequired,verticalDirection:n.PropTypes.oneOf(["top","bottom"]).isRequired},getDefaultProps:function f(){return{position:"relative",visibility:"visible",left:0,top:0}},render:function v(){var e="top"===this.props.verticalDirection
var t=e?0:1
var r=e?0:-1
return n.createElement("div",{style:{display:"block",position:this.props.position,visibility:this.props.visibility,left:this.props.left,top:this.props["top"],width:this.props.width+2,height:this.props.height+1,marginTop:-1,marginBottom:-2,zIndex:o}},n.createElement(s,{horizontalDirection:this.props.horizontalDirection,verticalDirection:this.props.verticalDirection,color:this.props.border,left:0,top:r,width:this.props.width+2,height:this.props.height+2}),n.createElement(s,{horizontalDirection:this.props.horizontalDirection,verticalDirection:this.props.verticalDirection,color:this.props.color,left:1,top:t,width:this.props.width,height:this.props.height}))}})
var p={top:{top:"-100%"},bottom:{top:0}}
var u={left:{targetLeft:0},right:{targetLeft:"100%"}}
var c={left:{tooltipLeft:0,arrowLeft:function m(e){return 0}},right:{tooltipLeft:"-100%",arrowLeft:function g(e){return-e-2}}}
var h=n.createClass({displayName:"Tooltip",propTypes:{show:n.PropTypes.bool.isRequired,className:n.PropTypes.string,arrowSize:n.PropTypes.number,borderColor:n.PropTypes.string,verticalPosition:n.PropTypes.oneOf(a.keys(p)),horizontalPosition:n.PropTypes.oneOf(a.keys(u)),horizontalAlign:n.PropTypes.oneOf(a.keys(c)),children:n.PropTypes.arrayOf(n.PropTypes.element).isRequired,targetContainerStyle:n.PropTypes.any},getDefaultProps:function y(){return{className:"",arrowSize:10,borderColor:"#ccc",verticalPosition:"bottom",horizontalPosition:"left",horizontalAlign:"left",targetContainerStyle:{}}},getInitialState:function b(){return{height:null}},componentWillReceiveProps:function T(){this.setState({height:null})},render:function x(){var e="top"===this.props.verticalPosition
return n.createElement("span",null,e&&this._renderToolTipDiv(e),n.createElement("div",{style:this.props.targetContainerStyle},a.first(this.props.children)),!e&&this._renderToolTipDiv())},_renderToolTipDiv:function P(e){var t=a.extend({},u[this.props.horizontalPosition],c[this.props.horizontalAlign],p[this.props.verticalPosition])
var r
var i
if(e){r=n.createElement(l,{verticalDirection:"top",horizontalDirection:this.props.horizontalAlign,position:"absolute",color:"white",border:this.props.borderColor,left:t.arrowLeft(this.props.arrowSize),top:-this.props.arrowSize+2,width:this.props.arrowSize,height:this.props.arrowSize,zIndex:o})
i=n.createElement(l,{verticalDirection:"top",horizontalDirection:this.props.horizontalAlign,visibility:"hidden",color:"white",border:this.props.borderColor,left:t.arrowLeft(this.props.arrowSize),top:-1,width:this.props.arrowSize,height:this.props.arrowSize,zIndex:o})}else{r=n.createElement(l,{verticalDirection:"bottom",horizontalDirection:this.props.horizontalAlign,color:"white",border:this.props.borderColor,left:t.arrowLeft(this.props.arrowSize),top:-1,width:this.props.arrowSize,height:this.props.arrowSize,zIndex:o})
i=null}return n.createElement("div",{style:{position:"relative",height:0,display:this.props.show?"block":"none"}},n.createElement("div",{ref:"tooltipContainer",className:"tooltipContainer",style:{position:"absolute",height:this.state.height||void 0,left:t.targetLeft}},r,n.createElement("div",{className:this.props.className,ref:"tooltipContent",style:{position:"relative",top:t["top"],left:t.tooltipLeft,border:"1px solid "+this.props.borderColor,WebkitBoxShadow:"0 1px 3px "+this.props.borderColor,MozBoxShadow:"0 1px 3px "+this.props.borderColor,boxShadow:"0 1px 3px "+this.props.borderColor,zIndex:o-1}},a.rest(this.props.children)),i))},componentDidMount:function E(){this._updateHeight()},componentDidUpdate:function w(){this._updateHeight()},_updateHeight:function k(){var e=i.findDOMNode(this.refs.tooltipContainer).offsetHeight
e!==this.state.height&&this.setState({height:e})}})
e.exports=h},function(e,t,r){"use strict"
t.__esModule=true
var n=r(12)
var i=r(11)
var a=r(122)
var o='Usage:\n  this.change({propName: 5}, callback);\n  this.change("propName", 5, callback);\n  this.change("propName")'
var s=function c(e,t,r){var n=i.omit(e.props,a)
var o=i.extend(n,t)
e.props.onChange(o,r)}
var l=function h(e,t,r,n){if(void 0===r)return i.partial(h,e,t)
var a={}
a[t]=r
s(e,a,n)}
var p=t.change=function d(e,t,r){if(i.isObject(e)&&void 0===r){r=t
return s(this,e,r)}if(i.isString(e))return l(this,e,t,r)
throw new Error("Invalid types sent to this.change(): "+i.toArray(arguments).join()+"\n"+o)}
var u=t.propTypes={onChange:n.PropTypes.func.isRequired}
Object.defineProperty(e.exports,"babelPluginFlowReactPropTypes_proptype_ChangeableProps",r(12).PropTypes.shape({onChange:r(12).PropTypes.func.isRequired}))},function(e,t,r){"use strict"
var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]
for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}
var i=r(12)
var a=function o(e){var t=e.path,r=e.width,a=e.height,o=e.style,s=void 0===o?{}:o
return i.createElement("svg",{style:n({verticalAlign:"middle"},s),width:r/a+"em",height:"1em",viewBox:"0 0 "+r+" "+a},i.createElement("path",{d:t,fill:"currentColor"}))}
a.propTypes={path:i.PropTypes.string.isRequired,height:i.PropTypes.number.isRequired,width:i.PropTypes.number.isRequired,style:i.PropTypes.object}
e.exports=a},function(e,t,r){"use strict"
var n=r(14)
var i=r(12)
var a=r(13)
var o=r(11)
var s=r(86)
var l=window.MathQuill
var p=i.PropTypes
var u=i.createClass({displayName:"MathInput",propTypes:{value:p.string,onChange:p.func.isRequired,convertDotToTimes:p.bool,buttonsVisible:p.oneOf(["always","never","focused"]),buttonSets:s.buttonSetsType.isRequired,labelText:i.PropTypes.string,onFocus:p.func,onBlur:p.func},render:function c(){var e=n({"perseus-math-input":true,"mq-editable-field":true,"mq-math-mode":true})
this.props.className&&(e=e+" "+this.props.className)
var t=null
this._shouldShowButtons()&&(t=i.createElement(s,{sets:this.props.buttonSets,className:"math-input-buttons absolute",convertDotToTimes:this.props.convertDotToTimes,onInsert:this.insert}))
return i.createElement("div",{style:{display:"inline-block"}},i.createElement("div",{style:{display:"inline-block"}},i.createElement("span",{className:e,ref:"mathinput","aria-label":this.props.labelText,onFocus:this.handleFocus,onBlur:this.handleBlur})),i.createElement("div",{style:{position:"relative"}},t))},handleFocus:function h(){this.setState({focused:true})},handleMouseDown:function d(e){var t=a.findDOMNode(this).contains(e.target)
this.mouseDown=t
t||this.setState({focused:false})},handleMouseUp:function f(){this.mouseDown&&this.focus()
this.mouseDown=false},handleBlur:function v(){this.mouseDown||this.setState({focused:false})},_shouldShowButtons:function m(){return"always"===this.props.buttonsVisible?true:"never"===this.props.buttonsVisible?false:this.state.focused},getDefaultProps:function g(){return{value:"",convertDotToTimes:false,buttonsVisible:"focused"}},getInitialState:function y(){return{focused:false}},insert:function b(e){var t=this.mathField()
o(e).isFunction()?e(t):"\\"===e[0]?t.cmd(e).focus():t.write(e).focus()
t.focus()},mathField:function T(e){var t=l.getInterface(2)
return t.MathField(a.findDOMNode(this.refs.mathinput),e)},componentWillUnmount:function x(){window.removeEventListener("mousedown",this.handleMouseDown)
window.removeEventListener("mouseup",this.handleMouseUp)},componentDidMount:function P(){var e=this
window.addEventListener("mousedown",this.handleMouseDown)
window.addEventListener("mouseup",this.handleMouseUp)
var t=false
this.mathField({autoCommands:"pi theta phi sqrt nthroot",charsThatBreakOutOfSupSub:"+-*/=<>≠≤≥",supSubsRequireOperand:true,spaceBehavesLikeTab:true,handlers:{edited:function r(n){var i=n.latex()
i=i.replace(/<>/g,"\\ne")
if(e.props.convertDotToTimes){i=i.replace(/\\cdot/g,"\\times")
var a=n.__controller.cursor[l.L]
if(a&&"\\cdot "===a.ctrlSeq){n.__controller.backspace()
n.cmd("\\times")}}else i=i.replace(/\\times/g,"\\cdot")
t&&e.props.value!==i&&e.props.onChange(i)},enter:function n(){$(a.findDOMNode(e.refs.mathinput)).submit()},upOutOf:function i(e){e.typedText("^")}}})
this.mathField().latex(this.props.value)
t=true},componentDidUpdate:function E(){o.isEqual(this.mathField().latex(),this.props.value)||this.mathField().latex(this.props.value)},focus:function w(){this.mathField().focus()
this.setState({focused:true})},blur:function k(){this.mathField().blur()
this.setState({focused:false})}})
e.exports=u},function(e,t,r){"use strict"
var n=r(12)
var i=r(11)
var a=r(40)
var o={fontSize:"150%"}
var s={fontSize:"120%"}
var l={fontSize:"130%"}
var p=[function(){return[n.createElement("span",{key:"plus",style:s},"+"),"+"]},function(){return[n.createElement("span",{key:"minus",style:o},"-"),"-"]},function(e){return e.convertDotToTimes?[n.createElement(a,{key:"times",style:o},"\\times"),"\\times"]:[n.createElement(a,{key:"times",style:o},"\\cdot"),"\\cdot"]},function(){return[n.createElement(a,{key:"frac",style:o},"\\frac{□}{□}"),function(e){var t=e.latex()
e.typedText("/")
e.latex()===t&&e.cmd("\\frac")}]}]
var u={basic:p,"basic+div":p.concat([function(){return[n.createElement(a,{key:"div"},"\\div"),"\\div"]}]),trig:[function(){return[n.createElement(a,{key:"sin"},"\\sin"),"\\sin"]},function(){return[n.createElement(a,{key:"cos"},"\\cos"),"\\cos"]},function(){return[n.createElement(a,{key:"tan"},"\\tan"),"\\tan"]},function(){return[n.createElement(a,{key:"theta",style:l},"\\theta"),"\\theta"]},function(){return[n.createElement(a,{key:"pi",style:l},"\\phi"),"\\phi"]}],prealgebra:[function(){return[n.createElement(a,{key:"sqrt"},"\\sqrt{x}"),"\\sqrt"]},function(){return[n.createElement(a,{key:"nthroot"},"\\sqrt[3]{x}"),function(e){e.typedText("nthroot3")
e.keystroke("Right")}]},function(){return[n.createElement(a,{key:"pow",style:s},"□^a"),function(e){var t=e.latex()
e.typedText("^")
e.latex()===t&&e.typedText("a^b")}]},function(){return[n.createElement(a,{key:"pi",style:s},"\\pi"),"\\pi"]}],logarithms:[function(){return[n.createElement(a,{key:"log"},"\\log"),"\\log"]},function(){return[n.createElement(a,{key:"ln"},"\\ln"),"\\ln"]},function(){return[n.createElement(a,{key:"log_b"},"\\log_b"),function(e){e.typedText("log_")
e.keystroke("Right")
e.typedText("(")
e.keystroke("Left")
e.keystroke("Left")}]}],"basic relations":[function(){return[n.createElement(a,{key:"eq"},"="),"="]},function(){return[n.createElement(a,{key:"lt"},"\\lt"),"\\lt"]},function(){return[n.createElement(a,{key:"gt"},"\\gt"),"\\gt"]}],"advanced relations":[function(){return[n.createElement(a,{key:"neq"},"\\neq"),"\\neq"]},function(){return[n.createElement(a,{key:"leq"},"\\leq"),"\\leq"]},function(){return[n.createElement(a,{key:"geq"},"\\geq"),"\\geq"]}]}
var c=n.PropTypes.arrayOf(n.PropTypes.oneOf(i(u).keys()))
var h=n.createClass({displayName:"TexButtons",propTypes:{sets:c.isRequired,onInsert:n.PropTypes.func.isRequired},render:function d(){var e=this
var t=i.sortBy(this.props.sets,function(e){return i.keys(u).indexOf(e)})
var r=i(t).map(function(e){return u[e]})
var a=i(r).map(function(t){return t.map(function(t){var r=t(e.props)
return n.createElement("button",{onClick:function i(){return e.props.onInsert(r[1])},className:"tex-button",key:r[0].key,tabIndex:-1,type:"button"},r[0])})})
var o=i(a).map(function(t,r){return n.createElement("div",{className:"clearfix tex-button-row",key:e.props.sets[r]},t)})
return n.createElement("div",{className:this.props.className+" preview-measure"},o)},statics:{buttonSets:u,buttonSetsType:c}})
e.exports=h},function(e,t,r){"use strict"
e.exports={iconCheck:{path:"M10,3.8C10,4,9.9,4.2,9.8,4.3L5.1,8.9L4.3,9.8C4.2,9.9,4,10,3.8,10\n        S3.5,9.9,3.4,9.8L2.5,8.9L0.2,6.6C0.1,6.5,0,6.3,0,6.2s0.1-0.3,0.2-0.4\n        l0.9-0.9c0.1-0.1,0.3-0.2,0.4-0.2s0.3,0.1,0.4,0.2l1.9,1.9l4.2-4.2c0.1\n        -0.1,0.3-0.2,0.4-0.2c0.2,0,0.3,0.1,0.4,0.2l0.9,0.9C9.9,3.5,10,3.7,\n        10,3.8z",width:10,height:10},iconChevronDown:{path:"M99.669 13.048q0 3.36-2.352 5.712l-41.664 41.664q-2.408 2.408-5.88 2.408t-5.712-2.408l-41.664-41.664q-2.408-2.24-2.408-5.712t2.408-5.88l4.76-4.816q2.52-2.352 5.88-2.352t5.656 2.352l31.136 31.136 31.08-31.136q2.352-2.352 5.712-2.352t5.88 2.352l4.816 4.816q2.352 2.52 2.352 5.88z",width:100,height:63.034},iconChevronRight:{path:"M62.808 49.728q0 3.36-2.352 5.88l-41.72 41.664q-2.352 2.408-5.768 2.408t-5.768-2.408l-4.872-4.76q-2.352-2.52-2.352-5.88t2.352-5.712l31.08-31.136-31.08-31.024q-2.352-2.52-2.352-5.88t2.352-5.712l4.872-4.76q2.296-2.408 5.768-2.408t5.768 2.408l41.72 41.664q2.352 2.296 2.352 5.656z",width:63.034,height:100},iconCircle:{path:"M100.035 50.046q.057 13.623-6.669 25.137t-18.24 18.183-25.08 6.669-25.137-6.726q-11.514-6.726-18.183-18.183-6.726-11.571-6.726-25.137t6.726-25.08 18.24-18.24 25.08-6.669q13.566 0 25.08 6.726 11.514 6.669 18.24 18.183t6.669 25.137z",width:100,height:100},iconCircleArrowDown:{path:"M50.046 83.676q1.767 0 2.907-1.14l29.526-29.526q1.197-1.197 1.197-2.907t-1.197-2.964l-5.928-5.928q-1.197-1.14-2.964-1.14t-2.907 1.14l-12.312 12.312l0-32.661q0-1.71-1.254-2.964t-2.907-1.254l-8.322 0q-1.71 0-2.964 1.254t-1.254 2.964l0 32.661l-12.312-12.312q-1.197-1.254-2.907-1.254t-2.907 1.254l-5.928 5.928q-1.197 1.197-1.197 2.964t1.197 2.907l29.469 29.526q1.197 1.14 2.964 1.14zm49.989-33.63q.057 13.623-6.669 25.137t-18.24 18.183-25.08 6.669-25.137-6.726q-11.514-6.726-18.183-18.183-6.726-11.571-6.726-25.137t6.726-25.08 18.24-18.24 25.08-6.669q13.566 0 25.08 6.726 11.514 6.669 18.24 18.183t6.669 25.137z",width:100,height:100},iconCircleArrowUp:{path:"M54.207 83.391q1.653 0 2.907-1.254t1.254-2.907l0-32.718l12.312 12.312q1.254 1.254 2.964 1.254t2.907-1.254l5.928-5.928q1.197-1.197 1.14-2.964 0-1.767-1.14-2.907l-29.526-29.526q-1.197-1.14-2.907-1.14t-2.964 1.14l-29.469 29.526q-1.197 1.254-1.197 2.964t1.197 2.907l5.928 5.928q1.197 1.197 2.907 1.197t2.907-1.197l12.312-12.312l0 32.718q0 1.653 1.254 2.907t2.964 1.254l8.322 0zm45.828-33.345q.057 13.623-6.669 25.137t-18.24 18.183-25.08 6.669-25.137-6.726q-11.514-6.726-18.183-18.183-6.726-11.571-6.726-25.137t6.726-25.08 18.24-18.24 25.08-6.669q13.566 0 25.08 6.726 11.514 6.669 18.24 18.183t6.669 25.137z",width:100,height:100},iconCircleThin:{path:"M50.046 8.322q-8.493 0-16.188 3.306-15.561 6.669-22.173 22.23-3.363 7.695-3.363 16.188t3.306 16.188 8.949 13.281q5.586 5.586 13.281 8.892t16.188 3.306 16.188-3.306 13.281-8.892 8.892-13.281 3.306-16.188-3.306-16.188-8.892-13.281-13.281-8.949q-7.695-3.306-16.188-3.306zm0 91.713q-13.623 0-25.137-6.726t-18.183-18.183q-6.726-11.571-6.726-25.137t6.726-25.08 18.24-18.24 25.08-6.669q13.566 0 25.08 6.726 11.514 6.669 18.24 18.183t6.726 25.137-6.726 25.137-18.24 18.126q-11.514 6.726-25.08 6.726z",width:100,height:99.944},iconDesktop:{path:"M94.208 52.119l0-43.746q0-.69-.506-1.15t-1.196-.506l-84.088 0q-.69 0-1.196.506t-.506 1.15l0 43.746q0 .69.506 1.196t1.196.506l84.088 0q.69 0 1.196-.506t.506-1.196zm6.716-43.746l0 57.224q0 3.45-2.484 5.934t-5.934 2.484l-28.566 0q0 3.128 2.53 7.774.828 1.61.828 2.622t-1.012 2.07q-1.012 1.012-2.346.966l-26.91 0q-1.38 0-2.392-1.012t-1.012-2.024q0-1.058 1.656-4.14t1.748-6.256l-28.612 0q-3.45 0-5.934-2.484t-2.484-5.934l0-57.224q0-3.45 2.484-5.934t5.934-2.438l84.088 0q3.45 0 5.98 2.438 2.438 2.484 2.438 5.934z",width:100,height:86.648},iconDropdownArrow:{path:"M9 9.8c0 .5.7 1.7 1.5 2.8 1.5 1.9 1.5 1.9 3 0C15.7 9.7 15.4 9 12 9c-1.6 0-3 .4-3 .8z",width:24,height:24},iconExclamationSign:{path:"M58.368 81.225l0-12.369q0-.912-.57-1.539t-1.425-.627l-12.54 0q-.855-.057-1.482.627t-.684 1.539l0 12.369q-.057.855.627 1.482t1.539.684l12.54 0q.855 0 1.425-.627t.57-1.539zm1.026-62.871q0-1.596-2.223-1.71l-14.307 0q-2.109 0-2.223 1.71l1.14 40.47q0 .627.627 1.14t1.539.456l12.084 0q.912-.057 1.539-.513t.684-1.083zm-9.348-18.354q13.566 0 25.08 6.726 11.514 6.669 18.24 18.183t6.726 25.137-6.726 25.137-18.24 18.183-25.08 6.669-25.137-6.726q-11.514-6.726-18.183-18.183-6.726-11.571-6.726-25.137t6.726-25.08 18.24-18.24 25.08-6.669z",width:100,height:99.944},iconGear:{path:"M1152 896q0-106-75-181t-181-75-181 75-75 181 75 181 181 75 181-75 75-181zm512-109v222q0 12-8 23t-20 13l-185 28q-19 54-39 91 35 50 107 138 10 12 10 25t-9 23q-27 37-99 108t-94 71q-12 0-26-9l-138-108q-44 23-91 38-16 136-29 186-7 28-36 28h-222q-14 0-24.5-8.5t-11.5-21.5l-28-184q-49-16-90-37l-141 107q-10 9-25 9-14 0-25-11-126-114-165-168-7-10-7-23 0-12 8-23 15-21 51-66.5t54-70.5q-27-50-41-99l-183-27q-13-2-21-12.5t-8-23.5v-222q0-12 8-23t19-13l186-28q14-46 39-92-40-57-107-138-10-12-10-24 0-10 9-23 26-36 98.5-107.5t94.5-71.5q13 0 26 10l138 107q44-23 91-38 16-136 29-186 7-28 36-28h222q14 0 24.5 8.5t11.5 21.5l28 184q49 16 90 37l142-107q9-9 24-9 13 0 25 10 129 119 165 170 7 8 7 22 0 12-8 23-15 21-51 66.5t-54 70.5q26 50 41 98l183 28q13 2 21 12.5t8 23.5z",width:1792,height:1792},iconMobilePhone:{path:"M36.04 89.557q0-2.584-1.836-4.42t-4.42-1.836-4.352 1.836q-1.836 1.836-1.836 4.42t1.836 4.352 4.42 1.836q2.652-.068 4.42-1.836t1.768-4.352zm16.184-12.444l0-54.74q0-1.088-.748-1.768t-1.768-.68l-39.78 0q-1.088 0-1.768.748t-.68 1.7l0 54.74q0 1.02.748 1.768t1.7.68l39.78 0q1.02-.068 1.768-.748t.748-1.7zm-14.892-65.892q0-1.224-1.292-1.292l-12.444 0q-1.224.068-1.224 1.292t1.224 1.224l12.444 0q1.292 0 1.292-1.224zm22.372-1.292l0 79.628q0 3.944-2.992 6.936t-7.004 2.992l-39.78 0q-4.012 0-7.004-2.924-2.924-2.924-2.924-7.004l0-79.628q0-4.012 2.924-6.936t7.004-2.992l39.78 0q4.012-.068 7.004 2.924t2.992 7.004z",width:60.013,height:100},iconOk:{path:"M37.964 76.048q-2.576 0-4.368-1.792l-31.864-31.864q-1.792-1.792-1.792-4.368t1.792-4.368l8.736-8.68q1.792-1.792 4.368-1.792t4.312 1.792l18.816 18.872 42-42.056q1.792-1.792 4.368-1.792t4.312 1.792l8.736 8.736q1.792 1.792 1.792 4.368t-1.792 4.312l-55.048 55.048q-1.792 1.792-4.368 1.792z",width:100,height:76.637},iconPlus:{path:"M99.758 43.09l0 13.578q0 2.852-1.984 4.836t-4.836 1.984l-29.45 0l0 29.45q0 2.852-1.984 4.836t-4.836 1.984l-13.578 0q-2.852 0-4.836-1.984t-1.984-4.836l0-29.45l-29.45 0q-2.852 0-4.836-1.984t-1.984-4.836l0-13.578q0-2.852 1.984-4.836t4.836-1.984l29.45 0l0-29.45q0-2.852 1.984-4.836t4.836-1.984l13.578 0q2.852 0 4.836 1.984t1.984 4.836l0 29.45l29.45 0q2.852 0 4.836 1.984t1.984 4.836z",width:100,height:100},iconRemove:{path:"M100.464 80.808q0 3.404-2.368 5.772l-11.47 11.544q-2.368 2.368-5.772 2.368t-5.698-2.368l-24.864-24.864-24.864 24.864q-2.368 2.368-5.772 2.368t-5.772-2.368l-11.47-11.544q-2.368-2.368-2.368-5.772t2.368-5.698l24.864-24.864-24.864-24.864q-2.368-2.368-2.368-5.772t2.368-5.772l11.47-11.47q2.368-2.368 5.772-2.368t5.772 2.368l24.864 24.864 24.864-24.864q2.294-2.368 5.698-2.368t5.772 2.368l11.47 11.47q2.368 2.368 2.368 5.772t-2.368 5.772l-24.864 24.864 24.864 24.864q2.368 2.294 2.368 5.698z",width:100,height:100},iconStar:{path:"M15.1052249,9.55978547 L22.0028147,9.55978545 C23.6568673,9.55978545 23.9349557,10.3753626 22.6181351,11.3858845 L16.9943688,15.7015366 L19.2518801,22.8294455 C19.7526645,24.4106317 19.0984455,24.8825885 17.769353,23.8673293 L12.0490577,19.4977438 L6.5116497,23.8422153 C5.20921411,24.8640642 4.53299569,24.4067544 5.00266927,22.8160582 L7.10332364,15.7015366 L1.42794544,11.3634306 C0.110226041,10.3562014 0.383967283,9.54239221 2.0409646,9.54574013 L8.9924676,9.55978547 L11.1485117,2.72669438 C11.6458693,1.15043244 12.4548928,1.15900049 12.9494787,2.72669438 L15.1052249,9.55978547 Z",width:24,height:24},iconTryAgain:{path:"M3.74890556,17.9799506 C2.19251241,16.1970909 1.10103636,13.4971457 1.13090903,11.1491783 C1.17160478,7.95052637 4.01704076,0.865059407 11.7028044,0.865059407 C19.388568,0.865059407 22.3026521,7.35203035 22.3026521,11.5879453 C22.3026521,15.8238603 19.386629,20.5574509 13.6832464,21.7131548 L13.6757539,17.3722171 C17.0812986,16.2190517 18.331158,14.1944123 18.3311578,11.5879451 C18.3311574,8.16554692 15.6664205,5.03476549 11.7028048,5.20494205 C7.73918903,5.37511861 5.59244567,8.66930079 5.59244567,11.1491783 C5.59244567,12.9090077 6.11128139,14.1753512 6.93640437,15.3053215 L8.14052356,14.2949456 C8.98559348,13.5858477 9.6994861,13.9070448 9.73489556,15.0076413 L9.91284941,20.5388014 C9.94832683,21.6415103 9.09967118,22.3514475 8.02194403,22.1254594 L2.60571602,20.9897332 C1.5259204,20.7633114 1.34338662,19.9984207 2.18070755,19.295825 L3.74890556,17.9799506 Z",width:23,height:23},iconTablet:{path:"M45.322 90.706q0-1.86-1.302-3.224-1.364-1.364-3.224-1.364t-3.224 1.364-1.302 3.224q0 1.86 1.364 3.224 1.302 1.364 3.162 1.302 1.86.062 3.224-1.302t1.302-3.224zm27.218-11.346l0-68.014q0-.93-.682-1.612t-1.55-.682l-58.962 0q-.93 0-1.612.682t-.682 1.612l0 68.014q0 .93.682 1.612t1.612.62l58.962 0q.992-.062 1.612-.682t.62-1.55zm9.114-68.014l0 77.066q0 4.65-3.348 7.998t-7.998 3.348l-58.962 0q-4.65 0-7.998-3.348t-3.348-7.998l0-77.066q0-4.65 3.348-7.998t7.998-3.348l58.962 0q4.65 0 7.998 3.348t3.348 7.998z",width:81.852,height:100},iconTrash:{path:"M31.293 37.506q2.052 0 2.052 2.109l0 37.506q0 1.995-2.052 2.109l-4.218 0q-.912-.057-1.482-.627t-.57-1.482l0-37.506q0-2.109 2.052-2.109l4.218 0zm18.753 2.109l0 37.506q0 .912-.57 1.482t-1.539.627l-4.161 0q-1.995 0-2.109-2.109l0-37.506q.057-.912.627-1.482t1.482-.627l4.161 0q.969.057 1.539.627t.57 1.482zm14.592-2.109q2.052 0 2.052 2.109l0 37.506q0 1.995-2.052 2.109l-4.161 0q-.969-.057-1.539-.627t-.57-1.482l0-37.506q0-2.109 2.109-2.109l4.161 0zm10.431 49.248l0-61.731l-58.368 0l0 61.731q.057 2.679.969 3.819t1.083 1.14l54.207 0q.171 0 1.14-1.083t.969-3.876zm-43.776-70.11l29.184 0l-3.135-7.581q-.456-.57-1.14-.741l-20.634 0q-.627.114-1.083.741zm-31.293 2.109q0-1.995 2.109-2.109l20.121 0l4.56-10.83q.969-2.394 3.477-4.104 2.565-1.71 5.187-1.71l20.805 0q2.622 0 5.187 1.71t3.477 4.104l4.56 10.83l20.178 0q.912.057 1.482.627t.57 1.482l0 4.161q0 1.995-2.052 2.109l-6.27 0l0 61.731q0 5.415-3.078 9.348t-7.353 3.933l-54.207 0q-4.275 0-7.353-3.819t-3.078-9.177l0-62.016l-6.213 0q-.969 0-1.539-.57t-.57-1.539l0-4.161z",width:91.681,height:100},iconUndo:{path:"M10,6.6C10,7.2,9.8,8,9.3,9.1c0,0,0,0.1-0.1,0.1S9.2,9.3,9.2,9.4c0,0,0,0.1-0.1,0.1C9,9.6,9,9.6,8.9,9.6 c-0.1,0-0.1,0-0.1-0.1c0,0,0-0.1,0-0.1c0,0,0-0.1,0-0.1s0-0.1,0-0.1c0-0.3,0-0.5,0-0.7c0-0.4,0-0.7-0.1-1C8.6,7.1,8.5,6.9,8.4,6.7S8.2,6.3,8,6.1C7.8,5.9,7.6,5.8,7.4,5.7S6.9,5.5,6.7,5.5S6.1,5.4,5.8,5.4c-0.3,0-0.6,0-1,0H3.6v1.4c0,0.1,0,0.2-0.1,0.3C3.4,7.1,3.3,7.1,3.2,7.1C3.1,7.1,3,7.1,3,7L0.1,4.1C0,4.1,0,4,0,3.9s0-0.2,0.1-0.3L3,0.8C3,0.7,3.1,0.7,3.2,0.7c0.1,0,0.2,0,0.3,0.1C3.5,0.9,3.6,0.9,3.6,1v1.4h1.2c2.6,0,4.3,0.7,4.9,2.2C9.9,5.2,10,5.8,10,6.6z",width:10,height:10}}},function(e,t,r){"use strict"
var n=r(14)
var i=r(12)
var a=r(38),o=a.negativePhoneMargin
var s=480
var l=i.createClass({displayName:"FixedToResponsive",propTypes:{width:i.PropTypes.number.isRequired,height:i.PropTypes.number.isRequired,className:i.PropTypes.string,constrainHeight:i.PropTypes.bool,allowFullBleed:i.PropTypes.bool},getDefaultProps:function p(){return{className:"",constrainHeight:false,allowFullBleed:false}},getInitialState:function u(){return{viewportHeight:null,viewportWidth:null}},componentDidMount:function c(){window.innerHeight<s?setTimeout(this._cacheViewportSize,800):this._cacheViewportSize()},_cacheViewportSize:function h(){this.isMounted()&&this.setState({viewportHeight:Math.max(s,window.innerHeight),viewportWidth:window.innerWidth})},render:function d(){var e=this.props.width/this.props.height
var t=i.createElement("div",{style:{paddingBottom:100*(1/e).toFixed(4)+"%"}})
var r=this.props,a=r.width,s=r.height
if(this.props.constrainHeight&&this.state.viewportHeight){var l=2/3*this.state.viewportHeight
if(this.props.height>=l){s=l
a=l*e}}var p={maxWidth:a,maxHeight:s}
var u=n("fixed-to-responsive",this.props.className)
var c=i.createElement("div",{className:u,style:p},t,this.props.children)
var h=this.props.allowFullBleed&&this.state.viewportWidth&&a>=this.state.viewportWidth
return h?i.createElement("div",{style:{marginLeft:o,marginRight:o}},c):c}})
e.exports=l},function(e,t,r){"use strict"
var n=r(12)
var i=r(13)
var a=r(11)
var o=r(123)
var s=r(124)
var l=o.GraphieMovable
var p=r(18).deepEq
var u=r(18).nestedMap
var c=r(111).assert
var h=r(108)
var d=h.createGraphie
var f=n.createClass({displayName:"Graphie",propTypes:{addMouseLayer:n.PropTypes.bool,box:n.PropTypes.arrayOf(n.PropTypes.number).isRequired,children:n.PropTypes.node,isMobile:n.PropTypes.bool,onClick:n.PropTypes.func,onMouseDown:n.PropTypes.func,onMouseMove:n.PropTypes.func,onMouseUp:n.PropTypes.func,options:n.PropTypes.shape({snapStep:n.PropTypes.arrayOf(n.PropTypes.number)}),range:n.PropTypes.arrayOf(n.PropTypes.arrayOf(n.PropTypes.number)),responsive:n.PropTypes.bool,setDrawingAreaAvailable:n.PropTypes.func,setup:n.PropTypes.func.isRequired},getDefaultProps:function v(){return{range:[[-10,10],[-10,10]],options:{},responsive:false,addMouseLayer:true}},componentDidMount:function m(){this._setupGraphie()
this._updateMovables()},shouldComponentUpdate:function g(e){return!p(this.props,e)},componentDidUpdate:function y(e){this.props.setup!==e.setup&&window.console&&window.console.warn&&window.console.warn("<Graphie> was given a new setup function. This is a bad idea; please refactor your code to give the same setup function reference to <Graphie> on every render.")
p(this.props.options,e.options)&&p(this.props.box,e.box)&&p(this.props.range,e.range)||this._setupGraphie()
this._updateMovables()},getGraphie:function b(){return this._graphie},_range:function T(){return a.map(this.props.range,function(e){return e[0]>=e[1]?[-10,10]:e})},_box:function x(){return a.map(this.props.box,function(e){return e>0?e:340})},_scale:function P(){var e=this._box()
var t=this._range()
return a.map(e,function(e,r){var n=t[r][1]-t[r][0]
return e/n})},_setupGraphie:function E(){this._removeMovables()
var e=i.findDOMNode(this.refs.graphieDiv)
$(e).empty()
var t=this._graphie=d(e)
t.init({range:this._range(),scale:this._scale(),isMobile:this.props.isMobile})
this.props.addMouseLayer&&t.addMouseLayer({onClick:this.props.onClick,onMouseDown:this.props.onMouseDown,onMouseUp:this.props.onMouseUp,onMouseMove:this.props.onMouseMove,setDrawingAreaAvailable:this.props.setDrawingAreaAvailable})
t.snap=this.props.options.snapStep||[1,1]
if(this.props.responsive){$(e).css({width:"100%",height:"100%"})
t.raphael.setSize("100%","100%")}this.props.setup(t,a.extend({range:this._range(),scale:this._scale()},this.props.options))},_removeMovables:function w(){a.invoke(this._movables,"remove")
this._movables={}},_renderMovables:function k(e,t){var r=this
var n=t.graphie
var i=t.oldMovables
var o=t.newMovables
var s=function h(e){a.each(e.movableProps,function(n){e.props[n]=r._renderMovables(e.props[n],t)})}
var p=false
return u(e,function(e){if(!e){t.nextKey++
return e}var a=new e.type(e.props)
c(a instanceof l,"All children of a Graphie component must be Graphie movables")
var u=e.key
var h=null==u?"_no_id_"+t.nextKey:u
t.nextKey++
var d=e.ref
s(a)
var f=i[h]
if(f)if(a.constructor===f.constructor){f.props=a.props
var v=f.modify(n)
"reordered"===v&&(p=true)
o[h]=f}else{null==u&&"undefined"!==typeof console&&console.warn&&console.warn("Replacing a <Graphie> child with a child of a different type. Please add keys to your <Graphie> children")
f.remove()
a.add(n)
p=true
o[h]=a}else{a.add(n)
p=true
o[h]=a}p&&o[h].toFront()
d&&(r.movables[d]=o[h])
return o[h]})},_updateMovables:function S(){var e=this._graphie
var t=this._movables
var r={}
this._movables=r
this.movables={}
this._renderMovables(this.props.children,{nextKey:1,graphie:e,oldMovables:t,newMovables:r})
a.each(t,function(e,t){r[t]||e.remove()})},render:function C(){return n.createElement("div",{className:"graphie-container"},n.createElement("div",{className:"graphie",ref:"graphieDiv"}))}})
a.extend(f,o)
a.extend(f,s)
e.exports=f},function(e,t,r){"use strict"
var n=r(12)
var i=n.PropTypes
var a={PENDING:"pending",LOADING:"loading",LOADED:"loaded",FAILED:"failed"}
var o=n.createClass({displayName:"ImageLoader",propTypes:{children:n.PropTypes.oneOfType([n.PropTypes.arrayOf(n.PropTypes.node),n.PropTypes.node]),imgProps:i.any,onError:i.func,onLoad:i.func,onUpdate:i.func,preloader:i.func,src:i.string},getInitialState:function s(e){return{status:this.props.src?a.LOADING:a.PENDING}},componentDidMount:function l(){this.state.status===a.LOADING&&this.createLoader()},componentWillReceiveProps:function p(e){this.props.src!==e.src&&this.setState({status:e.src?a.LOADING:a.PENDING})},componentDidUpdate:function u(e,t){this.state.status!==a.LOADING||this.img||this.createLoader()
t.status!==this.state.status&&this.props.onUpdate()},componentWillUnmount:function c(){this.destroyLoader()},createLoader:function h(){this.destroyLoader()
this.img=new Image
this.img.onload=this.handleLoad
this.img.onerror=this.handleError
this.img.src=this.props.src},destroyLoader:function d(){if(this.img){this.img.onload=null
this.img.onerror=null
this.img=null}},handleLoad:function f(e){this.destroyLoader()
this.setState({status:a.LOADED})
this.props.onLoad&&this.props.onLoad(e)},handleError:function v(e){this.destroyLoader()
this.setState({status:a.FAILED})
this.props.onError&&this.props.onError(e)},renderImg:function m(){var e=this.props,t=e.src,r=e.imgProps
var i={src:t}
for(var a in r)r.hasOwnProperty(a)&&(i[a]=r[a])
return n.createElement("img",i)},render:function g(){switch(this.state.status){case a.LOADED:return this.renderImg()
case a.FAILED:if(this.props.children)return this.props.children
break
default:if(this.props.preloader)return this.props.preloader()}return null}})
e.exports=o},function(e,t,r){"use strict"
function n(){var e=document.createElement("bootstrap")
var t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"}
for(var r in t)if(void 0!==e.style[r])return{end:t[r]}
return false}$.fn.emulateTransitionEnd=function(e){var t=false
var r=this
$(this).one("bsTransitionEnd",function(){t=true})
var n=function i(){t||$(r).trigger($.support.transition.end)}
setTimeout(n,e)
return this}
$(function(){$.support.transition=n()
if(!$.support.transition)return
$.event.special.bsTransitionEnd={bindType:$.support.transition.end,delegateType:$.support.transition.end,handle:function e(t){if($(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}}})
function i(e,t){var r=window.scrollX
var n=window.scrollY
var i=document.querySelector("meta[name=viewport]")
i?i.setAttribute("content",e):$("head").append('<meta name="viewport" content="'+e+'">')
document.body.style.opacity=.9999
setTimeout(function(){document.body.style.opacity=1
window.scrollTo(r,n)
t&&setTimeout(t,0)},0)}function a(){}a.prototype._initialize=function(e){if(this._$document)return
this._activeZoom=this._initialScrollPosition=this._initialTouchPosition=this._touchMoveListener=null
this._$document=$(document)
this._$window=$(window)
this._$body=$(document.body)
this._boundClick=$.proxy(this._clickHandler,this)
this._enableMobilePinch=e}
a.prototype.handleZoomClick=function(e,t){var r=this
this._initialize(t)
var n=e.target
if(!n||"IMG"!==n.tagName)return
if(this._$body.hasClass("zoom-overlay-open"))return
if(e.metaKey||e.ctrlKey)return window.open(e.target.src,"_blank")
if(!t&&n.width>=window.innerWidth-o.getOffset())return
this._activeZoomClose(true)
t?i("width=device-width, initial-scale=1, minimum-scale=1",function(){return r._zoom(n)}):this._zoom(n)
if(!t){this._$window.on("scroll.zoom",$.proxy(this._scrollHandler,this))
this._$document.on("keyup.zoom",$.proxy(this._keyHandler,this))
this._$document.on("touchstart.zoom",$.proxy(this._touchStart,this))}document.addEventListener("click",this._boundClick,true)
e.stopPropagation()}
a.prototype._zoom=function(e){this._activeZoom=new o(e,this._enableMobilePinch)
this._activeZoom.zoomImage()}
a.prototype._activeZoomClose=function(e){var t=this
if(!this._activeZoom)return
if(e){this._activeZoom.dispose()
this._disposeActiveZoom()}else i("width=device-width, initial-scale=1, minimum-scale=1,\n            maximum-scale=1",function(){t._activeZoom.close()
t._disposeActiveZoom()})}
a.prototype._disposeActiveZoom=function(){this._$window.off(".zoom")
this._$document.off(".zoom")
document.removeEventListener("click",this._boundClick,true)
this._activeZoom=null}
a.prototype._scrollHandler=function(e){null===this._initialScrollPosition&&(this._initialScrollPosition=window.scrollY)
var t=this._initialScrollPosition-window.scrollY
Math.abs(t)>=40&&this._activeZoomClose()}
a.prototype._keyHandler=function(e){27===e.keyCode&&this._activeZoomClose()}
a.prototype._clickHandler=function(e){e.stopPropagation()
e.preventDefault()
this._activeZoomClose()}
a.prototype._touchStart=function(e){this._initialTouchPosition=e.originalEvent.touches[0].pageY
$(e.target).on("touchmove.zoom",$.proxy(this._touchMove,this))}
a.prototype._touchMove=function(e){if(Math.abs(e.originalEvent.touches[0].pageY-this._initialTouchPosition)>10){this._activeZoomClose()
$(e.target).off("touchmove.zoom")}}
function o(e,t){this._fullHeight=this._fullWidth=this._overlay=null
this._targetImage=e
this._enableMobilePinch=t
this._$body=$(document.body)}o._OFFSET=80
o._MAX_WIDTH=2560
o._MAX_HEIGHT=4096
o.getOffset=function(e){return e?0:o._OFFSET}
o.prototype.getOffset=function(){return o.getOffset(this._enableMobilePinch)}
o.prototype.zoomImage=function(){var e=document.createElement("img")
var t=$(e)
e.onload=function(){this._fullHeight=Number(e.height)
this._fullWidth=Number(e.width)
var r=this._imageOffset=$(this._targetImage).offset()
var n=this._left=r.left-$(window).scrollLeft()
var i=this._top=r.top-$(window).scrollTop()
t.css({left:n,top:i,width:this._targetImage.width,height:this._targetImage.height})
this._zoomOriginal()}.bind(this)
e.src=this._targetImage.src
this.$zoomedImage=t}
o.prototype._zoomOriginal=function(){this.$zoomedImage.addClass("zoom-img").attr("data-action","zoom-out")
$(this._targetImage).css("visibility","hidden")
this._backdrop=document.createElement("div")
this._backdrop.className="zoom-backdrop"
document.body.appendChild(this._backdrop)
this._overlay=document.createElement("div")
this._overlay.className="zoom-overlay"
document.body.appendChild(this._overlay)
this._overlay.appendChild(this.$zoomedImage[0])
this._calculateZoom()
this._triggerAnimation()}
o.prototype._calculateZoom=function(){var e=this._fullWidth
var t=this._fullHeight
var r=window.innerHeight-this.getOffset()
var n=window.innerWidth-this.getOffset()
var i=e/this._targetImage.width
var a=e/t
var o=n/r
e<n&&t<r?this._imgScaleFactor=i:a<o?this._imgScaleFactor=r/t*i:this._imgScaleFactor=n/e*i}
o.prototype._triggerAnimation=function(){var e=$(window).scrollTop()+window.innerHeight/2
var t=$(window).scrollLeft()+window.innerWidth/2
var r=this._imgScaleFactor
var n=this._imageOffset.top+this._targetImage.height/2
var i=this._imageOffset.left+this._targetImage.width/2
this._translateY=(e-n)/r
this._translateX=(t-i)/r
this._zoomedInTransformString="\n        scale("+r+")\n        translate3d("+this._translateX+"px, "+this._translateY+"px, 0)\n    "
this.$zoomedImage.css({transform:this._zoomedInTransformString}).addClass("zoom-transition").one($.support.transition.end,$.proxy(this._onZoomInFinish,this)).emulateTransitionEnd(300)
this._$body.addClass("zoom-overlay-open")}
o.prototype._onZoomInFinish=function(){var e=this._targetImage.height*this._imgScaleFactor
var t=this._targetImage.width*this._imgScaleFactor
var r=0
var n=0
var i=0
var a=0
var o=0
var s=0
if(t<window.innerWidth){r="50%"
i=-t/2}else o=(t-window.innerWidth)/2
if(e<window.innerHeight){n="50%"
a=-e/2}else s=(e-window.innerHeight)/2
this.$zoomedImage.css({height:e,left:r,marginLeft:i,marginTop:a,top:n,transform:"",width:t}).removeClass("zoom-transition")
$(this._overlay).scrollLeft(o).scrollTop(s)}
o.prototype.close=function(){var e=this
this._$body.removeClass("zoom-overlay-open").addClass("zoom-overlay-transitioning")
this.$zoomedImage.css({height:this._targetImage.height,left:this._left,marginLeft:0,marginTop:0,top:this._top,transform:this._zoomedInTransformString,width:this._targetImage.width}).removeClass("zoom-transition")
$(this._overlay).scrollLeft(0).scrollTop(0)
setTimeout(function(){e.$zoomedImage.css({transform:"scale(1)"}).addClass("zoom-transition").one($.support.transition.end,$.proxy(e.dispose,e)).emulateTransitionEnd(300)},10)}
o.prototype.dispose=function(){if(this.$zoomedImage&&this.$zoomedImage[0].parentNode){this.$zoomedImage.remove()
this.$zoomedImage=null
this._overlay.parentNode.removeChild(this._overlay)
this._backdrop.parentNode.removeChild(this._backdrop)
this._$body.removeClass("zoom-overlay-transitioning")}$(this._targetImage).css("visibility","visible")}
t.ZoomService=new a},function(e,t,r){"use strict"
var n=r(12)
var i=r(11)
var a=r(9)
var o=r(63)
var s=r(18)
var l=r(128)
var p=n.createClass({displayName:"Radio",propTypes:{apiOptions:l.propTypes.apiOptions,choices:l.propTypes.choices,deselectEnabled:n.PropTypes.bool,displayCount:n.PropTypes.any,findWidgets:n.PropTypes.func,multipleSelect:n.PropTypes.bool,onChange:n.PropTypes.func.isRequired,onePerLine:l.propTypes.onePerLine,questionCompleted:n.PropTypes.bool,reviewModeRubric:l.propTypes.reviewModeRubric,trackInteraction:n.PropTypes.func.isRequired,values:n.PropTypes.arrayOf(n.PropTypes.bool)},getDefaultProps:function u(){return{choices:[{}],displayCount:null,multipleSelect:false,deselectEnabled:false}},_renderRenderer:function c(e){e=e||""
var t=1
var r={}
var i=e.replace(/\{\{passage-ref (\d+) (\d+)(?: "([^"]*)")?\}\}/g,function(e,n,i,a){var l="passage-ref "+t
t++
r[l]={type:"passage-ref",graded:false,options:{passageNumber:parseInt(n),referenceNumber:parseInt(i),summaryText:a},version:o.version}
return"[["+s.snowman+" "+l+"]]"})
return n.createElement(a,{key:"choiceContentRenderer",content:i,widgets:r,findExternalWidgets:this.props.findWidgets,alwaysUpdate:true})},focus:function h(e){return this.refs.baseRadio.focus(e)},onCheckedChange:function d(e){this.props.onChange({values:e})
this.props.trackInteraction()},getUserInput:function f(){if(this.props.values){var e=null
var t=false
var r=this.props.values.slice()
for(var n=0;n<this.props.values.length;n++){var a=this.props.choices[n].originalIndex
r[a]=this.props.values[n]
if(this.props.choices[n].isNoneOfTheAbove){e=a
r[n]&&(t=true)}}return{values:r,noneOfTheAboveIndex:e,noneOfTheAboveSelected:t}}return{values:i.map(this.props.choices,function(){return false})}},simpleValidate:function v(e){return p.validate(this.getUserInput(),e)},enforceOrdering:function m(e){var t=i.pluck(e,"content")
if(i.isEqual(t,[i18n._("False"),i18n._("True")])||i.isEqual(t,[i18n._("No"),i18n._("Yes")]))return[e[1]].concat([e[0]])
return e},render:function g(){var e=this
var t=this.props.choices
var r=this.props.values||i.map(t,function(){return false})
t=i.map(t,function(t,n){var i=t.isNoneOfTheAbove&&!t.content?i18n._("None of the above"):t.content
return{content:e._renderRenderer(i),checked:r[n],correct:e.props.questionCompleted&&r[n],clue:e._renderRenderer(t.clue),isNoneOfTheAbove:t.isNoneOfTheAbove}})
t=this.enforceOrdering(t)
return n.createElement(l,{ref:"baseRadio",labelWrap:true,onePerLine:this.props.onePerLine,multipleSelect:this.props.multipleSelect,choices:t,onCheckedChange:this.onCheckedChange,reviewModeRubric:this.props.reviewModeRubric,deselectEnabled:this.props.deselectEnabled,apiOptions:this.props.apiOptions})}})
i.extend(p,{validate:function y(e,t){var r=i.reduce(e.values,function(e,t){return e+(t?1:0)},0)
if(0===r)return{type:"invalid",message:null}
if(e.noneOfTheAboveSelected&&r>1)return{type:"invalid",message:i18n._("'None of the above' may not be selected when other answers are selected.")}
var n=i.all(e.values,function(r,n){var a=void 0
a=e.noneOfTheAboveIndex===n?i.all(t.choices,function(e,t){return n===t||!e.correct}):!!t.choices[n].correct
return a===r})
return{type:"points",earned:n?1:0,total:1,message:null}}})
e.exports=p},function(e,t,r){e.exports=o},function(e,t,r){"use strict"
var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}
var i=r(11)
var a={"(":"left parenthesis",")":"right parenthesis","[":"open bracket","]":"close bracket","\\{":"left brace","\\}":"right brace","\\lvert":"open vertical bar","\\rvert":"close vertical bar","|":"vertical bar","\\uparrow":"up arrow","\\Uparrow":"up arrow","\\downarrow":"down arrow","\\Downarrow":"down arrow","\\updownarrow":"up down arrow","\\leftarrow":"left arrow","\\Leftarrow":"left arrow","\\rightarrow":"right arrow","\\Rightarrow":"right arrow","\\langle":"open angle","\\rangle":"close angle","\\lfloor":"open floor","\\rfloor":"close floor","\\int":"integral","\\intop":"integral","\\lim":"limit","\\ln":"natural log","\\log":"log","\\sin":"sine","\\cos":"cosine","\\tan":"tangent","\\cot":"cotangent","\\sum":"sum","/":"slash",",":"comma",".":"point","-":"negative","+":"plus","~":"tilde",":":"colon","?":"question mark","'":"apostrophe","\\%":"percent"," ":"space","\\ ":"space","\\$":"dollar sign","\\angle":"angle","\\degree":"degree","\\circ":"circle","\\vec":"vector","\\triangle":"triangle","\\pi":"pi","\\prime":"prime","\\infty":"infinity","\\alpha":"alpha","\\beta":"beta","\\gamma":"gamma","\\omega":"omega","\\theta":"theta","\\sigma":"sigma","\\lambda":"lambda","\\tau":"tau","\\Delta":"delta","\\delta":"delta","\\mu":"mu","\\rho":"rho","\\nabla":"del","\\ell":"ell","\\ldots":"dots"}
var o={"\\prime":"prime","\\degree":"degree","\\circ":"degree"}
var s={"|":"open vertical bar",".":""}
var l={"|":"close vertical bar",".":""}
var p={"+":"plus","-":"minus","\\pm":"plus minus","\\cdot":"dot","*":"times","/":"divided by","\\times":"times","\\div":"divided by","\\circ":"circle","\\bullet":"bullet"}
var u={"=":"equals","\\approx":"approximately equals","\\neq":"does not equal","\\ne":"does not equal","\\geq":"is greater than or equal to","\\ge":"is greater than or equal to","\\leq":"is less than or equal to","\\le":"is less than or equal to",">":"is greater than","<":"is less than","\\leftarrow":"left arrow","\\Leftarrow":"left arrow","\\rightarrow":"right arrow","\\Rightarrow":"right arrow",":":"colon"}
var c=function T(e,t,r){if(!e)return
var n
n="open"===t?e in s?s[e]:a[e]||e:"close"===t?e in l?l[e]:a[e]||e:"bin"===t?p[e]||e:"rel"===t?u[e]||e:a[e]||e
if(n===e&&!/^\w+$/.test(e))throw"KaTeX a11y "+t+" string not found: "+e;/^\d+$/.test(n)&&r.length>0&&/^\d+$/.test(r[r.length-1])?r[r.length-1]+=n:n&&r.push(n)}
var h=function x(e,t){var r=[]
e.push(r)
t(r)}
var d={accent:function P(e,t){h(t,function(t){f(e.value.base,t)
t.push("with")
f(e.value.accent,t)
t.push("on top")})},bin:function E(e,t){c(e.value,"bin",t)},close:function w(e,t){c(e.value,"close",t)},color:function k(e,t){var k=e.value.color.replace(/katex-/,"")
h(t,function(t){t.push("start color "+k)
f(e.value.value,t)
t.push("end color "+k)})},delimsizing:function S(e,t){e.value.value&&"."!==e.value.value&&c(e.value.value,"normal",t)},genfrac:function C(e,t){h(t,function(t){if(e.value.hasBarLine){t.push("start fraction")
c(e.value.leftDelim,"open",t)
f(e.value.numer,t)
t.push("divided by")
f(e.value.denom,t)
c(e.value.rightDelim,"close",t)
t.push("end fraction")}else{t.push("start binomial")
c(e.value.leftDelim,"open",t)
f(e.value.numer,t)
t.push("over")
f(e.value.denom,t)
c(e.value.rightDelim,"close",t)
t.push("end binomial")}})},katex:function M(e,t){t.push("KaTeX")},leftright:function _(e,t){h(t,function(t){c(e.value.left,"open",t)
f(e.value.body,t)
c(e.value.right,"close",t)})},llap:function N(e,t){f(e.value.body,t)},mathord:function I(e,t){f(e.value,t)},op:function R(e,t){c(e.value.body,"normal",t)},open:function O(e,t){c(e.value,"open",t)},ordgroup:function A(e,t){f(e.value,t)},overline:function D(e,t){h(t,function(t){t.push("start overline")
f(e.value.body,t)
t.push("end overline")})},phantom:function L(e,t){t.push("empty space")},punct:function F(e,t){c(e.value,"punct",t)},rel:function q(e,t){c(e.value,"rel",t)},rlap:function B(e,t){f(e.value.body,t)},rule:function z(e,t){t.push("rule")},sizing:function U(e,t){f(e.value.value,t)},spacing:function H(e,t){t.push("space")},styling:function W(e,t){f(e.value.value,t)},sqrt:function V(e,t){h(t,function(t){if(e.value.index){t.push("root")
t.push("start index")
f(e.value.index,t)
t.push("end index")}t.push("square root of")
f(e.value.body,t)
t.push("end square root")})},supsub:function G(e,t){e.value.base&&f(e.value.base,t)
e.value.sub&&h(t,function(t){t.push("start subscript")
f(e.value.sub,t)
t.push("end subscript")})
var r=e.value.sup
if(r){var i=o[r]
var a=r.value
!i&&a&&(i="object"===("undefined"===typeof a?"undefined":n(a))&&1===a.length?o[a[0].value]:o[a])
h(t,function(t){if(i){t.push(i)
return}t.push("start superscript")
f(e.value.sup,t)
t.push("end superscript")})}},text:function j(e,t){"string"!==typeof e.value?f(e.value.body,t):c(e,"normal",t)},textord:function Y(e,t){f(e.value,t)}}
var f=function K(e,t){t=t||[]
if("string"===typeof e)c(e,"normal",t)
else if(e.constructor===Array)for(var r=0;r<e.length;r++)K(e[r],t)
else{if(!(e.type&&e.type in d))throw"KaTeX a11y un-recognized type: "+e.type
d[e.type](e,t)}return t}
var v=function X(e,t){var r=t.ownerDocument
for(var n=0;n<e.length;n++){var i=e[n]
n>0&&t.appendChild(r.createTextNode(", "))
if("string"===typeof i)t.appendChild(r.createTextNode(i))
else{var a=r.createElement("span")
t.appendChild(a)
X(i,a)}}}
var m=function Q(e,t){t||(t=[])
for(var r=0;r<e.length;r++){var n=e[r]
"string"===typeof n?t.push(n):Q(n,t)}return t}
var g=function Z(e){return katex.__parse(e)}
var y=function J(e,t){var r=g(e)
var n=f(r)
v(n,t)}
var b=function et(e){var t=g(e)
var r=f(t)
return i.flatten(r).join(", ")}
true?e.exports={render:y,renderString:b,parseMath:g}:(void 0).katexA11yRender=y},function(e,t,r){var n=function(e){return e===Object(e)}
var i=function(){var e={}
for(var t=0;t<arguments.length;t++){var r=arguments[t]
if(r){for(var n in r){e[n]=r[n]}}}return e}
var a=function(e){if(!n(e)){return e}return Array.isArray(e)?e.slice():i(e)}
e.exports={isObject:n,merge:i,clone:a}},function(e,t,r){var n=function(e,t){return e[t]}
var i=function(e,t,r){var n=e.splice()
n[t]=r
return n}
var a=function(e,t,r){var n=e.slice()
n[t]=r(e[t])
return n}
var o=function(e,t){var r=e.slice()
r.splice(t,1)
return r}
e.exports={get:n,set:i,mod:a,del:o}},function(e,t,r){var n=r(95).clone
var i=function(e,t){return e[t]}
var a=function(e,t,r){var i=n(e)
i[t]=r
return i}
var o=function(e,t,r){var i=n(e)
i[t]=r(e[t])
return i}
var s=function(e,t){var r=n(e)
delete r[t]
return r}
e.exports={get:i,set:a,mod:o,del:s}},function(e,t,r){var n=function(e,t){return e[t]}
var i=function(e,t,r){var n=e.splice()
n[t]=r
return n}
var a=function(e,t,r){var n=e.splice()
n[t]=r(e[t])
return n}
var o=function(e,t){var r=e.slice()
r.splice(t)
return r}
e.exports={get:n,set:i,mod:a,del:o}},function(e,t,r){"use strict"
var n=r(122)
var i=r(11)
var a={getUserInput:function o(){return i.omit(this.props,n)}}
e.exports=a},function(e,t,r){"use strict"
var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]
for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}
var i=r(130)
var a=r(131)
var o=r(132)
var s=r(133)
var l=r(103)
var p={MovablePoint:a,addMovablePoint:function u(e,t){var r=new i(e,{})
return new a(e,r,t)},MovableLine:o,addMovableLine:function c(e,t){var r=new i(e,{})
return new o(e,r,t)},MovablePolygon:s,addMovablePolygon:function h(e,t){var r=new i(e,{})
return new s(e,r,t)},addMaybeMobileMovablePoint:function d(e,t){var r=e.props.apiOptions.isMobile
var i=r?{stroke:"#ffffff","stroke-width":3,fill:l.INTERACTIVE}:{stroke:l.INTERACTIVE,fill:l.INTERACTIVE}
var a=Object.assign(i,t.normalStyle)
var o=Object.assign(r?n({},i,{"stroke-width":0,scale:.75}):{},t.highlightStyle)
var s=Object.assign({normalStyle:a,highlightStyle:o,shadow:r,tooltip:r&&e.props.showTooltips,showHairlines:e.showHairlines,hideHairlines:e.hideHairlines},r?{pointSize:7}:{})
return p.addMovablePoint(e.graphie,Object.assign(t,s))}}
e.exports=p},function(e,t,r){"use strict"
var n=r(12)
var i=r(13)
var a=r(11)
var o=r(134)
var s=r(15).css
var l=n.createClass({displayName:"ButtonGroup",propTypes:{value:n.PropTypes.any,buttons:n.PropTypes.arrayOf(n.PropTypes.shape({value:n.PropTypes.any.isRequired,content:n.PropTypes.node,title:n.PropTypes.string})).isRequired,onChange:n.PropTypes.func.isRequired,allowEmpty:n.PropTypes.bool},getDefaultProps:function p(){return{value:null,allowEmpty:true}},render:function u(){var e=this
var t=this.props.value
var r=a(this.props.buttons).map(function(r,i){return n.createElement("button",{title:r.title,type:"button",id:""+i,ref:"button"+i,key:""+i,className:s(o.button.buttonStyle,r.value===t&&o.button.selectedStyle),onClick:e.toggleSelect.bind(e,r.value)},r.content||""+r.value)})
var i={display:"inline-block"}
return n.createElement("div",{style:i},r)},focus:function c(){i.findDOMNode(this).focus()
return true},toggleSelect:function h(e){var t=this.props.value
this.props.allowEmpty?this.props.onChange(t!==e?e:null):this.props.onChange(e)}})
e.exports=l},function(e,t,r){"use strict"
var n=r(11)
var i=r(111)
var a=r(135)
var o=r(129).point
var s=r(129).vector
var l=r(81)
var p={thickness:2,mouselayer:false}
var u=function c(e,t,r,i){i=n.extend({},p,i)
var a=[e.range[0][0],0]
var s=[e.range[0][1],0]
n.extend(this,e.fixedLine(a,s,i.thickness))
this.visibleShape.attr(i.normalStyle)
n.extend(this,{graphie:e,initialPoint:e.scalePoint(a),initialLength:o.distanceToPoint(e.scalePoint(a),e.scalePoint(s))})
i.mouselayer?this.graphie.addToMouseLayerWrapper(this.wrapper):this.graphie.addToVisibleLayerWrapper(this.wrapper)
this.moveTo(t,r)}
n.extend(u.prototype,a,{getMouseTarget:function h(){return this.wrapper},moveTo:function d(e,t){var r=this.graphie.scalePoint(e)
var n=this.graphie.scalePoint(t)
var a=s.polarDegFromCart(s.subtract(n,r))
var o=a[0]
var p=l.bound(a[1])
var u=s.subtract(r,this.initialPoint)
var c=l.bound(o/this.initialLength)
var h=i.getCanUse3dTransform()
var d="translateX("+u[0]+"px) translateY("+u[1]+"px) "+(h?" translateZ(0)":"")+"rotate("+p+"deg) scaleX("+c+") scaleY(1)"
this.transform(d)}})
e.exports=u},function(e,t,r){"use strict"
var n={BLUE:"#6495ED",ORANGE:"#FFA500",PINK:"#FF00AF",GREEN:"#28AE7B",PURPLE:"#9D38BD",RED:"#DF0030",GRAY:"gray",BLACK:"black",LIGHT_BLUE:"#9AB8ED",LIGHT_ORANGE:"#EDD19B",LIGHT_PINK:"#ED9BD3",LIGHT_GREEN:"#9BEDCE",LIGHT_PURPLE:"#DA9BED",LIGHT_RED:"#ED9AAC",LIGHT_GRAY:"#ED9B9B",LIGHT_BLACK:"#ED9B9B",GRAY10:"#D6D6D6",GRAY20:"#CDCDCD",GRAY30:"#B3B3B3",GRAY40:"#9A9A9A",GRAY50:"#808080",GRAY60:"#666666",GRAY70:"#4D4D4D",GRAY80:"#333333",GRAY90:"#1A1A1A",BLUE_A:"#CCFAFF",BLUE_B:"#80F6FF",BLUE_C:"#63D9EA",BLUE_D:"#11ACCD",BLUE_E:"#0C7F99",TEAL_A:"#94FFF5",TEAL_B:"#26EDD5",TEAL_C:"#01D1C1",TEAL_D:"#01A995",TEAL_E:"#208170",GREEN_A:"#B6FFB0",GREEN_B:"#8AF281",GREEN_C:"#74CF70",GREEN_D:"#1FAB54",GREEN_E:"#0D923F",GOLD_A:"#FFD0A9",GOLD_B:"#FFBB71",GOLD_C:"#FF9C39",GOLD_D:"#E07D10",GOLD_E:"#A75A05",RED_A:"#FCA9A9",RED_B:"#FF8482",RED_C:"#F9685D",RED_D:"#E84D39",RED_E:"#BC2612",MAROON_A:"#FFBDE0",MAROON_B:"#FF92C6",MAROON_C:"#ED5FA6",MAROON_D:"#CA337C",MAROON_E:"#9E034E",PURPLE_A:"#DDD7FF",PURPLE_B:"#C6B9FC",PURPLE_C:"#AA87FF",PURPLE_D:"#7854AB",PURPLE_E:"#543B78",MINT_A:"#F5F9E8",MINT_B:"#EDF2DF",MINT_C:"#E0E5CC",GRAY_A:"#F6F7F7",GRAY_B:"#F0F1F2",GRAY_C:"#E3E5E6",GRAY_D:"#D6D8DA",GRAY_E:"#BABEC2",GRAY_F:"#888D93",GRAY_G:"#626569",GRAY_H:"#3B3E40",GRAY_I:"#21242C",KA_BLUE:"#314453",KA_GREEN:"#71B307",_BACKGROUND:"#FDFDFD"}
n.INTERACTING=n.KA_GREEN
n.INTERACTIVE=n.KA_GREEN
n.DYNAMIC=n.BLUE
e.exports=n},function(e,t,r){"use strict"
var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]
for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}
var i=r(12)
var a=r(19).Options
var o=r(84)
var s=r(87),l=s.iconStar,p=s.iconTryAgain
var u=r(38),c=u.boldFontFamily,h=u.gray68,d=u.gray76,f=u.gray85,v=u.gray95,m=u.kaGreen,g=u.phoneMargin,y=u.negativePhoneMargin
var b={HIDDEN:Symbol("HIDDEN"),ACTIVE:Symbol("ACTIVE"),INACTIVE:Symbol("INACTIVE"),INCORRECT:Symbol("INCORRECT"),CORRECT:Symbol("CORRECT")}
var T=i.createClass({displayName:"GradedGroupAnswerBar",propTypes:{answerBarState:i.PropTypes.any.isRequired,apiOptions:a.propTypes,onCheckAnswer:i.PropTypes.func.isRequired,onNextQuestion:i.PropTypes.func},render:function E(){var e=this.props,t=e.apiOptions,r=e.answerBarState,a=e.onCheckAnswer,s=e.onNextQuestion
var u=n({},P.answerBar,{backgroundColor:r===b.CORRECT?v:"white",justifyContent:r!==b.CORRECT||s?"space-between":"center"})
var c=n({},P.button,{backgroundColor:r===b.ACTIVE||r===b.CORRECT?m:f})
var d=n({},P.text,{color:r===b.CORRECT?m:h})
var g=r===b.INCORRECT?i.createElement("span",{style:d},i.createElement("span",{style:P.tryAgainIcon},i.createElement(o,p)),i.createElement("span",{style:{marginLeft:8}},i18n._("Keep trying"))):i.createElement("span",null)
if(r!==b.CORRECT){var y=r===b.INCORRECT?i18n._("Try again"):i18n._("Check")
return i.createElement("div",{style:u},g,i.createElement("button",{style:c,disabled:t.readOnly||r!==b.ACTIVE,onClick:a},y))}return i.createElement("div",{style:u},i.createElement("span",{style:d},i.createElement("span",{style:{fontSize:28,color:"#FFB300"}},i.createElement(o,n({},l,{style:{marginBottom:5}}))),i.createElement("span",{style:{marginLeft:8}},i18n._("Correct!"))),s&&i.createElement("button",{style:c,onClick:s},i18n._("Next question")))}})
var x=17
var P={answerBar:{display:"flex",alignItems:"center",height:68,marginLeft:y,marginRight:y,marginBottom:y,marginTop:g,paddingLeft:g,paddingRight:10,borderTop:"1px solid "+d},button:{height:48,width:143,borderRadius:4,color:"white",fontFamily:c,fontSize:x,border:"none"},tryAgainIcon:{fontSize:28,color:"#63D9EA",transform:"scale(-1,1) rotate(-268deg)"},text:{display:"flex",flexDirection:"row",alignItems:"center",fontFamily:c,fontSize:x}}
T.ANSWER_BAR_STATES=b
e.exports=T},function(e,t,r){"use strict"
var n=r(12)
var i=r(13)
var a=r(11)
var o=r(18)
var s=r(108)
var l=r(38),p=l.interactiveSizes
var u=r(34)
var c={url:null}
var h={fontStyle:"italic",fontWeight:"bold",fontSize:"32px",width:"100%",height:"100%",textAlign:"center",backgroundColor:"white",position:"absolute",zIndex:1,transition:"opacity .25s ease-in-out","-moz-transition":"opacity .25s ease-in-out","-webkit-transition":"opacity .25s ease-in-out"}
var d={position:"relative",top:"25%"}
function f(e,t){return Math.floor((e[1]-e[0])/t)}var v=n.createClass({displayName:"Graph",propTypes:{box:n.PropTypes.array.isRequired,labels:n.PropTypes.arrayOf(n.PropTypes.string),range:n.PropTypes.arrayOf(n.PropTypes.arrayOf(n.PropTypes.number)),step:n.PropTypes.arrayOf(n.PropTypes.number),gridStep:n.PropTypes.arrayOf(n.PropTypes.number),snapStep:n.PropTypes.arrayOf(n.PropTypes.number),markings:n.PropTypes.string,backgroundImage:n.PropTypes.shape({url:n.PropTypes.string}),showProtractor:n.PropTypes.bool,showRuler:n.PropTypes.bool,rulerLabel:n.PropTypes.string,rulerTicks:n.PropTypes.number,onGraphieUpdated:n.PropTypes.func,instructions:n.PropTypes.string,onClick:n.PropTypes.func,setDrawingAreaAvailable:n.PropTypes.func,isMobile:n.PropTypes.bool},getDefaultProps:function m(){return{labels:["x","y"],range:[[-10,10],[-10,10]],step:[1,1],gridStep:[1,1],snapStep:[.5,.5],markings:"graph",backgroundImage:c,showProtractor:false,showRuler:false,rulerLabel:"",rulerTicks:10,instructions:null,onGraphieUpdated:null,onClick:null,onMouseDown:null,isMobile:false}},render:function g(){var e
var t=this.props.backgroundImage
if(t.url){var r=this.props.box[0]/p.defaultBoxSize
e=n.createElement(u,{src:t.url,width:t.width,height:t.height,scale:r,responsive:false})}else e=null
return n.createElement("div",{className:"graphie-container above-scratchpad",style:{width:this.props.box[0],height:this.props.box[1]},onMouseOut:this.onMouseOut,onMouseOver:this.onMouseOver,onClick:this.onClick},e,n.createElement("div",{className:"graphie",ref:"graphieDiv"}))},componentDidMount:function y(){this._setupGraphie(true)},componentDidUpdate:function b(){this._hasSetupGraphieThisUpdate=false
if(this._shouldSetupGraphie){this._setupGraphie(false)
this._shouldSetupGraphie=false}},componentWillReceiveProps:function T(e){var t=["labels","range","step","markings","showProtractor","showRuler","rulerLabel","rulerTicks","gridStep","snapStep"]
var r=this
a.each(t,function(t){a.isEqual(r.props[t],e[t])||(r._shouldSetupGraphie=true)})},reset:function x(){this._setupGraphie(false)},graphie:function P(){return this._graphie},pointsFromNormalized:function E(e,t){var r=this
return a.map(e,function(e){return a.map(e,function(e,n){var i=r.props.range[n]
if(t)return i[0]+(i[1]-i[0])*e
var a=r.props.step[n]
var o=f(i,a)
var s=Math.round(e*o)
return i[0]+a*s})})},_setupGraphie:function w(e){if(this._hasSetupGraphieThisUpdate)return
var t=i.findDOMNode(this.refs.graphieDiv)
$(t).empty()
var r=this.props.labels
var n=this.props.range
var o=this._graphie=s.createGraphie(t)
var l=this._getGridConfig()
o.snap=this.props.snapStep
if("graph"===this.props.markings){o.graphInit({range:n,scale:a.pluck(l,"scale"),axisArrows:"<->",labelFormat:function y(e){return"\\small{"+e+"}"},gridStep:this.props.gridStep,tickStep:a.pluck(l,"tickStep"),labelStep:1,unityLabels:a.pluck(l,"unityLabel"),isMobile:this.props.isMobile})
o.label([0,n[1][1]],r[1],this.props.isMobile?"below right":"above")
o.label([n[0][1],0],r[0],this.props.isMobile?"above left":"right")}else"grid"===this.props.markings?o.graphInit({range:n,scale:a.pluck(l,"scale"),gridStep:this.props.gridStep,axes:false,ticks:false,labels:false,isMobile:this.props.isMobile}):"none"===this.props.markings&&o.init({range:n,scale:a.pluck(l,"scale"),isMobile:this.props.isMobile})
var p=.5
var u=0
var c
if(this.props.instructions){var c=$("<div/>")
a.each(h,function(e,t){c.css(t,e)})
c.css("opacity",p)
var f=$("<span/>",{text:this.props.instructions})
a.each(d,function(e,t){f.css(t,e)})
c.append(f)
$(t).append(c)}else c=void 0
var v=c||this.props.onMouseDown?a.bind(function(e){if(c){c.remove()
c=null}this.props.onMouseDown(e)},this):null
var m=c?function(){c&&c.css("opacity",u)}:null
var g=c?function(){c&&c.css("opacity",p)}:null
o.addMouseLayer({onClick:this.props.onClick,onMouseDown:v,onMouseOver:m,onMouseOut:g,onMouseUp:this.props.onMouseUp,onMouseMove:this.props.onMouseMove,allowScratchpad:true,setDrawingAreaAvailable:this.props.setDrawingAreaAvailable})
this._updateProtractor()
this._updateRuler()
this._hasSetupGraphieThisUpdate=true
!e&&this.props.onGraphieUpdated&&this.props.onGraphieUpdated(o)},_getGridConfig:function k(){var e=this
return a.map(e.props.step,function(t,r){return o.gridDimensionConfig(t,e.props.range[r],e.props.box[r],e.props.gridStep[r])})},_updateProtractor:function S(){this.protractor&&this.protractor.remove()
if(this.props.showProtractor){var e=this.pointsFromNormalized([[.5,.05]])[0]
this.protractor=this._graphie.protractor(e)}},_updateRuler:function C(){this.ruler&&this.ruler.remove()
if(this.props.showRuler){var e=this.pointsFromNormalized([[.5,.25]])[0]
var t=this._graphie.range[0][1]-this._graphie.range[0][0]
this.ruler=this._graphie.ruler({center:e,label:this.props.rulerLabel,pixelsPerUnit:this._graphie.scale[0],ticksPerUnit:this.props.rulerTicks,units:Math.round(.8*t)})}},toJSON:function M(){return a.pick(this.props,"range","step","markings","labels","backgroundImage","showProtractor","showRuler","rulerLabel","rulerTicks","gridStep","snapStep")}})
e.exports=v},function(e,t,r){"use strict"
var n=r(12)
var i=r(136)
var a=n.createClass({displayName:"InfoTip",getInitialState:function o(){return{didMount:false}},componentDidMount:function s(){this.setState({didMount:true})},render:function l(){return this.state.didMount?n.createElement(i,this.props):n.createElement("div",null)}})
e.exports=a},function(e,t,r){"use strict"
var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]
for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}
var i=r(14)
var a=r(12)
var o=r(13)
var s=r(11)
var l=r(18).firstNumericalParse
var p=r(18).captureScratchpadTouchStart
var u=r(129).number
var c=r(81)
var h=c.toNumericString
var d=c.getNumericFormat
var f=a.createClass({displayName:"NumberInput",propTypes:{value:a.PropTypes.number,format:a.PropTypes.string,placeholder:a.PropTypes.oneOfType([a.PropTypes.string,a.PropTypes.number]),onChange:a.PropTypes.func.isRequired,onFormatChange:a.PropTypes.func,checkValidity:a.PropTypes.func,size:a.PropTypes.string,label:a.PropTypes.oneOf(["put your labels outside your inputs!"])},getDefaultProps:function v(){return{value:null,placeholder:null,format:null,onFormatChange:function e(){return null},checkValidity:function t(){return true},useArrowKeys:false}},getInitialState:function m(){return{format:this.props.format}},render:function g(){var e=i({"number-input":true,"invalid-input":!this._checkValidity(this.props.value),mini:"mini"===this.props.size,small:"small"===this.props.size,normal:"normal"===this.props.size})
null!=this.props.className&&(e=e+" "+this.props.className)
return a.createElement("input",n({},this.props,{className:e,type:"text",ref:"input",onChange:this._handleChange,onFocus:this._handleFocus,onBlur:this._handleBlur,onKeyPress:this._handleBlur,onKeyDown:this._onKeyDown,onTouchStart:p,defaultValue:h(this.props.value,this.state.format),value:void 0}))},componentDidUpdate:function y(e){u.equal(this.getValue(),this.props.value)||this._setValue(this.props.value,this.state.format)},getValue:function b(){return this.parseInputValue(o.findDOMNode(this.refs.input).value)},getStringValue:function T(){return o.findDOMNode(this.refs.input).value.toString()},parseInputValue:function x(e){if(""===e){var t=this.props.placeholder
return s.isFinite(t)?+t:null}var r=l(e)
return s.isFinite(r)?r:this.props.value},focus:function P(){o.findDOMNode(this.refs.input).focus()
this._handleFocus()},blur:function E(){o.findDOMNode(this.refs.input).blur()
this._handleBlur()},setSelectionRange:function w(e,t){o.findDOMNode(this).setSelectionRange(e,t)},getSelectionStart:function k(){return o.findDOMNode(this).selectionStart},getSelectionEnd:function S(){return o.findDOMNode(this).selectionEnd},_checkValidity:function C(e){if(null==e)return true
var t=l(e)
var r=this.props.checkValidity
return s.isFinite(t)&&r(t)},_handleChange:function M(e){var t=e.target.value
var r=this.parseInputValue(t)
var n=d(t)
this.props.onChange(r)
if(n){this.props.onFormatChange(r,n)
this.setState({format:n})}},_handleFocus:function _(){this.props.onFocus&&this.props.onFocus()},_handleBlur:function N(e){if(e&&"keypress"===e.type&&13!==e.keyCode)return
this._setValue(this.props.value,this.state.format)
this.props.onBlur&&this.props.onBlur()},_onKeyDown:function I(e){this.props.onKeyDown&&this.props.onKeyDown(e)
if(!this.props.useArrowKeys||!s.contains(["ArrowUp","ArrowDown"],e.key))return
var t=this.getValue()
if(t!==Math.floor(t))return
"ArrowUp"===e.key?t+=1:"ArrowDown"===e.key&&(t-=1)
this._checkValidity(t)&&this.props.onChange(t)},_setValue:function R(e,t){$(o.findDOMNode(this.refs.input)).val(h(e,t))}})
e.exports=f},function(e,t,r){"use strict"
var n=r(137)
r(138)
e.exports=n},function(e,t,r){"use strict"
var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]
for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}
var i=r(12)
var a=r(13)
var o=i.createClass({displayName:"TextInput",propTypes:{value:i.PropTypes.string,onChange:i.PropTypes.func.isRequired,className:i.PropTypes.string,labelText:i.PropTypes.string,onFocus:i.PropTypes.func,onBlur:i.PropTypes.func,disabled:i.PropTypes.bool},getDefaultProps:function s(){return{value:"",disabled:false}},render:function l(){var e=this
return i.createElement("input",n({},this.props,{type:"text",disabled:this.props.disabled,"aria-label":this.props.labelText,onChange:function t(r){return e.props.onChange(r.target.value)}}))},focus:function p(){a.findDOMNode(this).focus()},blur:function u(){a.findDOMNode(this).blur()},getValue:function c(){return a.findDOMNode(this).value},getStringValue:function h(){return a.findDOMNode(this).value.toString()},setSelectionRange:function d(e,t){a.findDOMNode(this).setSelectionRange(e,t)},getSelectionStart:function f(){return a.findDOMNode(this).selectionStart},getSelectionEnd:function v(){return a.findDOMNode(this).selectionEnd}})
e.exports=o},function(e,t,r){"use strict"
var n=r(12)
var i=r(13)
var a=r(11)
var o=r(40)
var s=r(19).ClassNames
var l=r(82)
var p=r(79).modifyTex
var u=n.createClass({displayName:"MathOutput",propTypes:{value:n.PropTypes.oneOfType([n.PropTypes.string,n.PropTypes.number]),className:n.PropTypes.string,labelText:n.PropTypes.string,onFocus:n.PropTypes.func,onBlur:n.PropTypes.func},getDefaultProps:function c(){return{value:"",onFocus:function e(){},onBlur:function t(){}}},getInitialState:function h(){return{focused:false,selectorNamespace:a.uniqueId("math-output")}},_getInputClassName:function d(){var e="math-output "+s.INPUT+" "+s.INTERACTIVE
this.state.focused&&(e+=" "+s.FOCUSED)
this.props.className&&(e+=" "+this.props.className)
return e},_getDisplayValue:function f(e){var t
t=null!=e?""+e:""
return p(t)},render:function v(){var e={textAlign:"center"}
return n.createElement("span",{ref:"input",className:this._getInputClassName(),"aria-label":this.props.labelText,onMouseDown:this.focus,onTouchStart:this.focus},n.createElement("div",{style:e},n.createElement(o,null,this._getDisplayValue(this.props.value))))},getValue:function m(){return this.props.value},focus:function g(){if(!this.state.focused){this.props.onFocus()
this._bindBlurHandler()
this.setState({focused:true})}},blur:function y(){if(this.state.focused){this.props.onBlur()
this._unbindBlurHandler()
this.setState({focused:false})}},_bindBlurHandler:function b(){var e=this
$(document).bind("vclick."+this.state.selectorNamespace,function(t){var r=$(t.target).closest(i.findDOMNode(e))
r.length||e.blur()})},_unbindBlurHandler:function T(){$(document).unbind("."+this.state.selectorNamespace)},componentWillUnmount:function x(){this._unbindBlurHandler()}})
e.exports=u},function(e,t,r){"use strict"
var n=r(11)
var i=r(139)
var a=null
function o(){var e=document.createElement("div")
var t=["transform","msTransform","MozTransform","WebkitTransform","OTransform"]
var r=null
n.each(t,function(t){"undefined"!==typeof e.style[t]&&(r=t)})
return r}var s=null
function l(){var e=document.createElement("div")
var t=p.getPrefixedTransform()
e.style[t]="translateZ(0px)"
return!!e.style[t]}var p={assert:function u(e,t){if(!e)throw new Error("Assertion Error"+(t?": "+t:""))},createGettersFor:function c(e,t){n.each(n.keys(t),function(t){void 0===e.prototype[t]&&(e.prototype[t]=function(){return this.state[t]})})},addMovableHelperMethodsTo:function h(e){n.each(i,function(t,r){void 0===e.prototype[r]&&(e.prototype[r]=t)})},arrayify:function d(e){return null==e?[]:n.isArray(e)?n.filter(n.flatten(e),n.identity):[e]},normalizeOptions:function f(e,t){var r=n.clone(t)
n.each(e,function(e){var n=t[e]
if(void 0!==n){var i=p.arrayify(n)
r[e]=i}})
return r},getPrefixedTransform:function v(){a=a||o()
return a},getCanUse3dTransform:function m(){null==s&&(s=l())
return s}}
e.exports=p},function(e,t,r){"use strict"
var n=r(12)
var i=r(13)
var a=r(11)
var o=r(18)
var s=r(9)
var l=r(19).ClassNames
var p="perseus-sortable"
var u=n.createClass({displayName:"Placeholder",propTypes:{width:n.PropTypes.number.isRequired,height:n.PropTypes.number.isRequired},render:function b(){var e=[p+"-card",p+"-placeholder"].join(" ")
var t={width:this.props.width,height:this.props.height}
null!=this.props.margin&&(t.margin=this.props.margin)
return n.createElement("li",{className:e,style:t})}})
var c="static",h="dragging",d="animating",f="disabled"
var v=n.createClass({displayName:"Draggable",propTypes:{type:n.PropTypes.oneOf([c,h,d,f]),content:n.PropTypes.string.isRequired,endPosition:n.PropTypes.object.isRequired,onRender:n.PropTypes.func.isRequired,onMouseDown:n.PropTypes.func.isRequired,onMouseMove:n.PropTypes.func.isRequired,onMouseUp:n.PropTypes.func.isRequired,onAnimationEnd:n.PropTypes.func.isRequired},getDefaultProps:function T(){return{type:c}},getInitialState:function x(){return{startPosition:{left:0,top:0},startMouse:{left:0,top:0},mouse:{left:0,top:0}}},componentDidMount:function P(){this.isMouseMoveUpBound=false},componentWillUnmount:function E(){this.isMouseMoveUpBound&&this.unbindMouseMoveUp()},getCurrentPosition:function w(){return{left:this.state.startPosition.left+this.state.mouse.left-this.state.startMouse.left,top:this.state.startPosition.top+this.state.mouse.top-this.state.startMouse.top}},render:function k(){var e=[p+"-card",p+"-draggable",p+"-"+this.props.type,l.INTERACTIVE].join(" ")
var t={position:"static"}
this.props.type!==h&&this.props.type!==d||a.extend(t,{position:"absolute"},this.getCurrentPosition())
this.props.width&&(t.width=this.props.width+1)
this.props.height&&(t.height=this.props.height)
null!=this.props.margin&&(t.margin=this.props.margin)
return n.createElement("li",{className:e,style:t,onMouseDown:this.onMouseDown,onTouchStart:this.onMouseDown,onTouchMove:this.onMouseMove,onTouchEnd:this.onMouseUp,onTouchCancel:this.onMouseUp},n.createElement(s,{content:this.props.content,onRender:this.props.onRender}))},componentDidUpdate:function S(e){if(this.props.type===e.type)return
if(this.props.type===d){var t=this.getCurrentPosition()
var r=15*Math.sqrt(Math.sqrt(Math.pow(this.props.endPosition.left-t.left,2)+Math.pow(this.props.endPosition.top-t.top,2)))
$(i.findDOMNode(this)).animate(this.props.endPosition,{duration:Math.max(r,1),complete:this.props.onAnimationEnd})}else this.props.type===c&&$(i.findDOMNode(this)).finish()},bindMouseMoveUp:function C(){this.isMouseMoveUpBound=true
$(document).on("mousemove",this.onMouseMove)
$(document).on("mouseup",this.onMouseUp)},unbindMouseMoveUp:function M(){this.isMouseMoveUpBound=false
$(document).off("mousemove",this.onMouseMove)
$(document).off("mouseup",this.onMouseUp)},onMouseDown:function _(e){if(this.props.type!==c)return
if(!(0===e.button||null!=e.touches&&1===e.touches.length))return
e.preventDefault()
var t=o.extractPointerLocation(e)
t&&this.setState({startPosition:$(i.findDOMNode(this)).position(),startMouse:t,mouse:t},function(){this.bindMouseMoveUp()
this.props.onMouseDown()})},onMouseMove:function N(e){if(this.props.type!==h)return
e.preventDefault()
var t=o.extractPointerLocation(e)
t&&this.setState({mouse:t},this.props.onMouseMove)},onMouseUp:function I(e){if(this.props.type!==h)return
e.preventDefault()
var t=o.extractPointerLocation(e)
if(t){this.unbindMouseMoveUp()
this.props.onMouseUp()}}})
var m="horizontal",g="vertical"
var y=n.createClass({displayName:"Sortable",propTypes:{options:n.PropTypes.array.isRequired,layout:n.PropTypes.oneOf([m,g]),padding:n.PropTypes.bool,disabled:n.PropTypes.bool,constraints:n.PropTypes.object,onMeasure:n.PropTypes.func,margin:n.PropTypes.number,onChange:n.PropTypes.func},getDefaultProps:function R(){return{layout:m,padding:true,disabled:false,constraints:{},onMeasure:function e(){},margin:5,onChange:function t(){}}},getInitialState:function O(){return{items:this.itemsFromProps(this.props)}},componentWillReceiveProps:function A(e){var t=this.props
a.isEqual(e.options,t.options)?e.layout===t.layout&&e.padding===t.padding&&e.disabled===t.disabled&&a.isEqual(e.constraints,t.constraints)||this.setState({items:this.clearItemMeasurements(this.state.items)}):this.setState({items:this.itemsFromProps(e)})},componentDidUpdate:function D(e){this.state.items.length&&!this.state.items[0].width&&this.measureItems()},itemsFromProps:function L(e){var t=e.disabled?f:c
return a.map(e.options,function(e,r){return{option:e,key:r,type:t,endPosition:{},width:0,height:0}})},clearItemMeasurements:function F(e){return a.map(e,function(e){return a.extend(e,{width:0,height:0})})},measureItems:function q(){var e=this
var t=a.clone(this.state.items)
var r=a.map(t,function(e){return $(i.findDOMNode(this.refs[e.key]))},this)
var n=a.invoke(r,"outerWidth")
var o=a.invoke(r,"outerHeight")
var s=this.props.constraints
var l=this.props.layout
var p
s.width?p=a.max(n.concat(s.width)):l===g&&(p=a.max(n))
var u
s.height?u=a.max(o.concat(s.height)):l===m&&(u=a.max(o))
t=a.map(t,function(e,t){e.width=p||n[t]
e.height=u||o[t]
return e})
this.setState({items:t},function(){e.props.onMeasure({widths:n,heights:o})})},remeasureItems:a.debounce(function(){this.setState({items:this.clearItemMeasurements(this.state.items)},this.measureItems)},20),render:function B(){var e=[p,"layout-"+this.props.layout].join(" ")
var t=[]
e+=this.props.padding?"":" unpadded"
a.each(this.state.items,function(e,r,i){var a=r===i.length-1
var o=e.type===c||e.type===f
var s
this.props.layout===m?s="0 "+this.props.margin+"px 0 0":this.props.layout===g&&(s="0 0 "+this.props.margin+"px 0")
t.push(n.createElement(v,{content:e.option,key:e.key,type:e.type,ref:e.key,width:e.width,height:e.height,margin:a&&o?0:s,endPosition:e.endPosition,onRender:this.remeasureItems,onMouseDown:this.onMouseDown.bind(this,e.key),onMouseMove:this.onMouseMove.bind(this,e.key),onMouseUp:this.onMouseUp.bind(this,e.key),onTouchMove:this.onMouseMove.bind(this,e.key),onTouchEnd:this.onMouseUp.bind(this,e.key),onTouchCancel:this.onMouseUp.bind(this,e.key),onAnimationEnd:this.onAnimationEnd.bind(this,e.key)}))
e.type!==h&&e.type!==d||t.push(n.createElement(u,{key:"placeholder_"+e.key,ref:"placeholder_"+e.key,width:e.width,height:e.height,margin:a?0:s}))},this)
return n.createElement("ul",{className:e},t)},onMouseDown:function z(e){var t=a.map(this.state.items,function(t){t.key===e&&(t.type=h)
return t})
this.setState({items:t})},onMouseMove:function U(e){var t=$(i.findDOMNode(this.refs[e]))
var r=$(i.findDOMNode(this))
var n=a.clone(this.state.items)
var o=a.findWhere(this.state.items,{key:e})
var s=this.props.margin
var l=a.indexOf(n,o)
var p=0
n.splice(l,1)
if(this.props.layout===m){var u=t.offset().left-r.offset().left
var c=0
var h
a.each(n,function(e){h=e.width
u>c+h/2&&(p+=1)
c+=h+s})}else{var d=t.offset().top-r.offset().top
var f=0
var v
a.each(n,function(e){v=e.height
d>f+v/2&&(p+=1)
f+=v+s})}if(p!==l){n.splice(p,0,o)
this.setState({items:n})}},onMouseUp:function H(e){var t=a.map(this.state.items,function(t){if(t.key===e){t.type=d
t.endPosition=$(i.findDOMNode(this.refs["placeholder_"+e])).position()}return t},this)
this.setState({items:t})
this.props.onChange({})},onAnimationEnd:function W(e){var t=a.map(this.state.items,function(t){t.key===e&&(t.type=c)
return t})
this.setState({items:t})},getOptions:function V(){return a.pluck(this.state.items,"option")}})
e.exports=y},function(e,t,r){"use strict"
function n(e){this.order=l(e)
this.mantissa=s(e)
this.positive=o(e)
this.sigFigs=this.mantissa.length
this.sigDecs=this.order-this.mantissa.length}function i(e,t,r,n){var i=""+e
var u=l(i)
var c=s(i)
var h=o(i)
var d
var f
var v
var m=false
if(0==e||""==c||"0"==c){c=""
for(E=0;E<t;E++)c+="0"
u=t+r
r<0&&-r>=t&&(m=true)}else{f=u-c.length-r
v=t-c.length
d=Math.min(v,f)
if(d<0){var g=p(c,-d)
if(g.length>c.length+d){u++
f>v&&(g=p(g,1))}c=g}else if(d>0)for(E=0;E<d;E++)c+="0"
if(""==c||"0"==c){c="0"
h=true
u=1+r
0!=u&&(m=true)}}var y=n||c.length>20||u>4||u<-2||u-c.length>0&&a(c)>0||m
var b=""
h||(b+="-")
if(y){b+=c.charAt(0)
c.length>1&&(b+="."+c.substring(1,c.length))
u-1!=0&&(b+=" x 10^"+(u-1))}else{var T=""
var x=""
var P=true
if(u>0)if(c.length>u){T=c.substring(0,u)
x=c.substring(u,c.length)}else{T=c
P=0!=a(c)
for(var E=0;E<u-c.length;E++)T+="0"}else{for(E=0;E<-u;E++)x+="0"
x+=c}b+=(""==T?"0":T)+(P?".":"")+x}return b}function a(e){var t=0
for(var r=e.length-1;r>=0;r--){var n=e.charAt(r)
if("0"!=n)return t
t++}return t}function o(e){var t=true
var r=false
var n=false
var i=""
var a=""
var o=""
var s=0
var l=0
var p=true
for(var u=0;u<e.length;u++){var c=e.charAt(u)
if(c>="1"&&c<="9"){o+=i+c
i=""
n=true
if(!r){l++
s++}t=false}else if("0"==c){if(r)if(n){o+=i+c
i=""}else{a+=c
s--}else{l++
if(n){a+=c
s++
i+=c}else a+=c}t=false}else if(r||"."!=c)if("e"==c||"E"==c&&u+1<e.length){var h=parseInt(e.substring(u+1,e.length))
s+=h
l+=h
u=e.length}else!t||"+"!=c&&"-"!=c||"-"==c&&(p=!p)
else{o+=i
i=""
r=true
t=false}}return""==o?true:p}function s(e){var t=true
var r=false
var n=false
var i=""
var a=""
var o=""
var s=0
var l=0
var p=true
for(var u=0;u<e.length;u++){var c=e.charAt(u)
if(c>="1"&&c<="9"){o+=i+c
i=""
n=true
if(!r){l++
s++}t=false}else if("0"==c){if(r)if(n){o+=i+c
i=""}else{a+=c
s--}else{l++
if(n){a+=c
s++
i+=c}else a+=c}t=false}else if(r||"."!=c)if("e"==c||"E"==c&&u+1<e.length){var h=parseInt(e.substring(u+1,e.length))
s+=h
l+=h
u=e.length}else!t||"+"!=c&&"-"!=c||"-"==c&&(p=!p)
else{o+=i
i=""
r=true
t=false}}return""==o?a:o}function l(e){var t=true
var r=false
var n=false
var i=""
var a=""
var o=""
var s=0
var l=0
var p=true
for(var u=0;u<e.length;u++){var c=e.charAt(u)
if(c>="1"&&c<="9"){o+=i+c
i=""
n=true
if(!r){l++
s++}t=false}else if("0"==c){if(r)if(n){o+=i+c
i=""}else{a+=c
s--}else{l++
if(n){a+=c
s++
i+=c}else a+=c}t=false}else if(r||"."!=c)if("e"==c||"E"==c&&u+1<e.length){var h=parseInt(e.substring(u+1,e.length))
s+=h
l+=h
u=e.length}else!t||"+"!=c&&"-"!=c||"-"==c&&(p=!p)
else{o+=i
i=""
r=true
t=false}}return""==o?l:s}function p(e,t){var r=e.length-t-1
if(r<0)return""
if(r>=e.length-1)return e
var n=e.charAt(r+1)
var i=e.charAt(r)
var a=false
if(n>"5")a=true
else if("5"==n){for(var o=r+2;o<e.length;o++)"0"!=e.charAt(o)&&(a=true)
i%2==1&&(a=true)}var s=""
for(var l=r;l>=0;l--){var p=e.charAt(l)
if(a){var u
if("9"==p)u="0"
else{switch(p){case"0":u="1"
break
case"1":u="2"
break
case"2":u="3"
break
case"3":u="4"
break
case"4":u="5"
break
case"5":u="6"
break
case"6":u="7"
break
case"7":u="8"
break
case"8":u="9"}a=false}s=u+s}else s=p+s}a&&(s="1"+s)
return s}e.exports={SignificantFigures:n,displaySigFigs:i}},function(e,t,r){"use strict"
var n=r(12)
var i=r(13)
var a=r(11)
var o={}
function s(e){if(!o[e]){var t=$("<span>").text(e).appendTo("body")
o[e]=t.width()+5
t.remove()}return o[e]}var l=n.createClass({displayName:"TextListEditor",propTypes:{options:n.PropTypes.array,layout:n.PropTypes.string,onChange:n.PropTypes.func.isRequired},getDefaultProps:function p(){return{options:[],layout:"horizontal"}},getInitialState:function u(){return{items:this.props.options.concat("")}},componentWillReceiveProps:function c(e){this.setState({items:e.options.concat("")})},render:function h(){var e=["perseus-text-list-editor","perseus-clearfix","layout-"+this.props.layout].join(" ")
var t=a.map(this.state.items,function(e,t){return n.createElement("li",{key:t},n.createElement("input",{ref:"input_"+t,type:"text",value:e,onChange:this.onChange.bind(this,t),onKeyDown:this.onKeyDown.bind(this,t),style:{width:s(e)}}))},this)
return n.createElement("ul",{className:e},t)},onChange:function d(e,t){var r=a.clone(this.state.items)
r[e]=t.target.value
e===r.length-1&&(r=r.concat(""))
this.setState({items:r})
this.props.onChange(a.compact(r))},onKeyDown:function f(e,t){var r=t.nativeEvent.keyCode
if(8===r&&""===this.state.items[e]){t.preventDefault()
var n=a.clone(this.state.items)
var o=0===e?0:e-1
if(e!==n.length-1||0!==e&&""===n[o]){n.splice(e,1)
this.setState({items:n},function(){i.findDOMNode(this.refs["input_"+o]).focus()})}else i.findDOMNode(this.refs["input_"+o]).focus()}else if(8===r&&1===this.state.items[e].length&&e===this.state.items.length-2){t.preventDefault()
var n=a.clone(this.state.items)
n.splice(e,1)
this.setState({items:n})
this.props.onChange(a.compact(n))}else if(13===r){t.preventDefault()
var n=a.clone(this.state.items)
var o=e+1
if(e===n.length-2)i.findDOMNode(this.refs["input_"+o]).focus()
else{n.splice(o,0,"")
this.setState({items:n},function(){i.findDOMNode(this.refs["input_"+o]).focus()})}}}})
e.exports=l},function(e,t,r){(function(t){(function(){var r=/\r\n?/g
var n=/\t/g
var i=/\f/g
var a=function(e){return e.replace(r,"\n").replace(i,"").replace(n,"    ")}
var o=function(e){var t=Object.keys(e)
t.sort(function(t,r){var n=e[t].order
var i=e[r].order
if(n!==i){return n-i}else if(t<r){return-1}else if(t>r){return 1}else{return 0}})
var r=function(n,i){var a=[]
i=i||{}
var o=""
while(n){var s=0
while(s<t.length){var l=t[s]
var p=e[l]
var u
if(p.match){u=p.match(n,i,o)}else{u=p.regex.exec(n)}if(u){var c=u[0]
n=n.substring(c.length)
var h=p.parse(u,r,i)
if(h.type==null){h.type=l}a.push(h)
o=c
break}s++}if(s===t.length){throw new Error("could not find rule to match content: "+n)}}return a}
var n=function(e,t){return r(a(e),t)}
return n}
var s=function(e){var t=function(t,r){if(r.inline){return e.exec(t)}else{return null}}
t.regex=e
return t}
var l=function(e){var t=function(t,r){if(r.inline){return null}else{return e.exec(t)}}
t.regex=e
return t}
var p=function(e){var t=function(t,r){return e.exec(t)}
t.regex=e
return t}
var u=function(e){var t=function(r,n){n=n||{}
if(Array.isArray(r)){var i=n.key
var a=[]
var o=false
for(var s=0;s<r.length;s++){n.key=s
var l=t(r[s],n)
var p=typeof l==="string"
if(p&&o){a[a.length-1]+=l}else{a.push(l)}o=p}n.key=i
return a}else{return e(r,t,n)}}
return t}
var c=function(e){var t=function(r,n){n=n||{}
if(Array.isArray(r)){return r.map(function(e){return t(e,n)}).join("")}else{return e(r,t,n)}}
return t}
var h=typeof Symbol==="function"&&Symbol.for&&Symbol.for("react.element")||60103
var d=function(e){e._store={validated:true,originalProps:e.props}
return e}
var f=function(e,t,r,n){r=r||{}
n=typeof n!=="undefined"?n:true
var i=""
for(var a in r){if(Object.prototype.hasOwnProperty.call(r,a)&&r[a]){i+=" "+a+'="'+r[a]+'"'}}var o="<"+e+i+">"
if(n){return o+t+"</"+e+">"}else{return o}}
var v={}
var m=function(e){if(e==null){return null}try{var t=decodeURIComponent(e).replace(/[^A-Za-z0-9\/:]/g,"").toLowerCase()
if(t.indexOf("javascript:")===0){return null}}catch(r){return null}return e}
var g=function(e,t,r){var n=r.inline||false
r.inline=true
var i=e(t,r)
r.inline=n
return i}
var y=function(e,t,r){var n=r.inline||false
r.inline=false
var i=e(t+"\n\n",r)
r.inline=n
return i}
var b=function(e,t,r){return{content:g(t,e[1],r)}}
var T=function(){return{}}
var x="(?:[*+-]|\\d+\\.)"
var P="( *)("+x+") +"
var E=new RegExp("^"+P)
var w=new RegExp(P+"[^\\n]*(?:\\n"+"(?!\\1"+x+" )[^\\n]*)*(\n|$)","gm")
var k=/\n{2,}$/
var S=k
var C=/ *\n+$/
var M=new RegExp("^( *)("+x+") "+"[\\s\\S]+?(?:\n{2,}(?! )"+"(?!\\1"+x+" )\\n*"+"|\\s*\n*$)")
var _=/^$|\n *$/
var N=function(){var e=/^ *| *\| *$/g
var t=/^ *|\| *$/g
var r=/(?: *\| *)?\n$/
var n=/\n$/
var i=/^ *\| *| *\| *$/g
var a=/ *\| */
var o=/^ *-+: *$/
var s=/^ *:-+: *$/
var l=/^ *:-+ *$/
var p=function(e){if(o.test(e)){return"right"}else if(s.test(e)){return"center"}else if(l.test(e)){return"left"}else{return null}}
var u=function(t,r,n){var i=t[1].replace(e,"").split(a)
return i.map(function(e){return r(e,n)})}
var c=function(e,r,n){var i=e[2].replace(t,"").split(a)
return i.map(p)}
var h=function(e,t,n){var o=e[3].replace(r,"").split("\n")
return o.map(function(e){var r=e.replace(i,"").split(a)
return r.map(function(e){return t(e,n)})})}
var d=function(e,t,r){var i=e[3].replace(n,"").split("\n")
return i.map(function(e){var n=e.split(a)
return n.map(function(e){return t(e,r)})})}
var f=function(e,t,r){r.inline=true
var n=u(e,t,r)
var i=c(e,t,r)
var a=h(e,t,r)
r.inline=false
return{type:"table",header:n,align:i,cells:a}}
var v=function(e,t,r){r.inline=true
var n=u(e,t,r)
var i=c(e,t,r)
var a=d(e,t,r)
r.inline=false
return{type:"table",header:n,align:i,cells:a}}
return{parseTable:f,parseNpTable:v,NPTABLE_REGEX:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/}}()
var I="(?:\\[[^\\]]*\\]|[^\\]]|\\](?=[^\\[]*\\]))*"
var R="\\s*<?([^\\s]*?)>?(?:\\s+['\"]([\\s\\S]*?)['\"])?\\s*"
var O=/mailto:/i
var A=function(e,t,r){var n=(e[2]||e[1]).replace(/\s+/g," ").toLowerCase()
if(t._defs&&t._defs[n]){var i=t._defs[n]
r.target=i.target
r.title=i.title}t._refs=t._refs||{}
t._refs[n]=t._refs[n]||[]
t._refs[n].push(r)
return r}
var D={heading:{match:l(/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n *)+\n/),parse:function(e,t,r){return{level:e[1].length,content:g(t,e[2],r)}},react:function(e,t,r){return d({type:"h"+e.level,key:r.key,props:{children:t(e.content,r)},$$typeof:h,_store:null})},html:function(e,t,r){return f("h"+e.level,t(e.content,r))}},nptable:{match:l(N.NPTABLE_REGEX),regex:N.NPTABLE_REGEX,parse:N.parseNpTable},lheading:{match:l(/^([^\n]+)\n *(=|-){3,} *(?:\n *)+\n/),parse:function(e,t,r){return{type:"heading",level:e[2]==="="?1:2,content:g(t,e[1],r)}}},hr:{match:l(/^( *[-*_]){3,} *(?:\n *)+\n/),parse:T,react:function(e,t,r){return d({type:"hr",key:r.key,props:v,$$typeof:h,_store:null})},html:function(e,t,r){return"<hr>"}},codeBlock:{match:l(/^(?:    [^\n]+\n*)+(?:\n *)+\n/),parse:function(e,t,r){var n=e[0].replace(/^    /gm,"").replace(/\n+$/,"")
return{lang:undefined,content:n}},react:function(e,t,r){var n=e.lang?"markdown-code-"+e.lang:undefined
return d({type:"pre",key:r.key,props:{children:d({type:"code",props:{className:n,children:e.content},$$typeof:h,_store:null})},$$typeof:h,_store:null})},html:function(e,t,r){var n=e.lang?"markdown-code-"+e.lang:undefined
var i=f("code",e.content,{"class":n})
return f("pre",i)}},fence:{match:l(/^ *(`{3,}|~{3,}) *(\S+)? *\n([\s\S]+?)\s*\1 *(?:\n *)+\n/),parse:function(e,t,r){return{type:"codeBlock",lang:e[2]||undefined,content:e[3]}}},blockQuote:{match:l(/^( *>[^\n]+(\n[^\n]+)*\n*)+\n{2,}/),parse:function(e,t,r){var n=e[0].replace(/^ *> ?/gm,"")
return{content:t(n,r)}},react:function(e,t,r){return d({type:"blockquote",key:r.key,props:{children:t(e.content,r)},$$typeof:h,_store:null})},html:function(e,t,r){return f("blockquote",t(e.content,r))}},list:{match:function(e,t,r){var n=_.test(r)
var i=t._list||!t.inline
if(n&&i){return M.exec(e)}else{return null}},parse:function(e,t,r){var n=e[2]
var i=n.length>1
var a=i?+n:undefined
var o=e[0].replace(S,"\n").match(w)
var s=false
var l=o.map(function(e,n){var i=E.exec(e)[0].length
var a=new RegExp("^ {1,"+i+"}","gm")
var l=e.replace(a,"").replace(E,"")
var p=n===o.length-1
var u=l.indexOf("\n\n")!==-1
var c=u||p&&s
s=c
var h=r.inline
var d=r._list
r._list=true
var f
if(c){r.inline=false
f=l.replace(C,"\n\n")}else{r.inline=true
f=l.replace(C,"")}var v=t(f,r)
r.inline=h
r._list=d
return v})
return{ordered:i,start:a,items:l}},react:function(e,t,r){var n=e.ordered?"ol":"ul"
return d({type:n,key:r.key,props:{start:e.start,children:e.items.map(function(e,n){return d({type:"li",key:n,props:{children:t(e,r)},$$typeof:h,_store:null})})},$$typeof:h,_store:null})},html:function(e,t,r){var n=e.items.map(function(e){return f("li",t(e,r))}).join("")
var i=e.ordered?"ol":"ul"
var a={start:e.start}
return f(i,n,a)}},def:{match:l(/^ *\[([^\]]+)\]: *<?([^\s>]*)>?(?: +["(]([^\n]+)[")])? *\n(?: *\n)?/),parse:function(e,t,r){var n=e[1].replace(/\s+/g," ").toLowerCase()
var i=e[2]
var a=e[3]
if(r._refs&&r._refs[n]){r._refs[n].forEach(function(e){e.target=i
e.title=a})}r._defs=r._defs||{}
r._defs[n]={target:i,title:a}
return{def:n,target:i,title:a}},react:function(){return null},html:function(){return null}},table:{match:l(/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/),parse:N.parseTable,react:function(e,t,r){var n=function(t){return e.align[t]==null?{}:{textAlign:e.align[t]}}
var i=e.header.map(function(e,i){return d({type:"th",key:i,props:{style:n(i),children:t(e,r)},$$typeof:h,_store:null})})
var a=e.cells.map(function(e,i){return d({type:"tr",key:i,props:{children:e.map(function(e,i){return d({type:"td",key:i,props:{style:n(i),children:t(e,r)},$$typeof:h,_store:null})})},$$typeof:h,_store:null})})
return d({type:"table",key:r.key,props:{children:[d({type:"thead",key:"thead",props:{children:d({type:"tr",props:{children:i},$$typeof:h,_store:null})},$$typeof:h,_store:null}),d({type:"tbody",key:"tbody",props:{children:a},$$typeof:h,_store:null})]},$$typeof:h,_store:null})},html:function(e,t,r){var n=function(t){return e.align[t]==null?"":"text-align:"+e.align[t]+";"}
var i=e.header.map(function(e,i){return f("th",t(e,r),{style:n(i)})}).join("")
var a=e.cells.map(function(e){var i=e.map(function(e,i){return f("td",t(e,r),{style:n(i)})}).join("")
return f("tr",i)}).join("")
var o=f("thead",f("tr",i))
var s=f("tbody",a)
return f("table",o+s)}},newline:{match:l(/^(?:\n *)*\n/),parse:T,react:function(e,t,r){return"\n"},html:function(e,t,r){return"\n"}},paragraph:{match:l(/^((?:[^\n]|\n(?! *\n))+)(?:\n *)+\n/),parse:b,react:function(e,t,r){return d({type:"div",key:r.key,props:{className:"paragraph",children:t(e.content,r)},$$typeof:h,_store:null})},html:function(e,t,r){var n={"class":"paragraph"}
return f("div",t(e.content,r),n)}},escape:{match:s(/^\\([^0-9A-Za-z\s])/),parse:function(e,t,r){return{type:"text",content:e[1]}}},autolink:{match:s(/^<([^ >]+:\/[^ >]+)>/),parse:function(e,t,r){return{type:"link",content:[{type:"text",content:e[1]}],target:e[1]}}},mailto:{match:s(/^<([^ >]+@[^ >]+)>/),parse:function(e,t,r){var n=e[1]
var i=e[1]
if(!O.test(i)){i="mailto:"+i}return{type:"link",content:[{type:"text",content:n}],target:i}}},url:{match:s(/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/),parse:function(e,t,r){return{type:"link",content:[{type:"text",content:e[1]}],target:e[1],title:undefined}}},link:{match:s(new RegExp("^\\[("+I+")\\]\\("+R+"\\)")),parse:function(e,t,r){var n={content:t(e[1],r),target:e[2],title:e[3]}
return n},react:function(e,t,r){return d({type:"a",key:r.key,props:{href:m(e.target),title:e.title,children:t(e.content,r)},$$typeof:h,_store:null})},html:function(e,t,r){var n={href:m(e.target),title:e.title}
return f("a",t(e.content,r),n)}},image:{match:s(new RegExp("^!\\[("+I+")\\]\\("+R+"\\)")),parse:function(e,t,r){var n={alt:e[1],target:e[2],title:e[3]}
return n},react:function(e,t,r){return d({type:"img",key:r.key,props:{src:m(e.target),alt:e.alt,title:e.title},$$typeof:h,_store:null})},html:function(e,t,r){var n={src:m(e.target),alt:e.alt,title:e.title}
return f("img","",n,false)}},reflink:{match:s(new RegExp("^\\[("+I+")\\]"+"\\s*\\[([^\\]]*)\\]")),parse:function(e,t,r){return A(e,r,{type:"link",content:t(e[1],r)})}},refimage:{match:s(new RegExp("^!\\[("+I+")\\]"+"\\s*\\[([^\\]]*)\\]")),parse:function(e,t,r){return A(e,r,{type:"image",alt:e[1]})}},strong:{match:s(/^\*\*([\s\S]+?)\*\*(?!\*)/),parse:b,react:function(e,t,r){return d({type:"strong",key:r.key,props:{children:t(e.content,r)},$$typeof:h,_store:null})},html:function(e,t,r){return f("strong",t(e.content,r))}},u:{match:s(/^__([\s\S]+?)__(?!_)/),parse:b,react:function(e,t,r){return d({type:"u",key:r.key,props:{children:t(e.content,r)},$$typeof:h,_store:null})},html:function(e,t,r){return f("u",t(e.content,r))}},em:{match:s(new RegExp("^\\b_"+"((?:__|[\\s\\S])+?)_"+"\\b"+"|"+"^\\*(?=\\S)("+"(?:\\*\\*|\\s+[^\\*\\s]|[^\\s\\*])*?"+"[^\\s\\*])\\*(?!\\*)")),parse:function(e,t,r){return{content:t(e[2]||e[1],r)}},react:function(e,t,r){return d({type:"em",key:r.key,props:{children:t(e.content,r)},$$typeof:h,_store:null})},html:function(e,t,r){return f("em",t(e.content,r))}},del:{match:s(/^~~(?=\S)([\s\S]*?\S)~~/),parse:b,react:function(e,t,r){return d({type:"del",key:r.key,props:{children:t(e.content,r)},$$typeof:h,_store:null})},html:function(e,t,r){return f("del",t(e.content,r))}},inlineCode:{match:s(/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/),parse:function(e,t,r){return{content:e[2]}},react:function(e,t,r){return d({type:"code",key:r.key,props:{children:e.content},$$typeof:h,_store:null})},html:function(e,t,r){return f("code",e.content)}},br:{match:p(/^ {2,}\n/),parse:T,react:function(e,t,r){return d({type:"br",key:r.key,props:v,$$typeof:h,_store:null})},html:function(e,t,r){return"<br>"}},text:{match:s(/^[\s\S]+?(?=[^0-9A-Za-z\s\u00ff-\uffff]|\n\n| {2,}\n|\w+:\S|$)/),parse:function(e,t,r){return{content:e[0]}},react:function(e,t,r){return e.content},html:function(e,t,r){return e.content}}}
Object.keys(D).forEach(function(e,t){D[e].order=t})
var L=function(e,t){if(!t&&typeof console!=="undefined"){console.warn("simple-markdown ruleOutput should take 'react' or "+"'html' as the second argument.")}t=t||"react"
var r=function(r,n,i){return e[r.type][t](r,n,i)}
return r}
var F=o(D)
var q=function(e){return F(e+"\n\n",{inline:false})}
var B=function(e){return F(e,{inline:true})}
var z=function(e){return F(e,{inline:!k.test(e)})}
var U=u(L(D,"react"))
var H=c(L(D,"html"))
var W={defaultRules:D,parserFor:o,ruleOutput:L,reactFor:u,htmlFor:c,inlineRegex:s,blockRegex:l,anyScopeRegex:p,parseInline:g,parseBlock:y,defaultRawParse:F,defaultBlockParse:q,defaultInlineParse:B,defaultImplicitParse:z,defaultReactOutput:U,defaultHtmlOutput:H,preprocess:a,sanitizeUrl:m,defaultParse:z,outputFor:u,defaultOutput:U}
if(typeof e!=="undefined"&&e.exports){e.exports=W}else if(typeof t!=="undefined"){t.SimpleMarkdown=W}else{window.SimpleMarkdown=W}})()}).call(t,function(){return this}())},function(e,t,r){"use strict"
e.exports={KeypadTypes:{FRACTION:"FRACTION",EXPRESSION:"EXPRESSION"},KeyTypes:{EMPTY:"EMPTY",VALUE:"VALUE",OPERATOR:"OPERATOR",INPUT_NAVIGATION:"INPUT_NAVIGATION",KEYPAD_NAVIGATION:"KEYPAD_NAVIGATION",MANY:"MANY",ECHO:"ECHO"},DeviceOrientations:{LANDSCAPE:"LANDSCAPE",PORTRAIT:"PORTRAIT"},DeviceTypes:{PHONE:"PHONE",TABLET:"TABLET"},LayoutModes:{FULLSCREEN:"FULLSCREEN",COMPACT:"COMPACT"},BorderDirections:{LEFT:"LEFT",BOTTOM:"BOTTOM"},BorderStyles:{LEFT:["LEFT"],BOTTOM:["BOTTOM"],ALL:["LEFT","BOTTOM"],NONE:[]},IconTypes:{MATH:"MATH",SVG:"SVG",TEXT:"TEXT"},DecimalSeparators:{COMMA:"COMMA",PERIOD:"PERIOD"},EchoAnimationTypes:{SLIDE_AND_FADE:"SLIDE_AND_FADE",FADE_ONLY:"FADE_ONLY",LONG_FADE_ONLY:"LONG_FADE_ONLY"}}},function(e,t,r){"use strict"
var n=r(11)
var i=r(18)
var a=r(89)
var o=a.Plot
var s=r(129).point
var l={url:null}
function p(e){var t=e[0]
var r=e[1]
var n=e[2]
var i=e[3]
if(t<0){t*=-1
r*=-1
n*=-1}var a=2*Math.PI
if(r<0){r*=-1
n*=-1
n+=a/2}while(n>0)n-=a
while(n<0)n+=a
return[t,r,n,i]}function u(e){var t=e[0]
var r=e[1]
var n=e[2]
var i=e[3]
if(t<0){t*=-1
r*=-1
n*=-1}var a=Math.PI
if(r<0){r*=-1
n*=-1
n+=a/2}while(n>0)n-=a
while(n<0)n+=a
return[t,r,n,i]}var c={areEqual:function k(e,t){return i.deepEq(e,t)},Movable:o,getPropsForCoeffs:function S(e){return{fn:n.partial(this.getFunctionForCoeffs,e)}}}
var h=n.extend({},c,{url:"https://ka-perseus-graphie.s3.amazonaws.com/67aaf581e6d9ef9038c10558a1f70ac21c11c9f8.png",defaultCoords:[[.25,.75],[.75,.75]],getCoefficients:function C(e){var t=e[0]
var r=e[1]
var n=r[0]-t[0]
var i=r[1]-t[1]
if(0===n)return
var a=i/n
var o=r[1]-a*r[0]
return[a,o]},getFunctionForCoeffs:function M(e,t){var r=e[0],n=e[1]
return r*t+n},getEquationString:function _(e){var t=this.getCoefficients(e)
var r=t[0],n=t[1]
return"y = "+r.toFixed(3)+"x + "+n.toFixed(3)}})
var d=n.extend({},c,{url:"https://ka-perseus-graphie.s3.amazonaws.com/e23d36e6fc29ee37174e92c9daba2a66677128ab.png",defaultCoords:[[.5,.5],[.75,.75]],Movable:a.Parabola,getCoefficients:function N(e){var t=e[0]
var r=e[1]
var n=t[0]
var i=t[1]
var a=(r[1]-i)/((r[0]-n)*(r[0]-n))
var o=-2*n*a
var s=a*n*n+i
return[a,o,s]},getFunctionForCoeffs:function I(e,t){var r=e[0],n=e[1],i=e[2]
return(r*t+n)*t+i},getPropsForCoeffs:function R(e){return{a:e[0],b:e[1],c:e[2]}},getEquationString:function O(e){var t=this.getCoefficients(e)
var r=t[0],n=t[1],i=t[2]
return"y = "+r.toFixed(3)+"x^2 + "+n.toFixed(3)+"x + "+i.toFixed(3)}})
var f=n.extend({},c,{url:"https://ka-perseus-graphie.s3.amazonaws.com/3d68e7718498475f53b206c2ab285626baf8857e.png",defaultCoords:[[.5,.5],[.6,.6]],Movable:a.Sinusoid,getCoefficients:function A(e){var t=e[0]
var r=e[1]
var n=r[1]-t[1]
var i=Math.PI/(2*(r[0]-t[0]))
var a=t[0]*i
var o=t[1]
return[n,i,a,o]},getFunctionForCoeffs:function D(e,t){var r=e[0],n=e[1],i=e[2],a=e[3]
return r*Math.sin(n*t-i)+a},getPropsForCoeffs:function L(e){return{a:e[0],b:e[1],c:e[2],d:e[3]}},getEquationString:function F(e){var t=this.getCoefficients(e)
var r=t[0],n=t[1],i=t[2],a=t[3]
return"y = "+r.toFixed(3)+" sin("+n.toFixed(3)+"x - "+i.toFixed(3)+") + "+a.toFixed(3)},areEqual:function q(e,t){return i.deepEq(p(e),p(t))}})
var v=n.extend({},c,{url:"https://ka-perseus-graphie.s3.amazonaws.com/7db80d23c35214f98659fe1cf0765811c1bbfbba.png",defaultCoords:[[.5,.5],[.75,.75]],getCoefficients:function B(e){var t=e[0]
var r=e[1]
var n=r[1]-t[1]
var i=Math.PI/(4*(r[0]-t[0]))
var a=t[0]*i
var o=t[1]
return[n,i,a,o]},getFunctionForCoeffs:function z(e,t){var r=e[0],n=e[1],i=e[2],a=e[3]
return r*Math.tan(n*t-i)+a},getEquationString:function U(e){var t=this.getCoefficients(e)
var r=t[0],n=t[1],i=t[2],a=t[3]
return"y = "+r.toFixed(3)+" sin("+n.toFixed(3)+"x - "+i.toFixed(3)+") + "+a.toFixed(3)},areEqual:function H(e,t){return i.deepEq(u(e),u(t))}})
var m=n.extend({},c,{url:"https://ka-perseus-graphie.s3.amazonaws.com/9cbfad55525e3ce755a31a631b074670a5dad611.png",defaultCoords:[[.5,.55],[.75,.75]],defaultAsymptote:[[0,.5],[1,.5]],extraCoordConstraint:function W(e,t,r,i,a){var o=n.head(i)[1]
return n.all(r,function(e){return e[1]!==o})},extraAsymptoteConstraint:function V(e,t,r,i,a){var o=e[1]
var s=n.all(r,function(e){return e[1]>o})||n.all(r,function(e){return e[1]<o})
if(s)return[t[0],o]
var l=t[1]
var p=n.all(r,function(e){return e[1]>l})
if(p){var u=n.min(n.map(r,function(e){return e[1]}))
return[t[0],u-a.snapStep[1]]}var c=n.max(n.map(r,function(e){return e[1]}))
return[t[0],c+a.snapStep[1]]},allowReflectOverAsymptote:true,getCoefficients:function G(e,t){var r=e[0]
var i=e[1]
var a=n.head(t)[1]
var o=Math.log((r[1]-a)/(i[1]-a))/(r[0]-i[0])
var s=(r[1]-a)/Math.exp(o*r[0])
return[s,o,a]},getFunctionForCoeffs:function j(e,t){var r=e[0],n=e[1],i=e[2]
return r*Math.exp(n*t)+i},getEquationString:function Y(e,t){if(!t)return null
var r=this.getCoefficients(e,t)
var n=r[0],i=r[1],a=r[2]
return"y = "+n.toFixed(3)+"e^("+i.toFixed(3)+"x) + "+a.toFixed(3)}})
var g=n.extend({},c,{url:"https://ka-perseus-graphie.s3.amazonaws.com/f6491e99d34af34d924bfe0231728ad912068dc3.png",defaultCoords:[[.55,.5],[.75,.75]],defaultAsymptote:[[.5,0],[.5,1]],extraCoordConstraint:function K(e,t,r,i,a){var o=n.head(i)[0]
return n.all(r,function(e){return e[0]!==o})&&r[0][1]!==r[1][1]},extraAsymptoteConstraint:function X(e,t,r,i,a){var o=e[0]
var s=n.all(r,function(e){return e[0]>o})||n.all(r,function(e){return e[0]<o})
if(s)return[o,t[1]]
var l=t[0]
var p=n.all(r,function(e){return e[0]>l})
if(p){var u=n.min(n.map(r,function(e){return e[0]}))
return[u-a.snapStep[0],t[1]]}var c=n.max(n.map(r,function(e){return e[0]}))
return[c+a.snapStep[0],t[1]]},allowReflectOverAsymptote:true,getCoefficients:function Q(e,t){var r=function l(e){return[e[1],e[0]]}
var i=m.getCoefficients(n.map(e,r),n.map(t,r))
var a=-i[2]/i[0]
var o=1/i[0]
var s=1/i[1]
return[s,o,a]},getFunctionForCoeffs:function Z(e,t,r){var n=e[0],i=e[1],a=e[2]
return n*Math.log(i*t+a)},getEquationString:function J(e,t){if(!t)return null
var r=this.getCoefficients(e,t)
var n=r[0],i=r[1],a=r[2]
return"y = ln("+n.toFixed(3)+"x + "+i.toFixed(3)+") + "+a.toFixed(3)}})
var y=n.extend({},c,{url:"https://ka-perseus-graphie.s3.amazonaws.com/8256a630175a0cb1d11de223d6de0266daf98721.png",defaultCoords:[[.5,.5],[.75,.75]],getCoefficients:function et(e){var t=e[0]
var r=e[1]
var n=r[0]-t[0]
var i=r[1]-t[1]
if(0===n)return
var a=Math.abs(i/n)
r[1]<t[1]&&(a*=-1)
var o=t[0]
var s=t[1]
return[a,o,s]},getFunctionForCoeffs:function tt(e,t){var r=e[0],n=e[1],i=e[2]
return r*Math.abs(t-n)+i},getEquationString:function rt(e){var t=this.getCoefficients(e)
var r=t[0],n=t[1],i=t[2]
return"y = "+r.toFixed(3)+"| x - "+n.toFixed(3)+"| + "+i.toFixed(3)}})
var b={linear:h,quadratic:d,sinusoid:f,tangent:v,exponential:m,logarithm:g,absolute_value:y}
var T=n.keys(b)
function x(e){return b[e]}var P={validate:function nt(e,t){if(e.type!==t.correct.type)return{type:"points",earned:0,total:1,message:null}
if(null==e.coords)return{type:"invalid",message:null}
var r=x(e.type)
var n=r.getCoefficients(e.coords,e.asymptote)
var i=r.getCoefficients(t.correct.coords,t.correct.asymptote)
return null==n||null==i?{type:"invalid",message:null}:r.areEqual(n,i)?{type:"points",earned:1,total:1,message:null}:{type:"points",earned:0,total:1,message:null}},getEquationString:function it(e){var t=e.plot
if(t.type&&t.coords){var r=x(t.type)
var n=r.getEquationString(t.coords,t.asymptote)
return n||""}return""},pointsFromNormalized:function at(e,t,r,i){var a=function o(e,t){return Math.floor((e[1]-e[0])/t)}
return n.map(e,function(e){var o=n.map(e,function(e,n){var i=t[n]
var o=r[n]
var s=a(i,o)
var l=Math.round(e*s)
return i[0]+o*l})
return s.roundTo(o,i)})},maybePointsFromNormalized:function ot(e,t,r,n){return e?this.pointsFromNormalized(e,t,r,n):e},defaultPlotProps:function st(e,t){var r=x(e)
var n=[1,1]
var a=i.snapStepFromGridStep(n)
return{type:e,asymptote:this.maybePointsFromNormalized(r.defaultAsymptote,t.range,t.step,a),coords:null}},chooseType:n.first,getGridAndSnapSteps:function lt(e,t){var r=e.gridStep||i.getGridStep(e.range,e.step,t)
var n=e.snapStep||i.snapStepFromGridStep(r)
return{gridStep:r,snapStep:n}}}
var E={}
E.graph={labels:["x","y"],range:[[-10,10],[-10,10]],step:[1,1],backgroundImage:l,markings:"graph",rulerLabel:"",rulerTicks:10,valid:true,showTooltips:false}
E.plot=P.defaultPlotProps("linear",E.graph)
E.availableTypes=[E.plot.type]
function w(e){var t=e.charAt(0).toUpperCase()+e.substring(1)
return{value:e,title:t,content:React.createElement("img",{src:x(e).url,alt:t})}}e.exports={GrapherUtil:P,allTypes:T,typeToButton:w,functionForType:x,DEFAULT_GRAPHER_PROPS:E,DEFAULT_BACKGROUND_IMAGE:l}},function(e,t,r){"use strict"
function n(e,t){if(null===t.value)return
e.fillStyle=h.fgColor
e.font=h.font
e.fillText(t.value,t.pos[0]-h.fontSizePx/2+1,t.pos[1]+h.fontSizePx/2)}function i(e,t){var r=new Path2D
e.lineWidth=5*h.lineWidth
e.strokeStyle=h.fgColor
r.moveTo(t.startPos[0],t.startPos[1])
r.lineTo(t.endPos[0],t.endPos[1])
e.stroke(r)
r=new Path2D
e.lineWidth=3*h.lineWidth
e.strokeStyle=h.bgColor
r.moveTo(t.startPos[0],t.startPos[1])
r.lineTo(t.endPos[0],t.endPos[1])
e.stroke(r)}function a(e,t){var r=new Path2D
e.lineWidth=7*h.lineWidth
e.strokeStyle=h.fgColor
r.moveTo(t.startPos[0],t.startPos[1])
r.lineTo(t.endPos[0],t.endPos[1])
e.stroke(r)
r=new Path2D
e.lineWidth=5*h.lineWidth
e.strokeStyle=h.bgColor
r.moveTo(t.startPos[0],t.startPos[1])
r.lineTo(t.endPos[0],t.endPos[1])
e.stroke(r)
o(e,t)}function o(e,t){var r=new Path2D
e.lineWidth=h.lineWidth
e.strokeStyle=h.fgColor
r.moveTo(t.startPos[0],t.startPos[1])
r.lineTo(t.endPos[0],t.endPos[1])
e.stroke(r)}var s={text:n,"line:single":o,"line:double":i,"line:triple":a}
function l(e){return function(t){s[t.type](e,t)}}var p={"line:single":0,"line:double":0,"line:triple":0,text:1}
function u(e,t){return p[e.type]-p[t.type]}function c(e,t){t.sort(u).forEach(l(e))}var h={bgColor:"rgb(255, 255, 255)",fgColor:"rgb(0, 0, 0)",fontSizePx:12,lineWidth:1}
h.font=h.fontSizePx+"px sans"
e.exports=c},function(e,t,r){"use strict"
var n=30
function i(e,t,r){var n=e[0]
var i=e[1]
return[n+Math.cos(2*t*Math.PI/360)*r,i+-1*Math.sin(2*t*Math.PI/360)*r]}function a(e,t,r,a){var o=e.symbol
"C"===o&&1!==Object.keys(t).length&&(o=null)
if("1,0"===e.idx){var s=[0,0]
e.pos=s
e.baseAngle=-30+a
return{type:"text",value:o,pos:s,idx:e.idx}}var l=t[e.connections.find(function(e){return t[e].pos})]
var p=l.connections.indexOf(e.idx)
var u=60
var c=120
if(4===l.connections.length){c=90
u=90}else if(r.find(function(t){return"triple"===t.bondType&&t.to===e.idx})||r.find(function(e){return"triple"===e.bondType&&e.to===l.idx})){c=0
u=0}var h=0
var d=l.idx.split(":")
var f=d[d.length-1].split(",")[0]
h=parseInt(f)%2!==0?l.baseAngle-(u-c*p):l.baseAngle+(u-c*p)
var v=i(l.pos,h,n)
e.pos=v
e.baseAngle=h
return{type:"text",value:o,pos:v,idx:e.idx}}function o(e,t){var r=.25
var n=[e.pos[0],e.pos[1]]
var i=[t.pos[0],t.pos[1]]
"C"!==e.symbol&&(n=[t.pos[0]-(1-r)*(t.pos[0]-e.pos[0]),t.pos[1]-(1-r)*(t.pos[1]-e.pos[1])])
"C"!==t.symbol&&(i=[e.pos[0]-(1-r)*(e.pos[0]-t.pos[0]),e.pos[1]-(1-r)*(e.pos[1]-t.pos[1])])
return[n,i]}function s(e,t){var r=t[e.from]
var n=t[e.to]
var i=o(r,n)
return{type:"line:"+e.bondType,startPos:i[0],endPos:i[1]}}function l(e){return e.join(":")}function p(e,t,r){if(null===r)return[e,t]
"atom"===r.type&&!function(){var n=l(r.idx)
e[n]={idx:n,symbol:r.symbol,connections:[]}
r.bonds&&r.bonds.forEach(function(r){var i=l(r.to.idx)
e[n].connections.push(i)
t.push({from:n,to:i,bondType:r.bondType})
p(e,t,r.to)
e[i].connections.push(n)})}()
return[e,t]}function u(e,t,r,n,i){if(0===t.length)return e
var o=t.shift()
var s=r[o]
s.connections.forEach(function(e){r[e].pos||t.push(e)})
return u(e.concat(a(s,r,n,i)),t,r,n,i)}function c(e,t,r){if(0===r.length)return e
return c(e.concat(s(r[0],t)),t,r.slice(1))}function h(e,t){var r=p({},[],e)
var n=r[0]
var i=r[1]
var a=u([],["1,0"],n,i,t)
return c(a,n,i)}e.exports={layout:h,_atomLayout:a,_bondLayout:s,_bondLength:n,_convertTree:p}},function(e,t,r){"use strict"
var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]
for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}
var i=new RegExp("^[A-Za-z\\[\\]()=#+-]*$")
var a=new RegExp("^(Cl|Br|[CONPSFBI]|\\[)")
function o(e){this.message=e}function s(e,t,r){var i=t[0]
var a=t.slice(1)
var o=void 0
o=Array.isArray(e)?[].concat(e):n({},e||{})
var l=r
a.length>0&&(l=s(o[i],a,r))
o[i]=l
return o}function l(e,t){var r=t.reduce(function(e,t){return e[t]},e)
return s(e,t,r+1)}function p(e){return i.test(e)}function u(e,t){var r=e[0]
var n=e.slice(1)
if("="===r)return g(n,s(t,["bond","bondType"],"double"))
if("#"===r)return g(n,s(t,["bond","bondType"],"triple"))
throw new o("Invalid character: "+r)}function c(e,t){if(0===t.length)return e
if(""===e)throw new o("Mismatched parentheses")
var r=e[0]
var n=e.slice(1)
if("("===r)return c(n,t.concat(r))
if(")"===r)return c(n,t.slice(1))
return c(n,t)}function h(e,t){var r=e[0]
var i=e.slice(1)
if("("===r){var a=n({},t,{parens:t.parens+"("})
a=l(t,["idx",t.idx.length-1,1])
var s=-1
t.idx[t.idx.length-1][0]%2===0&&(s=0)
var p=n({},a,{idx:a.idx.concat([[s,0]]),parens:a.parens.concat("(")})
var u=g(i,p)
var h=g(c(i,["("]),a)
return[u].concat(h)}if(")"===r){if("("!==t.parens[t.parens.length-1])throw new o("Mismatched parentheses")
return null}throw new o("Invalid bare character: "+r)}function d(e,t){var r=null
var n=null
if("["===e[0]){var i=e.indexOf("]")
if(-1===i)return["",e]
r=e.slice(1,i)
n=e.slice(i+1)}else{var o=a.exec(e)
r=o[1]
n=e.slice(r.length)}return[r,n]}function f(e,t){var r=d(e,t)
var n=r[0]
if(""===n)return["error","Unable to parse bracketed atom."]
var i=r[1]
var a=s(t,["idx",t.idx.length-1],[1+t.idx[t.idx.length-1][0],0])
var o=g(i,s(a,["bond","bondType"],"single"))
Array.isArray(o)||!o||(o=[o])
var l={type:"atom",symbol:n,bonds:o,idx:a.idx}
if(t.bond)return{type:"bond",bondType:t.bond.bondType,to:l}
return l}function v(e){return a.test(e)}function m(e){return"="===e||"#"===e}function g(e,t){if(!p(e))throw new o("Invalid input.")
if(!e||0===e.length)return null
return v(e)?f(e,t||{idx:[[0,0]],parens:[],stack:[],bondModifiers:[]}):m(e[0])?u(e,t):h(e,t)}e.exports={parse:g,ParseError:o}},function(e,t,r){"use strict"
var n=r(12)
var i=r(115)
var a=r(11)
var o="start-ref-"
var s="end-ref-"
var l={display:"inline-block",width:0,visibility:"hidden"}
var p={display:"inline",whiteSpace:"nowrap"}
var u={display:"inline-block",color:"rgb(255, 255, 255)",backgroundColor:"rgb(90, 90, 90)",paddingLeft:10,paddingRight:10,userSelect:"none",WebkitUserSelect:"none"}
var c={display:"inline-block",color:"rgb(255, 255, 255)",backgroundColor:"rgb(90, 90, 90)",userSelect:"none",WebkitUserSelect:"none",width:22,height:22,borderRadius:"50%",textAlign:"center"}
var h=n.createClass({displayName:"RefStart",propTypes:{refContent:n.PropTypes.node.isRequired},render:function y(){return n.createElement("span",{style:l},"_")},getRefContent:function b(){return this.props.refContent}})
var d=n.createClass({displayName:"RefEnd",render:function T(){return n.createElement("span",{style:l},"_")}})
var f={newline:i.defaultRules.newline,paragraph:i.defaultRules.paragraph,escape:i.defaultRules.escape,passageFootnote:{order:i.defaultRules.escape.order+.1,match:i.inlineRegex(/^\^/),parse:function x(e,t,r){var n=r.lastFootnote.id+1
var i={id:n,text:1===n?"*":""+n}
"*"===r.lastFootnote.text&&(r.lastFootnote.text=""+r.lastFootnote.id)
r.lastFootnote=i
return i},react:function P(e,t,r){return n.createElement("sup",{key:r.key},e.text)}},refStart:{order:i.defaultRules.escape.order+.2,match:function E(e,t){var r=/^\{\{/.exec(e)
if(r){var n=2
var i=0
while(n<e.length){var a=e.slice(n,n+2)
if("{{"===a){i++
n++}else if("}}"===a){if(!(i>0))break
i--
n++}n++}var o=e.slice(2,n)
return[r[0],o]}return null},parse:function w(e,t,r){if(!r.useRefs)return{ref:null,refContent:null}
var n=r.lastRef+1
r.lastRef=n
r.currentRef.push(n)
var i=t("(“"+e[1]+"”)\n\n",a.defaults({useRefs:false},v))
return{ref:n,refContent:i}},react:function k(e,t,r){if(null==e.ref)return null
var i=t(e.refContent,{})
return n.createElement(h,{ref:o+e.ref,key:o+e.ref,refContent:i})}},refEnd:{order:i.defaultRules.escape.order+.3,match:i.inlineRegex(/^\}\}/),parse:function S(e,t,r){if(!r.useRefs)return{ref:null}
var n=r.currentRef.pop()||null
return{ref:n}},react:function C(e,t,r){return null!=e.ref?n.createElement(d,{ref:s+e.ref,key:s+e.ref}):null}},squareLabel:{order:i.defaultRules.escape.order+.4,match:i.inlineRegex(/^\[\[(\w+)\]\]( *)/),parse:function M(e,t,r){r.firstQuestionRef||(r.firstQuestionRef=e[1])
return{content:e[1],space:e[2].length>0}},react:function _(e,t,r){return[n.createElement("span",{key:"visual-square",className:"perseus-passage-square-label",style:p,"aria-hidden":"true"},n.createElement("span",{style:u},e.content)),n.createElement("span",{key:"alt-text",className:"perseus-sr-only"},$_({number:e.content},"[Marker for question %(number)s]")),e.space?" ":null]}},circleLabel:{order:i.defaultRules.escape.order+.5,match:i.inlineRegex(/^\(\((\w+)\)\)( *)/),parse:function N(e,t,r){return{content:e[1],space:e[2].length>0}},react:function I(e,t,r){return[n.createElement("span",{key:"visual-circle",className:"perseus-passage-circle-label",style:p,"aria-hidden":true},n.createElement("span",{style:c},e.content)),n.createElement("span",{key:"alt-text",className:"perseus-sr-only"},$_({number:e.content},"[Circle marker %(number)s]")),e.space?" ":null]}},squareBracketRef:{order:i.defaultRules.escape.order+.6,match:i.inlineRegex(/^\[(\d+)\]( *)/),parse:function R(e,t,r){r.firstSentenceRef||(r.firstSentenceRef=e[1])
return{content:e[1],space:e[2].length>0}},react:function O(e,t,r){return[n.createElement("span",{key:"visual-brackets",className:"perseus-passage-bracket-label","aria-hidden":"true"},"[",e.content,"]"),n.createElement("span",{key:"alt-text",className:"perseus-sr-only"},$_({number:e.content},"[Sentence %(number)s]")),e.space?" ":null]}},highlight:{order:i.defaultRules.escape.order+.7,match:i.inlineRegex(/^{highlighting.start}(.+?){highlighting.end}/),parse:function A(e,t,r){return{content:e[1]}},react:function D(e,t,r){return[n.createElement("span",{className:"perseus-highlight"},e.content)]}},reviewHighlight:{order:i.defaultRules.escape.order+.7,match:i.inlineRegex(/^{review-highlighting.start}(.+?){review-highlighting.end}/),parse:function L(e,t,r){return{content:e[1]}},react:function F(e,t,r){return[n.createElement("span",{className:"perseus-review-highlight"},e.content)]}},strong:i.defaultRules.strong,u:i.defaultRules.u,em:i.defaultRules.em,del:i.defaultRules.del,text:i.defaultRules.text}
var v={currentRef:[],useRefs:true,lastRef:0,lastFootnote:{id:0,text:""}}
var m=i.parserFor(f)
var g=function q(e,t){t=t||{}
var r=e+"\n\n"
return m(r,a.extend(t,v))}
e.exports={parse:g,output:i.reactFor(i.ruleOutput(f,"react")),START_REF_PREFIX:o,END_REF_PREFIX:s,_rulesForTesting:f}},function(e,t,r){"use strict"
e.exports=["key","ref","containerSizeClass","widgetId","onChange","problemNum","apiOptions","questionCompleted","findWidgets","onRemove","id","onBlur","onFocus","trackInteraction","keypadElement"]},function(e,t,r){"use strict"
var n=r(18)
var i=n.nestedMap
var a=n.deepEq
var o=r(11)
function s(e){o.extend(this,e)}var l=function h(){throw new Error("Abstract method! Must be implemented by Graphie Movable"+this.constructor.displayName)}
o.extend(s.prototype,{movableProps:[],add:l,modify:l,remove:l,toFront:function d(){}})
var p=function f(e,t){return o.extend({},e,{children:o.filter(o.flatten(t),o.identity)})}
var u=function v(e){var t=function r(e){if(!(this instanceof r))throw new Error("Use createElement or JSX with graphie movables")
this.props=p(e,e.children||[])
return this}
e.displayName=e.displayName||o.uniqueId("GraphieClass")
t.displayName=e.displayName
t.prototype=new s(e)
t.prototype.constructor=t
return t}
var c=function m(e){return u({displayName:e.name||o.uniqueId("GraphieSimpleClass"),movableProps:["children"],add:function t(r){this._elements=e(r,this.props)
this._prevProps=this.props},modify:function r(e){if(!a(this.props,this._prevProps)){this.remove()
this.add(e)
this._prevProps=this.props
return"reordered"}},remove:function n(){i(this._elements,function(e){e&&e.remove()})
this._elements=null
this._prevProps=null},toFront:function s(){i(this._elements,function(e){o.isFunction(e.toFront)&&e.toFront()})}})}
e.exports={GraphieMovable:s,createClass:u,createSimpleClass:c}},function(e,t,r){"use strict"
var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]
for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}
var i=r(11)
var a=r(123)
var o=r(100)
var s=r(111)
var l=r(103)
var p=s.assert
var u=a.createClass({displayName:"MovablePoint",movableProps:["children"],_getProps:function E(){if(this.props.isMobile){var e=this.props.isMobile
var t=e?{stroke:"#ffffff","stroke-width":3,fill:l.INTERACTIVE}:{stroke:l.INTERACTIVE,fill:l.INTERACTIVE}
var r=e?Object.assign(t,this.props.mobileStyleOverride||{}):Object.assign(t,this.props.normalStyle)
var i=e?n({},t,{"stroke-width":0,scale:.75}):this.props.highlightStyle
var a=Object.assign({normalStyle:r,highlightStyle:i,shadow:e,tooltip:e&&this.props.showTooltips},e?{pointSize:7}:{})
return Object.assign(this.props,a)}return this.props},add:function w(e){this.point=o.addMovablePoint(e,this._getProps())},modify:function k(){this.point.modify(this._getProps())},remove:function S(){this.point.remove()},toFront:function C(){this.point.toFront()},grab:function M(e){this.point.grab(e)}})
i.extend(u,o.MovablePoint)
var c=a.createClass({displayName:"MovableLine",movableProps:["children"],add:function _(e){var t=i.pluck(this.props.children,"point")
var r=i.extend({},this.props,{points:t})
this.line=o.addMovableLine(e,r)},modify:function N(){var e=i.pluck(this.props.children,"point")
var t=i.extend({},this.props,{points:e})
this.line.modify(t)},remove:function I(){this.line.remove()},toFront:function R(){this.line.toFront()}})
i.extend(c,o.MovableLine)
var h=a.createSimpleClass(function(e,t){var r=t.coord
t.unscaled&&(r=e.unscalePoint(r))
return e.label(r,t.text,t.direction,t.tex,t.style)})
var d=a.createClass({displayName:"Line",movableProps:["children"],add:function O(e){var t=this.props
this.graphie=e
this.line=this.graphie.line(t.start,t.end,t.style)},modify:function A(){var e=this.props
var t=this.graphie.svgPath([e.start,e.end])
this.line.attr(i.extend({},e.style,{path:t}))},remove:function D(){this.line.remove()},toFront:function L(){this.line.toFront()}})
var f=a.createClass({displayName:"Parabola",movableProps:["children"],add:function F(e){var t=this.props
this.graphie=e
this.parabola=this.graphie.parabola(t.a,t.b,t.c,t.style)},modify:function q(){var e=this.props
var t=this.graphie.svgParabolaPath(e.a,e.b,e.c)
this.parabola.attr(i.extend({},e.style,{path:t}))},remove:function B(){this.parabola.remove()},toFront:function z(){this.parabola.toFront()}})
var v=a.createClass({displayName:"Sinusoid",movableProps:["children"],add:function U(e){var t=this.props
this.graphie=e
this.sinusoid=this.graphie.sinusoid(t.a,t.b,t.c,t.d,t.style)},modify:function H(){var e=this.props
var t=this.graphie.svgSinusoidPath(e.a,e.b,e.c,e.d)
this.sinusoid.attr(i.extend({},e.style,{path:t}))},remove:function W(){this.sinusoid.remove()},toFront:function V(){this.sinusoid.toFront()}})
var m=a.createSimpleClass(function(e,t){return e.plot(t.fn,t.range,t.style)})
var g=a.createSimpleClass(function(e,t){return e.plotParametric(t.fn,t.range,t.style)})
var y=a.createSimpleClass(function(e,t){return e.ellipse(t.coord,e.unscaleVector([4,4]),{fill:t.color||l.BLACK,stroke:t.color||l.BLACK})})
var b=a.createClass({displayName:"Path",movableProps:["children"],add:function G(e){var t=this.props
this.graphie=e
this.path=this.graphie.path(t.coords,t.style)},modify:function j(){var e=this.props
var t=this.graphie.svgPath(e.coords)
this.path.attr({path:t})},remove:function Y(){this.path.remove()},toFront:function K(){this.path.toFront()}})
var T=a.createSimpleClass(function(e,t){var r=t.center
var n=t.radius
if(t.unscaled){r=e.unscalePoint(r)
n=e.unscaleVector(n)}return e.arc(r,n,t.startAngle,t.endAngle,t.sector,t.style)})
var x=a.createSimpleClass(function(e,t){return e.circle(t.center,t.radius,t.style)})
var P=a.createSimpleClass(function(e,t){return e.rect(t.x,t.y,t.width,t.height,t.style)})
e.exports={Arc:T,Circle:x,Label:h,Line:d,MovableLine:c,MovablePoint:u,Parabola:f,Path:b,Plot:m,PlotParametric:g,Point:y,Sinusoid:v,Rect:P}},function(e,t,r){"use strict"
var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]
for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}
function i(e,t){var r={}
for(var n in e){if(t.indexOf(n)>=0)continue
if(!Object.prototype.hasOwnProperty.call(e,n))continue
r[n]=e[n]}return r}var a=r(12)
var o=r(178),s=o.Provider
var l=r(140)
var p=r(148),u=p.activateKeypad,c=p.dismissKeypad,h=p.configureKeypad,d=p.setCursor,f=p.setKeyHandler
var v=r(149)
var m=a.createClass({displayName:"ProvidedKeypad",propTypes:{onElementMounted:a.PropTypes.func},componentWillMount:function g(){this.store=v()},activate:function y(){this.store.dispatch(u())},dismiss:function b(){this.store.dispatch(c())},configure:function T(e,t){this.store.dispatch(h(e))
setTimeout(function(){return t&&t()})},setCursor:function x(e){this.store.dispatch(d(e))},setKeyHandler:function P(e){this.store.dispatch(f(e))},render:function E(){var e=this
var t=this.props,r=t.onElementMounted,o=i(t,["onElementMounted"])
return a.createElement(s,{store:this.store},a.createElement(l,n({onElementMounted:function p(t){var i=n({},t,{activate:e.activate,dismiss:e.dismiss,configure:e.configure,setCursor:e.setCursor,setKeyHandler:e.setKeyHandler})
r&&r(i)}},o)))}})
e.exports=m},function(e,t,r){"use strict"
var n=r(12)
var i=r(150)
var a=r(141)
var o=r(116),s=o.BorderDirections,l=o.EchoAnimationTypes,p=o.IconTypes,u=o.KeyTypes,c=o.KeypadTypes
var h=n.PropTypes.shape({type:n.PropTypes.oneOf(Object.keys(p)).isRequired,data:n.PropTypes.string.isRequired})
var d=n.PropTypes.oneOf(Object.keys(i))
var f=n.PropTypes.shape({ariaLabel:n.PropTypes.string,id:d.isRequired,type:n.PropTypes.oneOf(Object.keys(u)).isRequired,childKeyIds:n.PropTypes.arrayOf(d),icon:h.isRequired})
var v=n.PropTypes.shape({keypadType:n.PropTypes.oneOf(Object.keys(c)).isRequired,extraKeys:n.PropTypes.arrayOf(d)})
var m=n.PropTypes.shape({activate:n.PropTypes.func.isRequired,dismiss:n.PropTypes.func.isRequired,configure:n.PropTypes.func.isRequired,setCursor:n.PropTypes.func.isRequired,setKeyHandler:n.PropTypes.func.isRequired})
var g=n.PropTypes.arrayOf(n.PropTypes.oneOf(Object.keys(s)))
var y=n.PropTypes.shape({height:n.PropTypes.number,width:n.PropTypes.number,top:n.PropTypes.number,right:n.PropTypes.number,bottom:n.PropTypes.number,left:n.PropTypes.number})
var b=n.PropTypes.shape({animationId:n.PropTypes.string.isRequired,animationType:n.PropTypes.oneOf(Object.keys(l)).isRequired,borders:g,id:d.isRequired,initialBounds:y.isRequired})
var T=n.PropTypes.oneOf(Object.keys(a))
var x=n.PropTypes.shape({parentId:d.isRequired,bounds:y.isRequired,childKeyIds:n.PropTypes.arrayOf(d).isRequired})
var P=n.PropTypes.oneOfType([n.PropTypes.arrayOf(n.PropTypes.node),n.PropTypes.node])
e.exports={keyConfigPropType:f,keyIdPropType:d,keypadConfigurationPropType:v,keypadElementPropType:m,bordersPropType:g,boundingBoxPropType:y,echoPropType:b,cursorContextPropType:T,popoverPropType:x,iconPropType:h,childrenPropType:P}},function(e,t,r){"use strict"
var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]
for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}
var i=r(12)
var a=r(13)
var o=r(15),s=o.StyleSheet
var l=r(151),p=l.View
var u=r(142)
var c=r(143)
var h=r(144)
var d=r(145)
var f=r(146),v=f.cursorHandleRadiusPx,m=f.cursorHandleDistanceMultiplier,g=f.gray76
var y=r(126),b=y.keypadElementPropType
var T=r(146),x=T.brightGreen,P=T.gray17
var E=.8
var w=i.createClass({displayName:"MathInput",propTypes:{keypadElement:b,onBlur:i.PropTypes.func,onChange:i.PropTypes.func.isRequired,onFocus:i.PropTypes.func,scrollable:i.PropTypes.bool,style:i.PropTypes.any,value:i.PropTypes.string},getDefaultProps:function R(){return{scrollable:false,style:{},value:""}},getInitialState:function O(){return{focused:false,handle:{animateIntoPosition:false,visible:false,x:0,y:0}}},componentDidMount:function A(){var e=this
this.mathField=new c(this._mathContainer,{},{onCursorMove:function t(r){e.props.keypadElement&&e.props.keypadElement.setCursor(r)}})
this.mathField.mathField.__controller.container.unbind("mousedown.mathquill")
this.props.scrollable||(this.mathField.mathField.__controller.scrollHoriz=function(){})
this.mathField.setContent(this.props.value)
this._container=a.findDOMNode(this)
this._root=this._container.querySelector(".mq-root-block")
this._root.style.fontSize=k+"pt"
this.touchStartInitialScroll=null
this.recordTouchStartOutside=function(t){if(e.state.focused&&!e._container.contains(t.target)){var r=false
if(e.props.keypadElement){var n=e._getKeypadBounds()
for(var i=0;i<t.changedTouches.length;i++){var a=[t.changedTouches[i].clientX,t.changedTouches[i].clientY],o=a[0],s=a[1]
if(n.left<=o&&n.right>=o&&n.top<=s&&n.bottom>=s||n.bottom<s){r=true
break}}}if(!r){e.didTouchOutside=true
e.dragListener&&e.dragListener.detach()
e.dragListener=new d(function(){e.didScroll=true
e.dragListener.detach()},t)
e.dragListener.attach()}}}
this.blurOnTouchEndOutside=function(t){e.state.focused&&e.didTouchOutside&&!e.didScroll&&e.blur()
e.didTouchOutside=false
e.didScroll=false
if(e.dragListener){e.dragListener.detach()
e.removeListeners=null}}
window.addEventListener("touchstart",this.recordTouchStartOutside)
window.addEventListener("touchend",this.blurOnTouchEndOutside)
window.addEventListener("touchcancel",this.blurOnTouchEndOutside)
window.addEventListener("resize",this._clearKeypadBoundsCache)
window.addEventListener("orientationchange",this._clearKeypadBoundsCache)},componentWillReceiveProps:function D(e){this.props.keypadElement!==e.keypadElement&&this._clearKeypadBoundsCache()},componentDidUpdate:function L(){this.mathField.getContent()!==this.props.value&&this.mathField.setContent(this.props.value)},componentWillUnmount:function F(){window.removeEventListener("touchstart",this.recordTouchStartOutside)
window.removeEventListener("touchend",this.blurOnTouchEndOutside)
window.removeEventListener("touchcancel",this.blurOnTouchEndOutside)
window.removeEventListener("resize",this._clearKeypadBoundsCache())
window.removeEventListener("orientationchange",this._clearKeypadBoundsCache())},_clearKeypadBoundsCache:function q(e){this._keypadBounds=null},_cacheKeypadBounds:function B(e){this._keypadBounds=e.getBoundingClientRect()},_getKeypadBounds:function z(){if(!this._keypadBounds){var e=a.findDOMNode(this.props.keypadElement)
this._cacheKeypadBounds(e)}return this._keypadBounds},_updateCursorHandle:function U(e){var t=this._container.getBoundingClientRect()
var r=this._container.querySelector(".mq-cursor")
var n=r.getBoundingClientRect()
var i=n.width
var a=2
this.setState({handle:{visible:true,animateIntoPosition:e,x:n.left+i/2-t.left,y:n.bottom+a-t.top}})},_hideCursorHandle:function H(){this.setState({handle:{visible:false,x:0,y:0}})},blur:function W(){this.mathField.blur()
this.props.onBlur&&this.props.onBlur()
this.setState({focused:false,handle:{visible:false}})},focus:function V(){var e=this
this.props.keypadElement.setKeyHandler(function(t){var r=e.mathField.pressKey(t)
var n=function a(){e.setState({handle:{visible:false}})}
var i=e.mathField.getContent()
e.props.value!==i?e.props.onChange(i,n):n()
return r})
this.mathField.focus()
this.props.onFocus&&this.props.onFocus()
this.setState({focused:true},function(){setTimeout(function(){if(e.isMounted()){var t=e.props.keypadElement&&a.findDOMNode(e.props.keypadElement)
h(e._container,t)}})})},_findHitNode:function G(e,t,r,n,i){var a=this
while(r>=e.top&&r<=e.bottom){r+=i
var o=[[t-n,r],[t,r],[t+n,r]]
var s=o.map(function(e){var t
return(t=document).elementFromPoint.apply(t,e)}).filter(function(e){return e&&a._root.contains(e)&&(!e.classList.contains("mq-root-block")&&!e.classList.contains("mq-non-leaf")||e.classList.contains("mq-empty")||e.classList.contains("mq-hasCursor"))})
var l=null
var p=[]
var u=[]
var c=0
var h={}
var d={}
for(var f=s,v=Array.isArray(f),m=0,f=v?f:f[Symbol.iterator]();;){var g
if(v){if(m>=f.length)break
g=f[m++]}else{m=f.next()
if(m.done)break
g=m.value}var y=g
var b=y.getAttribute("mathquill-command-id")
if(null!=b){p.push(y)
h[b]=(h[b]||0)+1
d[b]=y}else u.push(y)}for(var T=Object.entries(h),x=Array.isArray(T),P=0,T=x?T:T[Symbol.iterator]();;){var E
if(x){if(P>=T.length)break
E=T[P++]}else{P=T.next()
if(P.done)break
E=P.value}var w=E,k=w[0],S=w[1]
if(S>c){c=S
l=d[k]}}null==l&&u.length>0&&(l=u[0])
if(null!==l){this.mathField.setCursorPosition(t,r,l)
return true}}return false},_insertCursorAtClosestNode:function j(e,t){var r=this.mathField.getCursor()
if(!this._root.hasChildNodes()){r.insAtLeftEnd(this.mathField.mathField.__controller.root)
return}t>this._containerBounds.bottom?t=this._containerBounds.bottom:t<this._containerBounds.top&&(t=this._containerBounds.top+10)
var n=void 0
n=-8
var i=5
if(this._findHitNode(this._containerBounds,e,t,i,n))return
t=this._containerBounds.top
n=8
if(this._findHitNode(this._containerBounds,e,t,i,n))return
var a=this._root.firstChild.getBoundingClientRect()
var o=this._root.lastChild.getBoundingClientRect()
var s=a.left
var l=o.right
Math.abs(e-l)<Math.abs(e-s)?r.insAtRightEnd(this.mathField.mathField.__controller.root):r.insAtLeftEnd(this.mathField.mathField.__controller.root)
this.props.keypadElement&&this.props.keypadElement.setCursor({context:this.mathField.contextForCursor(r)})},handleTouchStart:function Y(e){e.stopPropagation()
this._hideCursorHandle()
if(""!==this.mathField.getContent()){this._containerBounds=this._container.getBoundingClientRect()
var t=e.changedTouches[0]
this._insertCursorAtClosestNode(t.clientX,t.clientY)}this.state.focused||this.focus()},handleTouchMove:function K(e){e.stopPropagation()
if(""!==this.mathField.getContent()){var t=e.changedTouches[0]
this._insertCursorAtClosestNode(t.clientX,t.clientY)}},handleTouchEnd:function X(e){e.stopPropagation()
""!==this.mathField.getContent()&&this._updateCursorHandle()},onCursorHandleTouchStart:function Q(e){e.stopPropagation()
e.preventDefault()
this._containerBounds=this._container.getBoundingClientRect()},_constrainToBound:function Z(e,t,r,n){return e<t?t+(e-t)*n:e>r?r+(e-r)*n:e},onCursorHandleTouchMove:function J(e){e.stopPropagation()
var t=e.changedTouches[0].clientX
var r=e.changedTouches[0].clientY
var n=t-this._containerBounds.left
var i=r-2*v*m-this._containerBounds.top
this.setState({handle:{animateIntoPosition:false,visible:true,x:this._constrainToBound(n,0,this._containerBounds.width,E),y:this._constrainToBound(i,0,this._containerBounds.height,E)}})
var a=22
var o=r-a
this._insertCursorAtClosestNode(t,o)},onCursorHandleTouchEnd:function et(e){e.stopPropagation()
this._updateCursorHandle(true)},onCursorHandleTouchCancel:function tt(e){e.stopPropagation()
this._updateCursorHandle(true)},render:function rt(){var e=this
var t=this.state,r=t.focused,o=t.handle
var s=this.props.style
var l=1
var c=2
var h=this.state.focused?c:l
var d=2
var f=C-h-d
var v=3
var m=1
var g={paddingTop:f-m,paddingRight:f,paddingBottom:f-v,paddingLeft:f}
var y=n({},I.innerContainer,{borderWidth:h},g,r?{borderColor:x}:{},s)
return i.createElement(p,{style:N.input,onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove,onTouchEnd:this.handleTouchEnd,onClick:function b(e){return e.stopPropagation()},role:"textbox",ariaLabel:i18n._("Math input box")},i.createElement("div",{className:"keypad-input"},i.createElement("div",{ref:function T(t){e._mathContainer=a.findDOMNode(t)},style:y})),r&&o.visible&&i.createElement(u,n({},o,{onTouchStart:this.onCursorHandleTouchStart,onTouchMove:this.onCursorHandleTouchMove,onTouchEnd:this.onCursorHandleTouchEnd,onTouchCancel:this.onCursorHandleTouchCancel})))}})
var k=18
var S=20
var C=8
var M=S+2*C
var _=64
var N=s.create({input:{position:"relative",display:"inline-block",verticalAlign:"middle"}})
var I={innerContainer:{backgroundColor:"white",display:"flex",minHeight:M,minWidth:_,boxSizing:"border-box",position:"relative",overflow:"hidden",borderStyle:"solid",borderColor:g,borderRadius:4,color:P}}
e.exports=w},function(e,t,r){"use strict"
var n,i,a,o,s
var l=r(15),p=l.StyleSheet,u=l.css
var c=r(14)
var h=r(12)
var d=r(13)
var f=r(11)
var v=r(19).ClassNames
var m=r(9)
var g=r(37)
var y=r(38)
var b=r(36)
var T=r(18).captureScratchpadTouchStart
var x=r(147)
var P=h.createClass({displayName:"ChoiceNoneAbove",propTypes:{className:h.PropTypes.string,content:h.PropTypes.node,showContent:h.PropTypes.bool},getDefaultProps:function _(){return{showContent:true}},render:function N(){var e=f.extend({},this.props,{className:c(this.props.className,"none-of-above"),content:this.props.showContent?this.props.content:h.createElement(m,{key:"noneOfTheAboveRenderer",content:i18n._("None of the above")})})
return h.createElement(x,e)}})
var E=h.PropTypes.arrayOf(h.PropTypes.shape({checked:h.PropTypes.bool,content:h.PropTypes.node,clue:h.PropTypes.node,correct:h.PropTypes.bool,originalIndex:h.PropTypes.number,isNoneOfTheAbove:h.PropTypes.bool}))
var w=y.radioBorderColor
var k=y.checkedColor
var S="1px 16px"
var C="0px 15px"
var M=h.createClass({displayName:"BaseRadio",propTypes:{apiOptions:h.PropTypes.shape({readOnly:h.PropTypes.bool,satStyling:h.PropTypes.bool,isMobile:h.PropTypes.bool}),choices:E,deselectEnabled:h.PropTypes.bool,editMode:h.PropTypes.bool,labelWrap:h.PropTypes.bool,multipleSelect:h.PropTypes.bool,onCheckedChange:h.PropTypes.func,onePerLine:h.PropTypes.bool,reviewModeRubric:h.PropTypes.shape({choices:E})},statics:{styles:p.create({instructions:{display:"block",color:y.gray17,fontStyle:"normal",fontWeight:"bold",margin:"8px 0"},radio:{width:"100%"},responsiveRadioContainer:(n={},n[b.lgOrSmaller]={borderBottom:"1px solid "+w,borderTop:"1px solid "+w,width:"auto"},n[b.smOrSmaller]={marginLeft:y.negativePhoneMargin,marginRight:y.negativePhoneMargin},n),responsiveMobileRadioContainer:(i={},i[b.lgOrSmaller]={width:"auto"},i),satRadio:{background:"none",marginLeft:0,userSelect:"none"},satRadioOption:{margin:0,padding:0},satReviewRadioOption:{pointerEvents:"none"},item:{padding:"7px 0",marginLeft:20},inlineItem:{display:"inline-block",paddingLeft:20,verticalAlign:"middle"},responsiveItem:(a={},a[b.lgOrSmaller]={marginLeft:0,padding:0,":active":{backgroundColor:y.grayLight}},a),responsiveItemOnePerLine:{":not(:last-child)":{borderBottom:"1px solid "+w}},responsiveMobileItem:(o={backgroundColor:"#FFFFFF"},o[b.lgOrSmaller]={border:"1px solid "+w,borderRadius:"4px",margin:0,minHeight:48,padding:S,":active":{border:"2px solid "+w,padding:C},":not(:last-child)":{marginBottom:"16px"}},o),responsiveSelected:(s={},s[b.lgOrSmaller]={border:"2px solid "+k,padding:C},s),responsiveContainer:{overflow:"auto",marginLeft:y.negativePhoneMargin,marginRight:y.negativePhoneMargin,paddingLeft:y.phoneMargin},responsiveFieldset:{paddingRight:y.phoneMargin}})},getDefaultProps:function I(){return{onePerLine:true,editMode:false}},getInitialState:function R(){return{radioGroupName:f.uniqueId("perseus_radio_")}},checkOption:function O(e,t){var r=void 0
r=this.props.multipleSelect?f.map(this.props.choices,function(r,n){return n===e?t:r.checked}):f.map(this.props.choices,function(r,n){return n===e&&t})
this.props.onCheckedChange(r)},focus:function A(e){d.findDOMNode(this.refs["radio"+(e||0)]).focus()
return true},getInstructionsText:function D(){return this.props.apiOptions.isMobile?this.props.multipleSelect?i18n._("Choose all answers that apply."):i18n._("Choose 1 answer."):this.props.multipleSelect?i18n._("Select all that apply."):i18n._("Please choose from one of the following options.")},showOnePerLine:function L(){return this.props.apiOptions.isMobile||this.props.onePerLine},deselectEnabled:function F(){return this.props.apiOptions.isMobile||this.props.deselectEnabled},render:function q(){var e=this.props.multipleSelect?"checkbox":"radio"
var t=this.props.reviewModeRubric
var r=M.styles
var n=this.props.apiOptions.satStyling
var i=this.props.apiOptions.isMobile
var a=c("perseus-widget-radio",!this.props.editMode&&"perseus-rendered-radio",u(g.aboveScratchpad,!i&&g.blankBackground,r.radio,!n&&(i?r.responsiveMobileRadioContainer:r.responsiveRadioContainer),n&&r.satRadio))
var o="instructions "+u(r.instructions,g.responsiveLabel)
var s=this.getInstructionsText()
var l=i||this.props.multipleSelect
var p=u(r.responsiveFieldset)
var m=h.createElement("fieldset",{className:"perseus-widget-radio-fieldset "+p},h.createElement("legend",{className:"perseus-sr-only"},s),l&&h.createElement("div",{className:o},s),h.createElement("ul",{className:a},this.props.choices.map(function(a,o){var s=this
var l=!!(t&&t.choices[o].clue)
var p=x
var m={ref:"radio"+o,apiOptions:this.props.apiOptions,checked:a.checked,reviewMode:!!t,correct:t&&t.choices[o].correct,clue:a.clue,content:a.content,disabled:this.props.apiOptions.readOnly,editMode:this.props.editMode,groupName:this.state.radioGroupName,isLastChoice:o===this.props.choices.length-1,showClue:l,type:e,pos:o,deselectEnabled:this.deselectEnabled(),onChecked:function E(e){s.checkOption(o,e)}}
if(a.isNoneOfTheAbove){p=P
f.extend(m,{showContent:a.correct})}var g=function w(e,i){return u(r.item,!s.showOnePerLine()&&r.inlineItem,!n&&(i?r.responsiveMobileItem:r.responsiveItem),!n&&!i&&s.showOnePerLine()&&r.responsiveItemOnePerLine,e&&i&&r.responsiveSelected,n&&r.satRadioOption,n&&e&&r.satRadioSelected,n&&t&&r.satReviewRadioOption)}
g(true,i)
var y=c(g(a.checked,i),v.RADIO.OPTION,!this.showOnePerLine()&&"inline",a.checked&&v.RADIO.SELECTED,t&&t.choices[o].correct&&v.CORRECT,t&&!t.choices[o].correct&&v.INCORRECT)
var b=null
this.props.editMode&&(b=function k(e){var t=s.refs["radio"+o]
var r=[y,a.content.className,d.findDOMNode(t).className];-1!==r.indexOf(e.target.className)&&s.checkOption(o,true)})
return h.createElement("li",{className:y,key:o,onClick:b,onTouchStart:this.props.labelWrap?T:null},h.createElement(p,m))},this)))
return h.createElement("div",{className:u(!n&&r.responsiveContainer)},m)}})
e.exports=M},function(e,t,r){e.exports={number:r(152),vector:r(153),point:r(154),line:r(155),ray:r(156)}},function(e,t,r){"use strict"
var n=r(11)
var i=r(111)
var a=i.normalizeOptions
var o=i.assert
var s=r(129).point
var l=["add","modify","draw","remove","onMoveStart","onMove","onMoveEnd","onClick"]
var p={cursor:null}
var u={added:false,isHovering:false,isMouseOver:false,isDragging:false,mouseTarget:null}
var c=function h(e,t){n.extend(this,{graphie:e,state:{id:n.uniqueId("movable")}})
this.modify(n.extend({},u,t))}
i.createGettersFor(c,n.extend({},p,u))
i.addMovableHelperMethodsTo(c)
n.extend(c.prototype,{cloneState:function d(){return n.clone(this.state)},_createDefaultState:function f(){return n.extend({id:this.state.id,add:[],modify:[],draw:[],remove:[],onMoveStart:[],onMove:[],onMoveEnd:[],onClick:[]},p)},modify:function v(e){this.update(n.extend({},this._createDefaultState(),e))},grab:function m(e){o(s.is(e))
var t=this
var r=t.graphie
var n=t.state
n.isHovering=true
n.isDragging=true
r.isDragging=true
var i=e
var a=i
t._fireEvent(n.onMoveStart,i,i)
var l=function u(e){e.preventDefault()
var i=r.getMouseCoord(e)
t._fireEvent(n.onMove,i,a)
t.draw()
a=i}
var p=function c(e){$(document).unbind("vmousemove",l)
$(document).unbind("vmouseup",c)
n.isHovering&&t._fireEvent(n.onClick,a,i)
n.isHovering=t.state.isMouseOver
n.isDragging=false
r.isDragging=false
t._fireEvent(n.onMoveEnd,a,i)
t.draw()}
$(document).bind("vmousemove",l)
$(document).bind("vmouseup",p)},update:function g(e){var t=this
var r=t.graphie
var i=t.cloneState()
var o=n.extend(t.state,a(l,e))
if(o.mouseTarget&&!i.mouseTarget){var s
s=o.mouseTarget.getMouseTarget?$(o.mouseTarget.getMouseTarget()):$(o.mouseTarget[0])
var p=!("ontouchstart"in window)
if(p){s.on("vmouseover",function(){o.isMouseOver=true
r.isDragging||(o.isHovering=true)
t.state.added&&t.draw()})
s.on("vmouseout",function(){o.isMouseOver=false
o.isDragging||(o.isHovering=false)
t.state.added&&t.draw()})}s.on("vmousedown",function(e){if(0!==e.which&&1!==e.which)return
e.preventDefault()
var n=r.getMouseCoord(e)
t.grab(n)})}if(o.mouseTarget&&void 0!==o.cursor){var s
s=o.mouseTarget.getMouseTarget?$(o.mouseTarget.getMouseTarget()):$(o.mouseTarget[0])
s.css("cursor",o.cursor||"")}if(!o.added){t._fireEvent(o.modify,t.cloneState(),{})
o.added=true
t.prevState=t.cloneState()}t._fireEvent(o.modify,t.cloneState(),t.prevState)},remove:function y(){this.state.added=false
this._fireEvent(this.state.remove)
if(this.state.mouseTarget){$(this.state.mouseTarget).off()
this.state.mouseTarget.remove()
this.state.mouseTarget=null}},toBack:function b(){this.state.mouseTarget&&this.state.mouseTarget.toBack()},toFront:function T(){this.state.mouseTarget&&this.state.mouseTarget.toFront()}})
e.exports=c},function(e,t,r){"use strict"
var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]
for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}
var i=r(11)
var a=r(157)
var o=r(158)
var s=r(111)
var l=r(33)
var p=s.assert
var u=s.normalizeOptions
var c=r(129).point
var h=r(129).vector
var d=r(103)
var f=r(159).processMath
var v=r(87),m=v.iconTrash
var g=r(12)
var y=r(13)
var b=r(84)
var T=i.keys(a)
var x={coord:[0,0],pointSize:4,"static":false,cursor:"move",normalStyle:null,highlightStyle:null,shadow:false,tooltip:false}
var P={added:false,hasMoved:false,visibleShape:null,outOfBounds:false,mouseTarget:null,touchOffset:null}
var E=[]
var w=function k(e,t,r){i.extend(this,{graphie:e,movable:t,state:{id:i.uniqueId("movablePoint")}})
this.modify(i.extend({},P,r))}
i.extend(w,a)
s.createGettersFor(w,i.extend({},x,P))
s.addMovableHelperMethodsTo(w)
i.extend(w.prototype,{cloneState:function S(){return i.extend(this.movable.cloneState(),this.state)},_createDefaultState:function C(){return i.extend({id:this.state.id},u(T,l.pluck(a,"standard")),x)},modify:function M(e){this.update(i.extend(this._createDefaultState(),e))},_showTooltip:function _(e){var t=this
if(!this._tooltip){this._tooltip=document.createElement("div")
this._tooltip.className="tooltip-content"
this.state.visibleShape.wrapper.className="tooltip"
this.state.visibleShape.wrapper.appendChild(this._tooltip)
E.push(function(){t.state.added&&t._hideTooltip()})}this._tooltip.firstChild&&this._tooltip.removeChild(this._tooltip.firstChild)
this.state.visibleShape.wrapper.className="tooltip visible"
this._tooltip.appendChild(document.createElement("span"))
"string"===typeof e?f(this._tooltip.firstChild,e,false):"function"===typeof e?e(this._tooltip.firstChild):this._tooltip.firstChild.appendChild(e)},_hideTooltip:function N(){this._tooltip&&(this.state.visibleShape.wrapper.className="tooltip")},update:function I(e){var t=this
var r=this
var a=r.graphie
var s=i.extend(r.state,u(T,e))
p(c.is(s.coord))
var l=s["static"]?d.DYNAMIC:d.INTERACTIVE
s.normalStyle=i.extend({fill:l,stroke:l,scale:1},s.normalStyle)
s.highlightStyle=i.extend({fill:d.INTERACTING,stroke:d.INTERACTING,scale:2},s.highlightStyle)
if(!s["static"]&&!s.mouseTarget){var f=r.state.coord
var v=a.unscaleVector(24)
var e={mouselayer:true,padding:0}
s.mouseTarget=new o(a,f,v,e)
s.mouseTarget.attr({fill:"#000",opacity:0})}var x=function w(){t._showTooltip(function(e){y.render(g.createElement("span",{style:{fontSize:"2em"}},g.createElement(b,n({},m,{style:{position:"static",color:d.INTERACTIVE,marginLeft:9,marginRight:9}}))),e)})}
var P=s.coord
r.movable.modify(i.extend({},s,{add:null,modify:null,draw:r.draw.bind(r),remove:null,onMoveStart:function k(e){s.hasMoved=false
P=s.coord
if(null==s.touchOffset){var n=!("ontouchstart"in window)
s.touchOffset=n?[0,0]:h.subtract(P,e)}var i=s.visibleShape.wrapper
if(s.shadow){var a="none"
i.style.webkitFilter=a
i.style.filter=a}s.showHairlines&&s.showHairlines(s.coord)
E.forEach(function(e){return e()})
if(s.tooltip){s.xOnlyTooltip?t._showTooltip(""+s.coord[0]):t._showTooltip("("+s.coord[0]+", "+s.coord[1]+")")
if(s.shadow){var o=i.getElementsByClassName("tooltip-content")[0]
var l="drop-shadow(0px 0px 5px rgba(0, 0, 0, 0.5))"
o.style.webkitFilter=l
o.style.filter=l}}r._fireEvent(s.onMoveStart,P,P)
r.draw()},onMove:function S(e,n){var i=h.add(e,s.touchOffset)
r.moveTo(i)
s.showHairlines&&(t.state.outOfBounds?s.hideHairlines():s.showHairlines(s.coord))
s.tooltip&&(t.state.outOfBounds||(s.xOnlyTooltip?t._showTooltip(""+s.coord[0]):t._showTooltip("("+s.coord[0]+", "+s.coord[1]+")")))
s.onRemove&&t.state.outOfBounds&&x()},onMoveEnd:function C(){r.isHovering()&&!s.hasMoved&&r._fireEvent(s.onClick,s.coord,P)
var e=s.visibleShape.wrapper
if(s.shadow){var n="drop-shadow(0px 0px 5px rgba(0, 0, 0, 0.5))"
e.style.webkitFilter=n
e.style.filter=n}s.hideHairlines&&s.hideHairlines()
if(s.hasMoved)t._hideTooltip()
else if(s.onRemove){x()
var i=e.getElementsByClassName("tooltip-content")[0]
i.style.webkitFilter="none"
i.style.filter="none"
t._tooltip.firstChild.addEventListener("touchstart",function(e){e.stopPropagation()},true)
t._tooltip.firstChild.addEventListener("touchend",function(e){s.onRemove()
e.stopPropagation()},true)}else s.tooltip&&t._hideTooltip()
s.outOfBounds&&s.onRemove()
r._fireEvent(s.onMoveEnd,s.coord,P)
s.hasMoved=false
s.touchOffset=null
r.draw()}}))
if(!s.added){r.prevState={}
r._fireEvent(s.add,r.cloneState(),r.prevState)
s.added=true
r.prevState=r.cloneState()}r._fireEvent(s.modify,r.cloneState(),r.prevState)},remove:function R(){this.state.added=false
this._fireEvent(this.state.remove)
this.movable&&this.movable.remove()
this.state.mouseTarget=null},constrain:function O(){var e=this._applyConstraints(this.coord(),this.coord())
c.is(e)&&this.setCoord(e)
return false!==e},setCoord:function A(e){p(c.is(e,2))
this.state.coord=i.clone(e)
this.draw()},setCoordConstrained:function D(e){p(c.is(e,2))
var t=this._applyConstraints(e,this.coord())
if(false!==t){this.state.coord=i.clone(t)
this.draw()}},moveTo:function L(e){var t=this
var r=this.state
this.state.outOfBounds=false
var n=this._applyConstraints(e,r.coord,r.onRemove?{onOutOfBounds:function a(){t.state.outOfBounds=true}}:{})
if(false===n)return
c.is(n)&&(e=n)
if(!c.equal(e,r.coord)){var i=r.coord
r.coord=e
r.hasMoved=true
this._fireEvent(r.onMove,r.coord,i)
this.draw()}},normalStyle:function F(){return i.clone(this.state.normalStyle)},highlightStyle:function q(){return i.clone(this.state.highlightStyle)},toBack:function B(){this.movable.toBack()
this.state.visibleShape&&this.state.visibleShape.toBack()},toFront:function z(){this.state.visibleShape&&this.state.visibleShape.toFront()
this.movable.toFront()},isHovering:function U(){return this.movable.isHovering()},isDragging:function H(){return this.movable.isDragging()},mouseTarget:function W(){return this.movable.mouseTarget()},grab:function V(e){this.state.touchOffset=[0,0]
this.movable.grab(e)
this.moveTo(e)}})
e.exports=w},function(e,t,r){"use strict"
var n=r(11)
var i=r(160)
var a=r(102)
var o=r(111)
var s=r(33)
var l=o.assert
var p=o.normalizeOptions
var u=r(129).vector
var c=r(103)
var h=["add","draw","remove","onMoveStart","constraints","onMove","onMoveEnd"]
var d={points:null,"static":false,cursor:"move",normalStyle:null,highlightStyle:null,extendLine:false,extendRay:false}
var f={visibleShape:null,mouseTarget:null}
var v=function m(e,t,r){l(null!=e)
l(null!=r)
n.extend(this,{graphie:e,movable:t,state:{id:n.uniqueId("movableLine")}})
this.modify(n.extend({},f,r))}
n.extend(v,i)
o.createGettersFor(v,n.extend({},d,f))
o.addMovableHelperMethodsTo(v)
n.extend(v.prototype,{cloneState:function g(){return n.extend(this.movable.cloneState(),{coords:this.coords()},this.state)},_createDefaultState:function y(){return n.extend({id:this.state.id},p(h,s.pluck(i,"standard")),d)},modify:function b(e){this.update(n.extend(this._createDefaultState(),e))},update:function T(e){var t=this
var r=this.graphie
var i=t.state=n.extend(t.state,p(h,e))
var o=i["static"]?c.DYNAMIC:c.INTERACTIVE
i.normalStyle=n.extend({stroke:o,"stroke-width":2},i.normalStyle)
i.highlightStyle=n.extend({stroke:c.INTERACTING,"stroke-width":3},i.highlightStyle)
if(!i["static"]&&!i.mouseTarget){var e={thickness:30,mouselayer:true}
i.mouseTarget=new a(r,this.coord(0),this.coord(1),e)
i.mouseTarget.attr({fill:"#000",opacity:0})}if(i["static"]&&i.mouseTarget){i.mouseTarget.remove()
i.mouseTarget=null}t.movable.modify(n.extend({},i,{mouseTarget:i.mouseTarget,add:null,modify:null,draw:t.draw.bind(t),remove:null,onMoveStart:function s(){t._initialRefCoord=t.coord(0)
t._prevRefCoord=t._initialRefCoord
t._totalDelta=[0,0]
t._fireEvent(t.state.onMoveStart,t.coord(0),t.coord(0))},onMove:function l(e,r){var n=u.subtract(e,r)
t._totalDelta=u.add(t._totalDelta,n)
var i=u.add(t._initialRefCoord,t._totalDelta)
i=t._applyConstraints(i,t._prevRefCoord)
if(false===i)return
t._fireEvent(t.state.onMove,i,t._prevRefCoord)
t._prevRefCoord=i},onMoveEnd:function d(){t._fireEvent(t.state.onMoveEnd,t._prevRefCoord,t._initialRefCoord)}}))
if(!i.added){t.prevState={}
t._fireEvent(i.add,t.cloneState(),t.prevState)
i.added=true
n.invoke(i.points,"listen","onMove",i.id,t.draw.bind(t))
t.prevState=t.cloneState()}t._fireEvent(i.modify,t.cloneState(),t.prevState)},coords:function x(){return n.invoke(this.state.points,"coord")},point:function P(e){return this.state.points[e]},coord:function E(e){return this.point(e).coord()},remove:function w(){this.state.added=false
this._fireEvent(this.state.remove)
this.points&&n.invoke(this.points,"unlisten","onMove",this.state.id)
this.movable&&this.movable.remove()},toBack:function k(){this.movable.toBack()
this.state.visibleShape&&this.state.visibleShape.toBack()},toFront:function S(){this.state.visibleShape&&this.state.visibleShape.toFront()
this.movable.toFront()},isHovering:function C(){return this.movable.isHovering()},isDragging:function M(){return this.movable.isDragging()},mouseTarget:function _(){return this.movable.mouseTarget()}})
e.exports=v},function(e,t,r){"use strict"
var n=r(129).vector
var i=r(11)
var a=r(161)
var o=r(111)
var s=r(33)
var l=o.assert
var p=o.normalizeOptions
var u=r(103)
var c=r(108)
var h=i.keys(a)
var d={points:null,angleLabels:[],showRightAngleMarkers:[],sideLabels:[],vertexLabels:[],numArcs:[],numArrows:[],numTicks:[],closed:true,"static":false,cursor:"move",normalStyle:null,highlightStyle:null,labelStyle:null}
var f={added:false,hasMoved:false,visibleShape:null,mouseTarget:null}
var v=function m(e,t,r){l(null!=e)
l(null!=r)
i.extend(this,{graphie:e,movable:t,state:{id:i.uniqueId("movablePolygon")}})
this.modify(i.extend({},f,r))}
i.extend(v,a)
o.createGettersFor(v,i.extend({},d,f))
o.addMovableHelperMethodsTo(v)
i.extend(v.prototype,{cloneState:function g(){return i.extend(this.movable.cloneState(),this.state)},_createDefaultState:function y(){return i.extend({id:this.state.id},p(h,s.pluck(a,"standard")),d)},modify:function b(e){this.update(i.extend(this._createDefaultState(),e))},update:function T(e){var t=this
var r=t.graphie
var a=i.extend(t.state,p(h,e))
var o=a["static"]?u.DYNAMIC:u.INTERACTIVE
a.normalStyle=i.extend({},a.normalStyle,{"stroke-width":2,"fill-opacity":0,fill:o,stroke:o},e.normalStyle)
a.highlightStyle=i.extend({},{stroke:u.INTERACTING,"stroke-width":2,fill:u.INTERACTING,"fill-opacity":.05},a.highlightStyle)
a.labelStyle=i.extend({},{stroke:u.DYNAMIC,"stroke-width":1,color:u.DYNAMIC},a.labelStyle)
if(!a["static"]&&!a.mouseTarget){a.mouseTarget=r.mouselayer.path(this.path())
a.mouseTarget.attr({fill:"#000",opacity:0,cursor:"move"})}t.movable.modify(i.extend({},a,{modify:null,draw:t.draw.bind(t),remove:null,onMoveStart:function s(){t._initialRefCoord=t.coord(0)
t._prevRefCoord=t._initialRefCoord
t._totalDelta=[0,0]
t._fireEvent(t.state.onMoveStart,t.coord(0),t.coord(0))},onMove:function l(e,r){var i=n.subtract(e,r)
t._totalDelta=n.add(t._totalDelta,i)
var a=n.add(t._initialRefCoord,t._totalDelta)
a=t._applyConstraints(a,t._prevRefCoord)
if(false===a)return
t._fireEvent(t.state.onMove,a,t._prevRefCoord)
t._prevRefCoord=a},onMoveEnd:function c(){t._fireEvent(t.state.onMoveEnd,t._prevRefCoord,t._initialRefCoord)}}))
i.invoke(a.points,"listen","onMove",a.id,t.draw.bind(t))
if(!a.added){t.prevState={}
t._fireEvent(a.add,t.cloneState(),t.prevState)
a.added=true
t.prevState=t.cloneState()}t._fireEvent(a.modify,t.cloneState(),t.prevState)},path:function x(e){var t=this.graphie
e=e||this.state
var r=i.map(e.points,function(e){return t.scalePoint(e.coord())})
e.closed?r.push(true):r=r.concat(i.clone(r).reverse())
return c.unscaledSvgPath(r)},coords:function P(){return i.invoke(this.state.points,"coord")},point:function E(e){return this.state.points[e]},coord:function w(e){return this.point(e).coord()},remove:function k(){this.state.added=false
this._fireEvent(this.state.remove)
this.state.points&&i.invoke(this.state.points,"unlisten","onMove",this.state.id)
this.movable&&this.movable.remove()
this.state.mouseTarget=null},constrain:function S(){if(null==this.points||0===this.points.length)return
var e=this.coord(0)
var t=this._applyConstraints(e,e)
false!==t&&this._fireEvent(this.state.onMove,t,e)},normalStyle:function C(){return i.clone(this.state.normalStyle)},highlightStyle:function M(){return i.clone(this.state.highlightStyle)},toBack:function _(){this.movable.toBack()
this.state.visibleShape&&this.state.visibleShape.toBack()},toFront:function N(){this.state.visibleShape&&this.state.visibleShape.toFront()
this.movable.toFront()},isHovering:function I(){return this.movable.isHovering()},isDragging:function R(){return this.movable.isDragging()},mouseTarget:function O(){return this.movable.mouseTarget()}})
e.exports=v},function(e,t,r){"use strict"
var n=r(15).StyleSheet
var i=n.create({buttonStyle:{backgroundColor:"white",border:"1px solid #ccc",borderLeft:"0",cursor:"pointer",margin:"0",padding:"5px 10px",position:"relative",":first-child":{borderLeft:"1px solid #ccc",borderTopLeftRadius:"3px",borderBottomLeftRadius:"3px"},":last-child":{borderRight:"1px solid #ccc",borderTopRightRadius:"3px",borderBottomRightRadius:"3px"},":hover":{backgroundColor:"#ccc"},":focus":{zIndex:"2"}},selectedStyle:{backgroundColor:"#ddd"}})
e.exports={button:i}},function(e,t,r){"use strict"
var n=r(11)
var i=r(111)
var a=r(33)
var o=r(129).vector
var s=["attr","animate"]
var l=n.extend({transform:function p(e){var t=i.getPrefixedTransform()
this.wrapper.style[t]=e},toFront:function u(){var e=this.wrapper.parentNode
e&&e.appendChild(this.wrapper)},toBack:function c(){var e=this.wrapper.parentNode
e.firstChild!==this.wrapper&&e.insertBefore(this.wrapper,e.firstChild)},remove:function h(){this.visibleShape.remove()
$(this.wrapper).remove()},getMouseTarget:function d(){return this.visibleShape[0]},moveTo:function f(e){var t=o.subtract(this.graphie.scalePoint(e),this.graphie.scalePoint(this.initialPoint))
var r=i.getCanUse3dTransform()
var n="translateX("+t[0]+"px) translateY("+t[1]+"px)"+(r?" translateZ(0)":"")
this.transform(n)},hide:function v(){this.visibleShape.hide()},show:function m(){this.visibleShape.show()}},a.mapObjectFromArray(s,function(e){return function(){this.visibleShape[e].apply(this.visibleShape,arguments)}}))
e.exports=l},function(e,t,r){"use strict"
var n=r(15),i=n.StyleSheet,a=n.css
var o=r(12)
var s=r(11)
var l={grayLight:"#aaa",basicBorderColor:"#ccc",white:"#fff"}
var p={borderBottom:"9px solid transparent",borderTop:"9px solid transparent",content:'" "',height:"0",position:"absolute",top:"0",width:"0"}
var u=i.create({infoTip:{display:"inline-block",marginLeft:"5px",position:"relative"},infoTipContainer:{position:"absolute",top:"-12px",left:"22px",zIndex:"1000"},infoTipTriangle:{height:"10px",left:"0",position:"absolute",top:"8px",width:"0",zIndex:"1",":before":s.extend({},p,{borderRight:"9px solid #bbb",right:"0"}),":after":s.extend({},p,{borderRight:"9px solid "+l.white,right:"-1px"})},verticalShadow:{border:"1px solid "+l.basicBorderColor,boxShadow:"0 1px 3px "+l.basicBorderColor,borderBottom:"1px solid "+l.grayLight},infoTipContentContainer:{background:l.white,padding:"5px 10px",width:"240px"}})
var c="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3NpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NDkxMSwgMjAxMy8xMC8yOS0xMTo0NzoxNiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo2N2M3NTAxYS04YmVlLTQ0M2MtYmRiNS04OGM2N2IxN2NhYzEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OUJCRTk4Qjc4NjAwMTFFMzg3QUJDNEI4Mzk2QTRGQkQiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OUJCRTk4QjY4NjAwMTFFMzg3QUJDNEI4Mzk2QTRGQkQiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChNYWNpbnRvc2gpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NGE5ZDI0OTMtODk1NC00OGFkLTlhMTgtZDAwM2MwYWNjNDJlIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjY3Yzc1MDFhLThiZWUtNDQzYy1iZGI1LTg4YzY3YjE3Y2FjMSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pqm89uYAAADMSURBVHjaXJA9DoJAEIUH1M4TUHIFsCMGen9OwCGw1YRGW2ntKel0exsojHIBC0ouQAyUviFDstmXfNmZeS+zm7XSNCXRFiRgJf0bXIHixpbhGdxBBJYC1w/xaA424MhNEATkui71fU9KqfEU78UbD9PdbJRlOdae55GmhIP+1NV1TcMwkOM41DSNHvRtMhTHMRVFQW3b6mOLgx99kue5GRp/gIOZuZGvNpTNwjD8oliANU+qqqKu6/TQBdymN57AHjzBT+B6Jx79BRgAvc49kQA4yxgAAAAASUVORK5CYII="
var h=o.createClass({displayName:"InfoTip",getInitialState:function d(){return{hover:false}},render:function f(){return o.createElement("div",{className:a(u.infoTip)},o.createElement("img",{width:10,height:10,src:c,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave}),o.createElement("div",{className:a(u.infoTipContainer),style:{display:this.state.hover?"block":"none"}},o.createElement("div",{className:a(u.infoTipTriangle)}),o.createElement("div",{className:a(u.verticalShadow,u.infoTipContentContainer)},this.props.children)))},handleMouseEnter:function v(){this.setState({hover:true})},handleMouseLeave:function m(){this.setState({hover:false})}})
e.exports=h},function(e,t,r){"use strict"
var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]
for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}
var i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}
var a=r(129).point
var o=r(129).vector
var s=r(11)
r(163)
var l=r(81)
var p=r(159).processMath
var u=r(103)
function c(e,t){var r=Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2))
var n=Math.atan2(e[1],e[0])
n<0&&(n+=2*Math.PI)
t||(n=180*n/Math.PI)
return[r,n]}function h(e,t){"number"===typeof e&&(e=[e,e])
t=t*Math.PI/180
return[e[0]*Math.cos(t),e[1]*Math.sin(t)]}var d={unscaledSvgPath:function m(e){if(true===e[0])return""
return $.map(e,function(e,t){if(true===e)return"z"
return(0===t?"M":"L")+e[0]+" "+e[1]}).join("")},getDistance:function g(e,t){return a.distanceToPoint(e,t)},coordDiff:function y(e,t){return s.map(t,function(r,n){return t[n]-e[n]})},snapCoord:function b(e,t){return s.map(e,function(e,r){return l.roundToNearest(t[r],e)})},findAngle:function T(e,t,r){if(void 0===r){var n=e[0]-t[0]
var i=e[1]-t[1]
if(!n&&!i)return 0
return(180+180*Math.atan2(-i,-n)/Math.PI+360)%360}return d.findAngle(e,r)-d.findAngle(t,r)},graphs:{}}
var f=d.Graphie=function(){}
s.extend(f.prototype,{cartToPolar:c,polar:h})
var v={center:[-.5,-.5],above:[-.5,-1],"above right":[0,-1],right:[0,-.5],"below right":[0,0],below:[-.5,0],"below left":[-1,0],left:[-1,-.5],"above left":[-1,-1]}
d.createGraphie=function(e){var t=40
var r=40
var a=void 0
var c=void 0
$(e).css("position","relative")
var m=Raphael(e)
$(e).children("div").css("position","absolute")
var g={"stroke-width":2,fill:"none"}
var y=function N(e){if("number"===typeof e)return N([e,e])
var n=e[0]
var i=e[1]
return[n*t,i*r]}
var b=function I(e){if("number"===typeof e)return I([e,e])
var n=e[0]
var i=e[1]
return[(n-a[0])*t,(c[1]-i)*r]}
var T=function R(e){if("number"===typeof e)return R([e,e])
var n=e[0]
var i=e[1]
return[n/t+a[0],c[1]-i/r]}
var x=function O(e){if("number"===typeof e)return O([e,e])
return[e[0]/t,e[1]/r]}
var P=function A(e,t){var r=$(e)
var n=r.data("labelDirection")
r.css("visibility","")
if("number"===typeof n){var i=Math.cos(n)
var a=Math.sin(n)
var o=Math.min(t[0]/2/Math.abs(i),t[1]/2/Math.abs(a))
r.css({marginLeft:-t[0]/2+i*o,marginTop:-t[1]/2-a*o})}else{var s=v[n||"center"]
r.css({marginLeft:Math.round(t[0]*s[0]),marginTop:Math.round(t[1]*s[1])})}}
var E=function D(e,t){return $.map(e,function(e,r){if(true===e)return"z"
var n=t?e:b(e)
return(0===r?"M":"L")+l.bound(n[0])+" "+l.bound(n[1])}).join("")}
var w=function L(e,t,r){var n=function T(n){return(e*n+t)*n+r}
if(0===e){var i=s.map(a,function(e){return[e,n(e)]})
return E(i)}var o=-t/(2*e)
var p=Math.max(Math.abs(o-a[0]),Math.abs(o-a[1]))
var u=o+p
var c=[o,n(o)]
var h=[u,n(u)]
var d=[c[0],c[1]-(h[1]-c[1])]
var f=Math.abs(c[0]-h[0])
var v=[c[0]-f,h[1]]
var m=[c[0]+f,h[1]]
var g=s.map([v,d,m],b)
var y=s.map(s.flatten(g),l.bound)
return"M"+y[0]+","+y[1]+" Q"+y[2]+","+y[3]+" "+y[4]+","+y[5]}
var k=function F(e,t,r,n){var i=Math.abs(Math.PI/(2*t))
var o=function g(i){return e*Math.sin(t*i-r)+n}
var l=function y(n){return e*t*Math.cos(r-t*n)}
var p=function T(e,t){var r=e+i*t
var n=r+i
var a=[r,2*r/3+1*n/3,1*r/3+2*n/3,n]
var p=[o(r),o(r)+l(r)*(n-r)/3,o(n)-l(n)*(n-r)/3,o(n)]
return s.map(s.zip(a,p),b)}
var u=a[1]-a[0]
var c=Math.ceil(u/i)+1
var h=r/t
var d=h-a[0]
h-=i*Math.ceil(d/i)
var f=p(h,0)
var v="M"+f[0][0]+","+f[0][1]+" C"+f[1][0]+","+f[1][1]+" "+f[2][0]+","+f[2][1]+" "+f[3][0]+","+f[3][1]
for(var m=1;m<c;m++){f=p(h,m)
v+=" C"+f[1][0]+","+f[1][1]+" "+f[2][0]+","+f[2][1]+" "+f[3][0]+","+f[3][1]}return v}
d.svgPath=E
var S=function q(e){var n={scale:function o(e){"number"===typeof e&&(e=[e,e])
t=e[0]
r=e[1]
m.setSize((a[1]-a[0])*t,(c[1]-c[0])*r)},clipRect:function s(e){var t=e[0]
var r=e[1]
t[1]+=r[1]
return{"clip-rect":b(t).concat(y(r)).join(" ")}},strokeWidth:function l(e){return{"stroke-width":parseFloat(e)}},rx:function p(e){return{rx:y([e,0])[0]}},ry:function u(e){return{ry:y([0,e])[1]}},r:function h(e){var t=y([e,e])
return{rx:t[0],ry:t[1]}}}
var i={}
$.each(e||{},function(e,t){var r=n[e]
if("function"===typeof r)$.extend(i,r(t))
else{var a=e.replace(/([A-Z]+)([A-Z][a-z])/g,"$1-$2").replace(/([a-z\d])([A-Z])/g,"$1-$2").toLowerCase()
i[a]=t}})
return i}
var C=function B(e){var t=e.constructor.prototype
if(t===Raphael.el){if("path"===e.type&&"undefined"===typeof e.arrowheadsDrawn){var r=e.attr("stroke-width")
var n=.6+.4*r
var i=e.getTotalLength()
var a=m.set()
var o=m.path(_.isMobile?"M-4,4 C-4,4 -0.25,0 -0.25,0 C-0.25,0 -4,-4 -4,-4":"M-3 4 C-2.75 2.5 0 0.25 0.75 0C0 -0.25 -2.75 -2.5 -3 -4")
var s=e.getPointAtLength(i-.4)
var l=e.getPointAtLength(i-.75*n)
var p=180*Math.atan2(s.y-l.y,s.x-l.x)/Math.PI
var u=e.attr()
delete u.path
var c=e.getSubpath(0,i-.75*n)
c=m.path(c).attr(u)
c.arrowheadsDrawn=true
e.remove()
o.rotate(p,_.isMobile?1e-5:.75,0).scale(n,n,.75,0).translate(l.x,l.y).attr(u).attr({"stroke-linejoin":"round","stroke-linecap":"round"})
o.arrowheadsDrawn=true
a.push(c)
a.push(o)
return a}}else if(t===Raphael.st)for(var h=0,d=e.items.length;h<d;h++)B(e.items[h])
return e}
var M={circle:function z(e,t){return m.ellipse.apply(m,b(e).concat(y([t,t])))},rect:function U(e,t,r,n){var i=b([e,t+n])
var a=y([r,n])
var o=m.rect.apply(m,i.concat(a))
_.isMobile&&(o.node.style.shapeRendering="crispEdges")
return o},ellipse:function H(e,t){return m.ellipse.apply(m,b(e).concat(y(t)))},fixedEllipse:function W(e,t,r,n){var i=b(e)
var a=y(t)
var o=2*a[0]*r+n
var s=2*a[1]*r+n
var l=i[0]-o/2
var p=i[1]-s/2
var u=document.createElement("div")
$(u).css({position:"absolute",width:o+"px",height:s+"px",left:l+"px",top:p+"px"})
var c=Raphael(u,o,s)
var h=c.ellipse(o/2,s/2,a[0],a[1])
return{wrapper:u,visibleShape:h}},arc:function V(e,t,r,n,i){r=(r%360+360)%360
n=(n%360+360)%360
var a=b(e)
var o=y(t)
var s=h(t,r)
var l=h(t,n)
var p=b([e[0]+s[0],e[1]+s[1]])
var u=b([e[0]+l[0],e[1]+l[1]])
var c=((n-r)%360+360)%360>180
return m.path("M"+p.join(" ")+"A"+o.join(" ")+" 0 "+(c?1:0)+" 0 "+u.join(" ")+(i?"L"+a.join(" ")+"z":""))},path:function G(e){var t=m.path(E(e))
t.graphiePath=e
return t},fixedPath:function j(e,t,r){e=s.map(e,b)
t=t?b(t):null
r=r||E
var n=s.min(s.pluck(e,0))
var i=s.max(s.pluck(e,0))
var a=s.min(s.pluck(e,1))
var l=s.max(s.pluck(e,1))
var p=[4,4]
var u=[n,a]
e=s.map(e,function(e){return o.add(o.subtract(e,u),o.scale(p,.5))})
var c=i-n+p[0]
var h=l-a+p[1]
var d=u[0]-p[0]/2
var f=u[1]-p[1]/2
var v=document.createElement("div")
$(v).css({position:"absolute",width:c+"px",height:h+"px",left:d+"px",top:f+"px",transformOrigin:t?c/2+t[0]+"px "+(h/2+t[1])+"px":null})
var m=Raphael(v,c,h)
var g=m.path(r(e))
return{wrapper:v,visibleShape:g}},scaledPath:function Y(e){var t=m.path(E(e,true))
t.graphiePath=e
return t},line:function K(e,t){var r=this.path([e,t])
_.isMobile&&(r.node.style.shapeRendering="crispEdges")
return r},parabola:function X(e,t,r){return m.path(w(e,t,r))},fixedLine:function Q(e,t,r){var n=[r,r]
e=b(e)
t=b(t)
var i=[Math.min(e[0],t[0]),Math.min(e[1],t[1])]
e=o.add(o.subtract(e,i),o.scale(n,.5))
t=o.add(o.subtract(t,i),o.scale(n,.5))
var a=i[0]-n[0]/2
var s=i[1]-n[1]/2
var l=Math.abs(e[0]-t[0])+n[0]
var p=Math.abs(e[1]-t[1])+n[1]
var u=document.createElement("div")
$(u).css({position:"absolute",width:l+"px",height:p+"px",left:a+"px",top:s+"px",transformOrigin:e[0]+"px "+e[1]+"px"})
var c=Raphael(u,l,p)
var h="M"+e[0]+" "+e[1]+" L"+t[0]+" "+t[1]
var d=c.path(h)
d.graphiePath=[e,t]
return{wrapper:u,visibleShape:d}},sinusoid:function Z(e,t,r,n){return m.path(k(e,t,r,n))},grid:function J(e,t){var r=g.step||[1,1]
var n=m.set()
var i=r[0]*Math.ceil(e[0]/r[0])
for(;i<=e[1];i+=r[0])n.push(this.line([i,t[0]],[i,t[1]]))
var a=r[1]*Math.ceil(t[0]/r[1])
for(;a<=t[1];a+=r[1])n.push(this.line([e[0],a],[e[1],a]))
return n},label:function et(t,r,n,i){i="undefined"===typeof i||i
var a=$("<span>").addClass("graphie-label")
var o=g["label-distance"]
a.css($.extend({},g,{position:"absolute",padding:(null!=o?o:7)+"px"})).data("labelDirection",n).appendTo(e)
a.setPosition=function(e){var t=b(e)
a.css({left:t[0],top:t[1]})}
a.setPosition(t)
var s=a[0]
a.processMath=function(e,t){p(s,e,t,function(){var e=s.scrollWidth
var t=s.scrollHeight
P(s,[e,t])})}
a.processText=function(e){a.html(e)
var t=s.scrollWidth
var r=s.scrollHeight
P(s,[t,r])}
i?a.processMath(r,false):a.processText(r)
return a},plotParametric:function tt(e,t,n,i){i=i||function(e){return[e,0]}
var a=function w(e){if(Math.abs(e[1])>5e5)return[e[0],Math.min(Math.max(e[1],-5e5),5e5)]
return e}
var o=function k(t){return a(e(t))}
var s=function S(e){return a(i(e))}
g.strokeLinejoin||(g.strokeLinejoin="round")
g.strokeLinecap||(g.strokeLinecap="round")
var l=t[0]
var p=t[1]
var u=(p-l)/(g["plot-points"]||800)
0===u&&(u=1)
var c=m.set()
var h=[]
var f=d.coordDiff(o(l),s(l))
var v=l
for(var y=l;y<=p;y+=u){var b=o(y)
var T=s(y)
var x=d.coordDiff(b,T)
if(x[1]<0!==f[1]<0&&Math.abs(x[1]-f[1])>2*r||isNaN(x[1])){if(n){h.push(b)
for(var P=y-u;P>=v;P-=u)h.push(s(P))
v=y}c.push(this.path(h))
h=[]
n&&h.push(b)}else h.push(b)
f=x}if(n)for(var E=p-u;E>=v;E-=u)h.push(s(E))
c.push(this.path(h))
return c},plotPolar:function rt(e,r){var n=r[0]
var i=r[1]
g["plot-points"]||(g["plot-points"]=2*(i-n)*t)
return this.plotParametric(function(t){return h(e(t),180*t/Math.PI)},r)},plot:function nt(e,r,n,i,a){var o=r[0]
var s=r[1]
g["plot-points"]||(g["plot-points"]=2*(s-o)*t)
if(n){if(a)throw new Error("Can't shade area between functions with swapped axes.")
return this.plotParametric(function(t){return[e(t),t]},r,i)}if(a){if(i)return this.plotParametric(function(t){return[t,e(t)]},r,i,function(e){return[e,a(e)]})
throw new Error("fn2 should only be set when 'shade' is True.")}return this.plotParametric(function(t){return[t,e(t)]},r,i)},plotPiecewise:function it(e,t){var r=m.set()
var n=this
s.times(e.length,function(i){var a=e[i]
var o=t[i]
var l=n.plotParametric(function(e){return[e,a(e)]},o)
s.each(l,function(e){r.push(e)})})
return r},plotEndpointCircles:function at(e){var t=m.set()
var r=this
s.each(e,function(e,n){t.push(r.circle(e,.15))})
return t},plotAsymptotes:function ot(e,t){var n=t[0]
var i=t[1]
var a=(i-n)/(g["plot-points"]||800)
var o=m.set()
var s=e(n)
for(var l=n;l<=i;l+=a){var p=e(l)
p<0!==s<0&&Math.abs(p-s)>2*r&&o.push(this.line([l,r],[l,-r]))
s=p}return o}}
var _=new f
s.extend(_,{raphael:m,init:function st(n){var i=n.scale||[40,40]
i="number"===typeof i?[i,i]:i
t=i[0]
r=i[1]
if(null==n.range)return Khan.error("range should be specified in graph init")
a=n.range[0]
c=n.range[1]
var o=(a[1]-a[0])*t
var s=(c[1]-c[0])*r
m.setSize(o,s)
$(e).css({width:o,height:s})
this.range=n.range
this.scale=i
this.dimensions=[o,s]
this.xpixels=o
this.ypixels=s
this.isMobile=n.isMobile
return this},style:function lt(e,t){var r=S(e)
if("function"===typeof t){var n=g
g=$.extend({},g,r)
var i=t.call(_)
g=n
return i}$.extend(g,r)},scalePoint:b,scaleVector:y,unscalePoint:T,unscaleVector:x,svgPath:E,svgParabolaPath:w,svgSinusoidPath:k})
$.each(M,function(e){_[e]=function(){var t=arguments[arguments.length-1]
var r=g
var a=void 0
if("object"!==("undefined"===typeof t?"undefined":i(t))||s.isArray(t)){g=$.extend({},g)
a=M[e].apply(M,arguments)}else{g=n({},g,S(t))
var o=[].slice.call(arguments,0,arguments.length-1)
a=M[e].apply(M,o)}var l=a.constructor.prototype
if(l===Raphael.el||l===Raphael.st){a.attr(g)
g.arrows&&(a=C(a))}else a instanceof $&&a.css(g)
g=r
return a}})
_.graphInit=function(e){var t=this
e=e||{}
$.each(e,function(t,r){t.match(/.*Opacity$/)||"range"===t||"number"!==typeof r||(e[t]=[r,r])
"range"!==t&&"gridRange"!==t||(r.constructor===Array?r[0].constructor!==Array&&(e[t]=[[-r[0],r[0]],[-r[1],r[1]]]):"number"===typeof r&&(e[t]=[[-r,r],[-r,r]]))})
var r=e.range||[[-10,10],[-10,10]]
var n=e.gridRange||e.range
var i=e.scale||[20,20]
var a=null!=e.grid?e.grid:true
var o=e.gridOpacity||.1
var l=e.gridStep||[1,1]
var p=null!=e.axes?e.axes:true
var c=e.axisArrows||""
var h=e.axisOpacity||1
var d=e.axisCenter||[Math.min(Math.max(r[0][0],0),r[0][1]),Math.min(Math.max(r[1][0],0),r[1][1])]
var f=null!=e.axisLabels?e.axisLabels:false
var v=null!=e.ticks?e.ticks:true
var m=e.tickStep||[2,2]
var g=e.tickLen||[5,5]
var y=e.tickOpacity||1
var b=e.labels||e.labelStep||false
var T=e.labelStep||[1,1]
var x=e.labelOpacity||1
var P=e.unityLabels||false
var E=e.labelFormat||function(e){return e}
var w=e.xLabelFormat||E
var k=e.yLabelFormat||E
var S=null!=e.smartLabelPositioning?e.smartLabelPositioning:true
var C=[[r[0][0]-(r[0][0]>0?1:0),r[0][1]+(r[0][1]<0?1:0)],[r[1][0]-(r[1][0]>0?1:0),r[1][1]+(r[1][1]<0?1:0)]]
s.isArray(P)||(P=[P,P])
if(S){var M=function _(e){return function(t){return(e(t)+"").replace(/-(\d)/g,"\\llap{-}$1")}}
w=M(w)
k=M(k)}this.init({range:C,scale:i,isMobile:e.isMobile})
a&&this.grid(n[0],n[1],{stroke:e.isMobile?u.GRAY_C:"#000000",opacity:e.isMobile?1:o,step:l,strokeWidth:e.isMobile?1:2})
if(p){"<->"===c||true===c?this.style({stroke:e.isMobile?u.GRAY_G:"#000000",opacity:e.isMobile?1:h,strokeWidth:e.isMobile?1:2,arrows:"->"},function(){if(r[1][0]<0&&r[1][1]>0){this.path([d,[n[0][0],d[1]]])
this.path([d,[n[0][1],d[1]]])}if(r[0][0]<0&&r[0][1]>0){this.path([d,[d[0],n[1][0]]])
this.path([d,[d[0],n[1][1]]])}}):"->"!==c&&""!==c||this.style({stroke:"#000000",opacity:h,strokeWidth:2,arrows:c},function(){this.path([[n[0][0],d[1]],[n[0][1],d[1]]])
this.path([[d[0],n[1][0]],[d[0],n[1][1]]])})
if(f&&2===f.length){this.label([n[0][1],d[1]],f[0],"right")
this.label([d[0],n[1][1]],f[1],"above")}}v&&!function(){var a=e.isMobile
t.style({stroke:e.isMobile?u.GRAY_G:"#000000",opacity:e.isMobile?1:y,strokeWidth:1},function(){var e=l[0]*m[0]
var t=g[0]/i[1]
var o=n[0][0]
var s=n[0][1]
if(r[1][0]<0&&r[1][1]>0){for(var p=e+d[0];p<=s;p+=e)(p<s||!c)&&this.line([p,-t+d[1]],[p,a?0:t+d[1]])
for(var u=-e+d[0];u>=o;u-=e)(u>o||!c)&&this.line([u,-t+d[1]],[u,a?0:t+d[1]])}e=l[1]*m[1]
t=g[1]/i[0]
o=n[1][0]
s=n[1][1]
if(r[0][0]<0&&r[0][1]>0){for(var h=e+d[1];h<=s;h+=e)(h<s||!c)&&this.line([-t+d[0],h],[a?0:t+d[0],h])
for(var f=-e+d[1];f>=o;f-=e)(f>o||!c)&&this.line([-t+d[0],f],[a?0:t+d[0],f])}})}()
b&&this.style({stroke:e.isMobile?u.GRAY_G:"#000000",opacity:e.isMobile?1:x},function(){var e=l[0]*m[0]*T[0]
var t=n[0][0]
var r=n[0][1]
var i=d[0]<0?"above":"below"
var a=d[0]<0?"right":"left"
var o=0===d[0]&&0!==d[1]
var s=0!==d[0]&&0===d[1]
var p=0!==d[0]||0!==d[1]
var u=P[0]||p
var h=P[1]||p
for(var f=(o?0:e)+d[0];f<=r;f+=e)(f<r||!c)&&this.label([f,d[1]],w(f),i)
for(var v=-e*(u?1:2)+d[0];v>=t;v-=e)(v>t||!c)&&this.label([v,d[1]],w(v),i)
e=l[1]*m[1]*T[1]
t=n[1][0]
r=n[1][1]
for(var g=(s?0:e)+d[1];g<=r;g+=e)(g<r||!c)&&this.label([d[0],g],k(g),a)
for(var y=-e*(h?1:2)+d[1];y>=t;y-=e)(y>t||!c)&&this.label([d[0],y],k(y),a)})}
return _}
e.exports=d},function(e,t,r){"use strict"
var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}
var i=r(11)
r(164)
var a=r(137)
var o=r(129).vector
var s=r(129).point
var l=r(129).line
var p=r(158)
var u=r(102)
var c=r(162)
var h=r(81)
var d=r(103)
var f=r(111),v=f.getCanUse3dTransform
function m(e){return i.reduce(e,function(e,t){return e+t},0)}function g(e){var t=i.zip(e,e.slice(1).concat(e.slice(0,1)))
var r=i.map(t,function(e){var t=e[0]
var r=e[1]
return(r[0]-t[0])*(r[1]+t[1])})
return m(r)>0}function y(){var e=i.toArray(arguments)
var t=i.zip.apply(i,e)
return i.map(t,m)}function b(e){return i.map(e,function(e){return-1*e})}function T(e){var t=70.2941120352484
var r=11.374597405497571
var n=-.037587715462826674
return(t-r)*Math.exp(n*e)+r}function x(e,t){return[e*Math.cos(t),e*Math.sin(t)*-1]}function P(e,t){var r=t*Math.PI/180
return x(e,r)}var E=false
var w={bogusShape:{animate:function M(){},attr:function _(){},remove:function N(){}}}
i.extend(a.Graphie.prototype,{addMouseLayer:function I(e){var t=this
e=i.extend({allowScratchpad:false,setDrawingAreaAvailable:function a(){}},e)
var r=2
t.mouselayer=Raphael(t.raphael.canvas.parentNode,t.xpixels,t.ypixels)
$(t.mouselayer.canvas).css("z-index",r);(e.onClick||e.onMouseDown||e.onMouseMove||e.onMouseOver||e.onMouseOut)&&!function(){var r=t.mouselayer.rect(0,0,t.xpixels,t.ypixels).attr({fill:"#000",opacity:0})
var n=false
$(t.mouselayer.canvas).on("vmousedown",function(i){if(i.target===r[0]){e.onMouseDown&&e.onMouseDown(t.getMouseCoord(i))
n=true
e.onMouseMove&&$(document).bind("vmousemove.mouseLayer",function(r){if(n){r.preventDefault()
e.onMouseMove(t.getMouseCoord(r))}})
$(document).bind("vmouseup.mouseLayer",function(r){$(document).unbind(".mouseLayer")
n&&e.onClick&&e.onClick(t.getMouseCoord(r))
n=false})}})
e.onMouseOver&&$(t.mouselayer.canvas).on("vmouseover",function(r){e.onMouseOver(t.getMouseCoord(r))})
e.onMouseOut&&$(t.mouselayer.canvas).on("vmouseout",function(r){e.onMouseOut(t.getMouseCoord(r))})}()
e.allowScratchpad||e.setDrawingAreaAvailable(false)
t._mouselayerWrapper=document.createElement("div")
$(t._mouselayerWrapper).css({position:"absolute",left:0,top:0,zIndex:r})
t._visiblelayerWrapper=document.createElement("div")
$(t._visiblelayerWrapper).css({position:"absolute",left:0,top:0})
var n=t.raphael.canvas.parentNode
n.appendChild(t._visiblelayerWrapper)
n.appendChild(t._mouselayerWrapper)
t.addToMouseLayerWrapper=function(e){this._mouselayerWrapper.appendChild(e)}
t.addToVisibleLayerWrapper=function(e){this._visiblelayerWrapper.appendChild(e)}},getMousePx:function R(e){var t=this
var r=e.pageX-$(t.raphael.canvas.parentNode).offset().left
var n=e.pageY-$(t.raphael.canvas.parentNode).offset().top
return[r,n]},getMouseCoord:function O(e){return this.unscalePoint(this.getMousePx(e))},labelAngle:function A(e){var t=this
i.defaults(e,{point1:[0,0],vertex:[0,0],point3:[0,0],label:null,numArcs:1,showRightAngleMarker:true,pushOut:0,clockwise:false,style:{}})
var r=void 0===e.text?"":e.text
var n=e.vertex
var o=t.scalePoint(n)
var s=void 0
var l=void 0
if(e.clockwise){s=e.point1
l=e.point3}else{s=e.point3
l=e.point1}var p=a.findAngle(s,n)
var u=a.findAngle(l,n)
var c=(u+360-p)%360
var d=(p+c/2)%360
var f=5*e.pushOut
var v=f+T(c)
var m=[]
Math.abs(c-90)<1e-9&&e.showRightAngleMarker?!function(){var r=y(o,P(v,p))
var n=y(o,P(v,u))
v*=Math.SQRT2
var a=y(o,P(v,d))
i.each([r,n],function(r){m.push(t.scaledPath([r,a],e.style))})}():i.times(e.numArcs,function(r){m.push(t.arc(n,t.unscaleVector(v),p,u,e.style))
v+=3})
if(r){var g=r.match(/\$deg(\d)?/)
if(g){var b=g[1]||1
r=r.replace(g[0],h.toFixedApprox(c,b)+"^{\\circ}")}var x=P(v+15,d)
var E=y(o,x)
var w=t.unscalePoint(E)
if(e.label){e.label.setPosition(w)
e.label.processMath(r,true)}else t.label(w,r,"center",e.style)}return m},labelSide:function D(e){var t=this
i.defaults(e,{point1:[0,0],point2:[0,0],label:null,text:"",numTicks:0,numArrows:0,clockwise:false,style:{}})
var r=void 0
var n=void 0
if(e.clockwise){r=e.point1
n=e.point2}else{r=e.point2
n=e.point1}var o=[(r[0]+n[0])/2,(r[1]+n[1])/2]
var s=t.scalePoint(o)
var l=Math.atan2(n[1]-r[1],n[0]-r[0])
var p=l+Math.PI/2
var u=[]
var c=0
e.numTicks&&!function(){var r=e.numTicks
var n=5
var a=5
var o=i.extend({},e.style,{strokeWidth:2})
i.times(r,function(e){var i=n*(e-(r-1)/2)
var c=x(i,l)
var h=x(a,p)
var d=[y(s,c,h),y(s,c,b(h))]
u.push(t.scaledPath(d,o))})
c+=n*(r-1)+15}()
e.numArrows&&!function(){var a=e.numArrows
var o=[r,n].sort(function(e,t){return e[1]===t[1]?e[0]-t[0]:e[1]-t[1]})[0]
var p=t.scalePoint(o)
var h=i.extend({},e.style,{arrows:"->",strokeWidth:2})
var d=5
i.times(a,function(e){var n=c+d*e
var i=x(n,l)
o!==r&&(i=b(i))
var a=y(s,i)
u.push(t.scaledPath([p,a],h))})}()
var d=e.text
if(d){var f=d.match(/\$len(\d)?/)
if(f){var v=a.getDistance(r,n)
var m=f[1]||1
d=d.replace(f[0],h.toFixedApprox(v,m))}var g=20
var T=x(g,p)
var P=y(s,T)
var E=t.unscalePoint(P)
if(e.label){e.label.setPosition(E)
e.label.processMath(d,true)}else t.label(E,d,"center",e.style)}return u},labelVertex:function L(e){var t=this
i.defaults(e,{point1:null,vertex:[0,0],point3:null,label:null,text:"",clockwise:false,style:{}})
if(!e.text)return
var r=e.vertex
var n=t.scalePoint(r)
var o=void 0
var s=void 0
if(e.clockwise){o=e.point1
s=e.point3}else{o=e.point3
s=e.point1}var l=135
var p=void 0
if(o&&s){var u=a.findAngle(o,r)
var c=a.findAngle(s,r)
l=(c+360-u)%360
p=(u+l/2+180)%360}else if(o){var h=a.findAngle(r,o)
p=h+90}else if(s){var d=a.findAngle(s,r)
p=d+90}else p=135
var f=10+T(360-l)
var v=P(f,p)
var m=y(n,v)
var g=t.unscalePoint(m)
if(e.label){e.label.setPosition(g)
e.label.processMath(e.text,true)}else t.label(g,e.text,"center",e.style)},addMovablePoint:function F(e){var t=$.extend(true,{graph:this,coord:[0,0],snapX:0,snapY:0,pointSize:4,highlight:false,dragging:false,visible:true,bounded:true,constraints:{fixed:false,constrainX:false,constrainY:false,fixedAngle:{},fixedDistance:{}},lineStarts:[],lineEnds:[],polygonVertices:[],normalStyle:{},highlightStyle:{fill:d.INTERACTING,stroke:d.INTERACTING},labelStyle:{color:d.INTERACTIVE},vertexLabel:"",mouseTarget:null},e)
var r=t.constraints.fixed?d.DYNAMIC:d.INTERACTIVE
t.normalStyle=i.extend({},{fill:r,stroke:r},e.normalStyle)
void 0!==e.coordX&&(t.coord[0]=e.coordX)
void 0!==e.coordY&&(t.coord[1]=e.coordY)
var n=t.graph
var s=function v(e){t.visible&&t.bounded&&!t.constraints.fixed&&(e=n.constrainToBounds(e,10))
var r=e[0]
var i=e[1]
0!==t.snapX&&(r=Math.round(r/t.snapX)*t.snapX)
0!==t.snapY&&(i=Math.round(i/t.snapY)*t.snapY)
if(t.constraints.fixedDistance.snapPoints){var a=n.scalePoint(e)
var o=a[0]
var s=a[1]
var l=2*Math.PI/t.constraints.fixedDistance.snapPoints
var p=t.constraints.fixedDistance.dist
var u=t.constraints.fixedDistance.point
var c=(u[0]-n.range[0][0])*n.scale[0]
var d=(-u[1]+n.range[1][1])*n.scale[1]
var f=o-c
var v=-s+d
var m=Math.atan(v/f)
var g=f<0
g&&(m+=Math.PI)
m=Math.round(m/l)*l
f=p*Math.cos(m)
v=p*Math.sin(m)
o=f+c
s=-v+d
r=h.roundTo(5,o/n.scale[0]+n.range[0][0])
i=h.roundTo(5,n.range[1][1]-s/n.scale[1])}var y=t.applyConstraint([r,i])
return y}
t.applyConstraint=function(e,r,n){var i=e.slice()
var o={}
n?$.extend(o,{fixed:false,constrainX:false,constrainY:false,fixedAngle:{},fixedDistance:{}},r):$.extend(o,this.constraints,r)
if(o.constrainX)i=[this.coord[0],e[1]]
else if(o.constrainY)i=[e[0],this.coord[1]]
else if("number"===typeof o.fixedAngle.angle&&"number"===typeof o.fixedDistance.dist){var s=o.fixedAngle.vertex.coord||o.fixedAngle.vertex
var l=o.fixedAngle.ref.coord||o.fixedAngle.ref
var p=o.fixedDistance.point.coord||o.fixedDistance.point
var u=(o.fixedAngle.angle+a.findAngle(l,s))*Math.PI/180
var c=o.fixedDistance.dist
i[0]=c*Math.cos(u)+p[0]
i[1]=c*Math.sin(u)+p[1]}else if("number"===typeof o.fixedAngle.angle){var h=o.fixedAngle.vertex.coord||o.fixedAngle.vertex
var d=o.fixedAngle.ref.coord||o.fixedAngle.ref
var f=(o.fixedAngle.angle+a.findAngle(d,h))*Math.PI/180
var v=a.findAngle(e,h)*Math.PI/180
var m=a.getDistance(e,h)
var g=m*Math.cos(f-v)
g=g<1?1:g
i[0]=g*Math.cos(f)+h[0]
i[1]=g*Math.sin(f)+h[1]}else if("number"===typeof o.fixedDistance.dist){var y=o.fixedDistance.point.coord||o.fixedDistance.point
var b=a.findAngle(e,y)
var T=o.fixedDistance.dist
b=b*Math.PI/180
i[0]=T*Math.cos(b)+y[0]
i[1]=T*Math.sin(b)+y[1]}else o.fixed&&(i=t.coord)
return i}
t.coord=s(t.coord)
var l=2
t.visible&&n.style(t.normalStyle,function(){var e=[t.pointSize/n.scale[0],t.pointSize/n.scale[1]]
var r={maxScale:l,padding:2}
t.visibleShape=new p(n,t.coord,e,r)
t.visibleShape.attr(i.omit(t.normalStyle,"scale"))
t.visibleShape.toFront()})
t.normalStyle.scale=1
t.highlightStyle.scale=l
t.vertexLabel&&(t.labeledVertex=this.label([0,0],"","center",t.labelStyle))
t.drawLabel=function(){t.vertexLabel&&t.graph.labelVertex({vertex:t.coord,label:t.labeledVertex,text:t.vertexLabel,style:t.labelStyle})}
t.drawLabel()
t.grab=function(e){e=e||[0,0]
$(document).bind("vmousemove.point vmouseup.point",function(r){r.preventDefault()
t.dragging=true
E=true
var a=o.add(n.getMouseCoord(r),e)
a=s(a)
var l=a[0]
var p=a[1]
var u=void 0
var c=void 0
if("vmousemove"===r.type){var h=true
if(i.isFunction(t.onMove)){var d=t.onMove(l,p)
false===d&&(h=false)
if(i.isArray(d)){l=d[0]
p=d[1]}}u=(l-n.range[0][0])*n.scale[0]
c=(-p+n.range[1][1])*n.scale[1]
if(h){var f=n.unscalePoint([u,c])
t.visibleShape.moveTo(f)
t.mouseTarget.moveTo(f)
t.coord=[l,p]
t.updateLineEnds()
$(t).trigger("move")}t.drawLabel()}else if("vmouseup"===r.type){$(document).unbind(".point")
t.dragging=false
E=false
if(i.isFunction(t.onMoveEnd)){var v=t.onMoveEnd(l,p)
if(i.isArray(v)){l=v[0]
p=v[1]
u=(l-n.range[0][0])*n.scale[0]
c=(-p+n.range[1][1])*n.scale[1]
var m=n.unscalePoint([u,c])
t.visibleShape.moveTo(m)
t.mouseTarget.moveTo(m)
t.coord=[l,p]}}if(!t.highlight){t.visibleShape.animate(t.normalStyle,50)
t.onUnhighlight&&t.onUnhighlight()}}})}
if(t.visible&&!t.constraints.fixed){if(!t.mouseTarget){var u=n.unscaleVector(24)
var c={mouselayer:true,padding:0}
t.mouseTarget=new p(n,t.coord,u,c)
t.mouseTarget.attr({fill:"#000",opacity:0})}var f=$(t.mouseTarget.getMouseTarget())
f.css("cursor","move")
f.bind("vmousedown vmouseover vmouseout",function(e){if("vmouseover"===e.type){t.highlight=true
if(!E){t.visibleShape.animate(t.highlightStyle,50)
t.onHighlight&&t.onHighlight()}}else if("vmouseout"===e.type){t.highlight=false
if(!t.dragging&&!E){t.visibleShape.animate(t.normalStyle,50)
t.onUnhighlight&&t.onUnhighlight()}}else if("vmousedown"===e.type&&(1===e.which||0===e.which)){e.preventDefault()
var r=t.coord
var i=n.getMouseCoord(e)
var a=!("ontouchstart"in window)
var s=a?[0,0]:o.subtract(r,i)
t.grab(s)}})}t.moveTo=function(e,r,n){var o=a.getDistance(this.graph.scalePoint([e,r]),this.graph.scalePoint(this.coord))
var s=5*o
var l=n&&function(e){t.coord=e
t.updateLineEnds()}
this.visibleShape.animateTo([e,r],s,l)
this.mouseTarget.animateTo([e,r],s,l)
this.coord=[e,r]
i.isFunction(this.onMove)&&this.onMove(e,r)}
t.updateLineEnds=function(){$(this.lineStarts).each(function(){this.coordA=t.coord
this.transform()})
$(this.lineEnds).each(function(){this.coordZ=t.coord
this.transform()})
$(this.polygonVertices).each(function(){this.transform()})}
t.setCoord=function(e){if(this.visible){this.visibleShape.moveTo(e)
null!=this.mouseTarget&&this.mouseTarget.moveTo(e)}this.coord=e.slice()}
t.setCoordConstrained=function(e){this.setCoord(s(e))}
t.toBack=function(){if(this.visible){null!=this.mouseTarget&&this.mouseTarget.toBack()
this.visibleShape.toBack()}}
t.toFront=function(){if(this.visible){null!=this.mouseTarget&&this.mouseTarget.toFront()
this.visibleShape.toFront()}}
t.remove=function(){this.visibleShape&&this.visibleShape.remove()
this.mouseTarget&&this.mouseTarget.remove()
this.labeledVertex&&this.labeledVertex.remove()}
return t},addMovableLineSegment:function q(e){var t=$.extend({graph:this,coordA:[0,0],coordZ:[1,1],snapX:0,snapY:0,fixed:false,ticks:0,normalStyle:{},highlightStyle:{stroke:d.INTERACTING,"stroke-width":6},labelStyle:{stroke:d.INTERACTIVE,color:d.INTERACTIVE},highlight:false,dragging:false,tick:[],extendLine:false,extendRay:false,constraints:{fixed:false,constrainX:false,constrainY:false},sideLabel:"",vertexLabels:[],numArrows:0,numTicks:0,movePointsWithLine:false},e)
var r=t.fixed?d.DYNAMIC:d.INTERACTIVE
t.normalStyle=i.extend({},{"stroke-width":2,stroke:r},e.normalStyle)
t.arrowStyle=i.extend({},t.normalStyle,{color:t.normalStyle.stroke})
if(void 0!==e.pointA){t.coordA=e.pointA.coord
t.pointA.lineStarts.push(t)}else void 0!==e.coordA&&(t.coordA=e.coordA.slice())
if(void 0!==e.pointZ){t.coordZ=e.pointZ.coord
t.pointZ.lineEnds.push(t)}else void 0!==e.coordA&&(t.coordA=t.coordA.slice())
var s=t.graph
s.style(t.normalStyle)
for(var l=0;l<t.ticks;++l)t.tick[l]=w.bogusShape
var p=a.unscaledSvgPath([[0,0],[1,0]])
for(var f=0;f<t.ticks;++f){var m=.5-(t.ticks-1+2*f)/s.scale[0]
p+=a.unscaledSvgPath([[m,-7],[m,7]])}e={thickness:Math.max(t.normalStyle["stroke-width"],t.highlightStyle["stroke-width"])}
t.visibleLine=new u(s,[0,0],[1,0],e)
t.visibleLine.attr(t.normalStyle)
if(!t.fixed){var g={thickness:30,mouselayer:true}
t.mouseTarget=new u(s,[0,0],[1,0],g)
t.mouseTarget.attr({fill:"#000",opacity:0})}t.transform=function(e){if(e){"object"===n(this.pointA)&&(this.coordA=this.pointA.coord)
"object"===n(this.pointZ)&&(this.coordZ=this.pointZ.coord)}var r=function b(e){var t=e.graph.scalePoint(e.coordA)
var r=e.graph.scalePoint(e.coordZ)
return o.polarDegFromCart(o.subtract(r,t))[1]}
var a=function T(e,r,n){e=t.graph
var i=e.range[0][1]-e.range[0][0]
var a=e.range[1][1]-e.range[1][0]
var s=i+a
var l=e.unscaleVector(o.cartFromPolarDeg([1,n]))
var p=o.scale(o.normalize(l),s)
var u=o.add(r,p)
var c=o.polarDegFromCart(l)[1]
var h=e.constrainToBoundsOnAngle(u,4,c*Math.PI/180)
return h}
var l=r(this)
var p=this.coordA
var u=this.coordZ
if(this.extendLine){p=a(s,p,360-l)
u=a(s,u,(540-l)%360)}else this.extendRay&&(u=a(s,p,360-l))
var d=[this.visibleLine]
this.fixed||d.push(this.mouseTarget)
i.each(d,function(e){e.moveTo(p,u)})
var f=function x(e,t){var r=[.75,0]
var n=[[-3,4],[-2.75,2.5],[0,.25],r,[0,-.25],[-2.75,-2.5],[-3,-4]]
var s=1.4
n=i.map(n,function(e){var t=o.subtract(e,r)
var n=o.scale(t,s)
return o.add(r,n)})
var l=function f(e){var t="M"+e[0][0]+" "+e[0][1]
for(var r=1;r<e.length;r+=3)t+="C"+e[r][0]+" "+e[r][1]+" "+e[r+1][0]+" "+e[r+1][1]+" "+e[r+2][0]+" "+e[r+2][1]
return t}
var p=i.map(n,e.unscalePoint)
var u={center:e.unscalePoint(r),createPath:l}
var d=new c(e,p,u)
d.attr(i.extend({"stroke-linejoin":"round","stroke-linecap":"round","stroke-dasharray":""},t))
d.toCoordAtAngle=function(t,n){var i=e.scalePoint(a(e,t,n))
var o=v()
d.transform("translateX("+(i[0]+s*r[0])+"px) translateY("+(i[1]+s*r[1])+"px) "+(o?"translateZ(0) ":"")+"rotate("+(360-h.bound(n))+"deg)")}
return d}
if(null==this._arrows){this._arrows=[]
if(this.extendLine){this._arrows.push(f(s,this.normalStyle))
this._arrows.push(f(s,this.normalStyle))}else this.extendRay&&this._arrows.push(f(s,this.normalStyle))}var m=[this.coordA,this.coordZ]
var g=[360-l,(540-l)%360]
i.each(this._arrows,function(e,t){e.toCoordAtAngle(m[t],g[t])})
i.invoke(this.temp,"remove")
this.temp=[]
var y=this.coordA[0]<this.coordZ[0]||this.coordA[0]===this.coordZ[0]&&this.coordA[1]>this.coordZ[1]
this.sideLabel&&this.temp.push(this.graph.labelSide({point1:this.coordA,point2:this.coordZ,label:this.labeledSide,text:this.sideLabel,numArrows:this.numArrows,numTicks:this.numTicks,clockwise:y,style:this.labelStyle}))
if(this.vertexLabels.length){this.graph.labelVertex({vertex:this.coordA,point3:this.coordZ,label:this.labeledVertices[0],text:this.vertexLabels[0],clockwise:y,style:this.labelStyle})
this.graph.labelVertex({point1:this.coordA,vertex:this.coordZ,label:this.labeledVertices[1],text:this.vertexLabels[1],clockwise:y,style:this.labelStyle})}this.temp=i.flatten(this.temp)}
t.toBack=function(){t.fixed||t.mouseTarget.toBack()
t.visibleLine.toBack()}
t.toFront=function(){t.fixed||t.mouseTarget.toFront()
t.visibleLine.toFront()}
t.remove=function(){t.fixed||t.mouseTarget.remove()
t.visibleLine.remove()
t.labeledSide&&t.labeledSide.remove()
t.labeledVertices&&i.invoke(t.labeledVertices,"remove")
t._arrows&&i.invoke(t._arrows,"remove")
t.temp.length&&i.invoke(t.temp,"remove")}
t.hide=function(){t.visibleLine.hide()
t.temp.length&&i.invoke(t.temp,"hide")
t._arrows&&i.invoke(t._arrows,"hide")}
t.show=function(){t.visibleLine.show()
t.temp.length&&i.invoke(t.temp,"show")
t._arrows&&i.invoke(t._arrows,"show")}
t.sideLabel&&(t.labeledSide=this.label([0,0],"","center",t.labelStyle))
t.vertexLabels.length&&(t.labeledVertices=i.map(t.vertexLabels,function(e){return this.label([0,0],"","center",t.labelStyle)},this))
if(!t.fixed&&!t.constraints.fixed){var y=$(t.mouseTarget.getMouseTarget())
y.css("cursor","move")
y.bind("vmousedown vmouseover vmouseout",function(e){if("vmouseover"===e.type){if(!E){t.highlight=true
t.visibleLine.animate(t.highlightStyle,50)
t.arrowStyle=i.extend({},t.arrowStyle,{color:t.highlightStyle.stroke,stroke:t.highlightStyle.stroke})
t.transform()}}else if("vmouseout"===e.type){t.highlight=false
if(!t.dragging){t.visibleLine.animate(t.normalStyle,50)
t.arrowStyle=i.extend({},t.arrowStyle,{color:t.normalStyle.stroke,stroke:t.normalStyle.stroke})
t.transform()}}else"vmousedown"!==e.type||1!==e.which&&0!==e.which||!function(){e.preventDefault()
var r=(e.pageX-$(s.raphael.canvas.parentNode).offset().left)/s.scale[0]+s.range[0][0]
var a=s.range[1][1]-(e.pageY-$(s.raphael.canvas.parentNode).offset().top)/s.scale[1]
t.snapX>0&&(r=Math.round(r/t.snapX)*t.snapX)
t.snapY>0&&(a=Math.round(a/t.snapY)*t.snapY)
var o=[t.coordA[0]-r,t.coordA[1]-a]
var l=[t.coordZ[0]-r,t.coordZ[1]-a]
var p=-Math.min(s.scaleVector(o)[0],s.scaleVector(l)[0])
var u=Math.max(s.scaleVector(o)[0],s.scaleVector(l)[0])
var c=Math.max(s.scaleVector(o)[1],s.scaleVector(l)[1])
var h=-Math.min(s.scaleVector(o)[1],s.scaleVector(l)[1])
$(document).bind("vmousemove.lineSegment vmouseup.lineSegment",function(e){e.preventDefault()
t.dragging=true
E=true
var r=e.pageX-$(s.raphael.canvas.parentNode).offset().left
var a=e.pageY-$(s.raphael.canvas.parentNode).offset().top
r=Math.max(p+10,Math.min(s.xpixels-10-u,r))
a=Math.max(c+10,Math.min(s.ypixels-10-h,a))
var d=r/s.scale[0]+s.range[0][0]
var f=s.range[1][1]-a/s.scale[1]
t.snapX>0&&(d=Math.round(d/t.snapX)*t.snapX)
t.snapY>0&&(f=Math.round(f/t.snapY)*t.snapY)
if("vmousemove"===e.type){t.constraints.constrainX&&(d=t.coordA[0]-o[0])
t.constraints.constrainY&&(f=t.coordA[1]-o[1])
var v=d+o[0]-t.coordA[0]
var m=f+o[1]-t.coordA[1]
t.coordA=[d+o[0],f+o[1]]
t.coordZ=[d+l[0],f+l[1]]
t.transform()
if(t.movePointsWithLine){"object"===n(t.pointA)&&t.pointA.setCoord([t.pointA.coord[0]+v,t.pointA.coord[1]+m])
"object"===n(t.pointZ)&&t.pointZ.setCoord([t.pointZ.coord[0]+v,t.pointZ.coord[1]+m])}i.isFunction(t.onMove)&&t.onMove(v,m)}else if("vmouseup"===e.type){$(document).unbind(".lineSegment")
t.dragging=false
E=false
if(!t.highlight){t.visibleLine.animate(t.normalStyle,50)
t.arrowStyle=i.extend({},t.arrowStyle,{color:t.normalStyle.stroke,stroke:t.normalStyle.stroke})
t.transform()}i.isFunction(t.onMoveEnd)&&t.onMoveEnd()}$(t).trigger("move")})}()})}void 0!==t.pointA&&t.pointA.toFront()
void 0!==t.pointZ&&t.pointZ.toFront()
t.transform()
return t},addMovablePolygon:function B(e){var t=this
var r=$.extend({snapX:0,snapY:0,fixed:false,constrainToGraph:true,normalStyle:{},highlightStyle:{stroke:d.INTERACTING,"stroke-width":2,fill:d.INTERACTING,"fill-opacity":.05},pointHighlightStyle:{fill:d.INTERACTING,stroke:d.INTERACTING},labelStyle:{stroke:d.DYNAMIC,"stroke-width":1,color:d.DYNAMIC},angleLabels:[],showRightAngleMarkers:[],sideLabels:[],vertexLabels:[],numArcs:[],numArrows:[],numTicks:[],updateOnPointMove:true,closed:true},i.omit(e,"points"))
var n=r.fixed?d.DYNAMIC:d.INTERACTIVE
r.normalStyle=i.extend({"stroke-width":2,"fill-opacity":0,fill:n,stroke:n},e.normalStyle)
r.points=e.points
var o=function l(e){return!i.isArray(e)}
r.update=function(){var e=r.points.length
r.coords=i.map(r.points,function(e,t){return o(e)?e.coord:e})
r.left=i.min(i.pluck(r.coords,0))
r.right=i.max(i.pluck(r.coords,0))
r.top=i.max(i.pluck(r.coords,1))
r.bottom=i.min(i.pluck(r.coords,1))
var n=i.map(r.coords,function(e){return t.scalePoint(e)})
r.closed?n.push(true):n=n.concat(i.clone(n).reverse())
r.path=a.unscaledSvgPath(n)
i.invoke(r.temp,"remove")
r.temp=[]
var s=g(r.coords);(r.angleLabels.length||r.showRightAngleMarkers.length)&&i.each(r.labeledAngles,function(n,i){r.temp.push(t.labelAngle({point1:r.coords[(i-1+e)%e],vertex:r.coords[i],point3:r.coords[(i+1)%e],label:n,text:r.angleLabels[i],showRightAngleMarker:r.showRightAngleMarkers[i],numArcs:r.numArcs[i],clockwise:s,style:r.labelStyle}))})
r.sideLabels.length&&i.each(r.labeledSides,function(n,i){r.temp.push(t.labelSide({point1:r.coords[i],point2:r.coords[(i+1)%e],label:n,text:r.sideLabels[i],numArrows:r.numArrows[i],numTicks:r.numTicks[i],clockwise:s,style:r.labelStyle}))})
r.vertexLabels.length&&i.each(r.labeledVertices,function(n,i){t.labelVertex({point1:r.coords[(i-1+e)%e],vertex:r.coords[i],point3:r.coords[(i+1)%e],label:n,text:r.vertexLabels[i],clockwise:s,style:r.labelStyle})})
r.temp=i.flatten(r.temp)}
r.transform=function(){r.update()
r.visibleShape.attr({path:r.path})
r.fixed||r.mouseTarget.attr({path:r.path})}
r.remove=function(){r.visibleShape.remove()
r.fixed||r.mouseTarget.remove()
r.labeledAngles&&i.invoke(r.labeledAngles,"remove")
r.labeledSides&&i.invoke(r.labeledSides,"remove")
r.labeledVertices&&i.invoke(r.labeledVertices,"remove")
r.temp.length&&i.invoke(r.temp,"remove")}
r.toBack=function(){r.fixed||r.mouseTarget.toBack()
r.visibleShape.toBack()}
r.toFront=function(){r.fixed||r.mouseTarget.toFront()
r.visibleShape.toFront()}
r.updateOnPointMove&&i.each(i.filter(r.points,o),function(e){e.polygonVertices.push(r)})
r.coords=new Array(r.points.length)
if(r.angleLabels.length){var s=Math.max(r.angleLabels.length,r.showRightAngleMarkers.length)
r.labeledAngles=i.times(s,function(){return this.label([0,0],"","center",r.labelStyle)},this)}r.sideLabels.length&&(r.labeledSides=i.map(r.sideLabels,function(e){return this.label([0,0],"","center",r.labelStyle)},this))
r.vertexLabels.length&&(r.labeledVertices=i.map(r.vertexLabels,function(e){return this.label([0,0],"","center",r.labelStyle)},this))
r.update()
r.visibleShape=t.raphael.path(r.path)
r.visibleShape.attr(r.normalStyle)
if(!r.fixed){r.mouseTarget=t.mouselayer.path(r.path)
r.mouseTarget.attr({fill:"#000",opacity:0,cursor:"move"})
$(r.mouseTarget[0]).bind("vmousedown vmouseover vmouseout",function(e){if("vmouseover"===e.type){if(!E||r.dragging){r.highlight=true
r.visibleShape.animate(r.highlightStyle,50)
i.each(i.filter(r.points,o),function(e){e.visibleShape.animate(r.pointHighlightStyle,50)})}}else if("vmouseout"===e.type){r.highlight=false
if(!r.dragging){r.visibleShape.animate(r.normalStyle,50)
var n=i.filter(r.points,o)
i.any(i.pluck(n,"dragging"))||i.each(n,function(e){e.visibleShape.animate(e.normalStyle,50)})}}else"vmousedown"!==e.type||1!==e.which&&0!==e.which||!function(){e.preventDefault()
i.each(i.filter(r.points,o),function(e){e.dragging=true})
var n=(e.pageX-$(t.raphael.canvas.parentNode).offset().left)/t.scale[0]+t.range[0][0]
var a=t.range[1][1]-(e.pageY-$(t.raphael.canvas.parentNode).offset().top)/t.scale[1]
r.snapX>0&&(n=Math.round(n/r.snapX)*r.snapX)
r.snapY>0&&(a=Math.round(a/r.snapY)*r.snapY)
var s=n
var l=a
var p=r.coords.slice()
var u=(n-r.left)*t.scale[0]
var c=(r.right-n)*t.scale[0]
var h=(r.top-a)*t.scale[1]
var d=(a-r.bottom)*t.scale[1]
$(document).bind("vmousemove.polygon vmouseup.polygon",function(e){e.preventDefault()
r.dragging=true
E=true
var f=e.pageX-$(t.raphael.canvas.parentNode).offset().left
var v=e.pageY-$(t.raphael.canvas.parentNode).offset().top
if(r.constrainToGraph){f=Math.max(u+10,Math.min(t.xpixels-10-c,f))
v=Math.max(h+10,Math.min(t.ypixels-10-d,v))}var m=f/t.scale[0]+t.range[0][0]
var g=t.range[1][1]-v/t.scale[1]
r.snapX>0&&(m=Math.round(m/r.snapX)*r.snapX)
r.snapY>0&&(g=Math.round(g/r.snapY)*r.snapY)
if("vmousemove"===e.type)!function(){var e=m-n
var t=g-a
var u=true
if(i.isFunction(r.onMove)){var c=r.onMove(e,t)
if(false===c)u=false
else if(i.isArray(c)){e=c[0]
t=c[1]
m=n+e
g=a+t}}var h=function d(r){return[p[r][0]+e,p[r][1]+t]}
if(u){i.each(r.points,function(e,t){o(e)?e.setCoord(h(t)):r.points[t]=h(t)})
r.transform()
$(r).trigger("move")
s=m
l=g}}()
else if("vmouseup"===e.type){$(document).unbind(".polygon")
var y=i.filter(r.points,o)
i.each(y,function(e){e.dragging=false})
r.dragging=false
E=false
if(!r.highlight){r.visibleShape.animate(r.normalStyle,50)
i.each(y,function(e){e.visibleShape.animate(e.normalStyle,50)})}i.isFunction(r.onMoveEnd)&&r.onMoveEnd(s-n,l-a)}})}()})}i.invoke(i.filter(r.points,o),"toFront")
return r},constrainToBounds:function z(e,t){var r=this.unscalePoint([t,this.ypixels-t])
var n=this.unscalePoint([this.xpixels-t,t])
var i=Math.max(r[0],Math.min(n[0],e[0]))
var a=Math.max(r[1],Math.min(n[1],e[1]))
return[i,a]},constrainToBoundsOnAngle:function U(e,t,r){var n=this.unscalePoint([t,this.ypixels-t])
var i=this.unscalePoint([this.xpixels-t,t])
var a=e.slice()
a[0]<n[0]?a=[n[0],a[1]+(n[0]-a[0])*Math.tan(r)]:a[0]>i[0]&&(a=[i[0],a[1]-(a[0]-i[0])*Math.tan(r)])
a[1]<n[1]?a=[a[0]+(n[1]-a[1])/Math.tan(r),n[1]]:a[1]>i[1]&&(a=[a[0]-(a[1]-i[1])/Math.tan(r),i[1]])
return a},addMovableAngle:function H(e){return new C(this,e)},addCircleGraph:function W(e){var t=this
var r=$.extend({center:[0,0],radius:2,snapX:.5,snapY:.5,snapRadius:.5,minRadius:1,centerConstraints:{},centerNormalStyle:{},centerHighlightStyle:{stroke:d.INTERACTING,fill:d.INTERACTING},circleNormalStyle:{stroke:d.INTERACTIVE,"fill-opacity":0},circleHighlightStyle:{stroke:d.INTERACTING,fill:d.INTERACTING,"fill-opacity":.05}},e)
var n=r.centerConstraints.fixed?d.DYNAMIC:d.INTERACTIVE
var o=e?e.centerNormalStyle:null
r.centerNormalStyle=i.extend({},{fill:n,stroke:n},o)
r.centerPoint=t.addMovablePoint({graph:t,coord:r.center,normalStyle:r.centerNormalStyle,snapX:r.snapX,snapY:r.snapY,constraints:r.centerConstraints})
r.circ=t.circle(r.center,r.radius,r.circleNormalStyle)
r.perim=t.mouselayer.circle(t.scalePoint(r.center)[0],t.scalePoint(r.center)[1],t.scaleVector(r.radius)[0]).attr({"stroke-width":20,opacity:.002})
r.centerConstraints.fixed||$(r.centerPoint.mouseTarget.getMouseTarget()).on("vmouseover vmouseout",function(e){r.centerPoint.highlight||r.centerPoint.dragging?r.circ.animate(r.circleHighlightStyle,50):r.circ.animate(r.circleNormalStyle,50)})
r.toFront=function(){r.circ.toFront()
r.perim.toFront()
r.centerPoint.visibleShape.toFront()
r.centerConstraints.fixed||r.centerPoint.mouseTarget.toFront()}
r.centerPoint.onMove=function(e,n){r.toFront()
r.circ.attr({cx:t.scalePoint(e)[0],cy:t.scalePoint(n)[1]})
r.perim.attr({cx:t.scalePoint(e)[0],cy:t.scalePoint(n)[1]})
r.onMove&&r.onMove(e,n)}
$(r.centerPoint).on("move",function(){r.center=this.coord
$(r).trigger("move")})
r.setCenter=function(e,t){r.centerPoint.setCoord([e,t])
r.centerPoint.onMove(e,t)
r.center=[e,t]}
r.setRadius=function(e){r.radius=e
r.perim.attr({r:t.scaleVector(e)[0]})
r.circ.attr({rx:t.scaleVector(e)[0],ry:t.scaleVector(e)[1]})}
r.remove=function(){r.centerPoint.remove()
r.circ.remove()
r.perim.remove()}
$(r.perim[0]).css("cursor","move")
$(r.perim[0]).on("vmouseover vmouseout vmousedown",function(e){if("vmouseover"===e.type){r.highlight=true
if(!E){r.circ.animate(r.circleHighlightStyle,50)
r.centerPoint.visibleShape.animate(r.centerHighlightStyle,50)}}else if("vmouseout"===e.type){r.highlight=false
if(!r.dragging&&!r.centerPoint.dragging){r.circ.animate(r.circleNormalStyle,50)
r.centerPoint.visibleShape.animate(r.centerNormalStyle,50)}}else"vmousedown"!==e.type||1!==e.which&&0!==e.which||!function(){e.preventDefault()
r.toFront()
var n=r.radius
$(document).on("vmousemove vmouseup",function(e){e.preventDefault()
r.dragging=true
E=true
if("vmousemove"===e.type){var o=t.constrainToBounds(t.getMouseCoord(e),10)
var s=a.getDistance(r.centerPoint.coord,o)
s=Math.max(r.minRadius,Math.round(s/r.snapRadius)*r.snapRadius)
var l=r.radius
var p=true
if(r.onResize){var u=r.onResize(s,l)
i.isNumber(u)?s=u:false===u&&(p=false)}if(p){r.setRadius(s)
$(r).trigger("move")}}else if("vmouseup"===e.type){$(document).off("vmousemove vmouseup")
r.dragging=false
E=false
r.onResizeEnd&&r.onResizeEnd(r.radius,n)}})}()})
return r},addRotateHandle:function(){var e=function t(e,r,n,i,a,s,l){var p=function h(t,i){var a=n+i
var l=o.cartFromPolarDeg([a,s+t])
var p=o.add(r,l)
var u=e.scalePoint(p)
return u[0]+","+u[1]}
var u=e.scaleVector(n-i)
var c=e.scaleVector(n+i)
return e.raphael.path(" M"+p(a,-i)+" L"+p(a,-3*i)+" L"+p(2*a,0)+" L"+p(a,3*i)+" L"+p(a,i)+" A"+c[0]+","+c[1]+",0,0,1,"+p(-a,i)+" L"+p(-a,3*i)+" L"+p(-2*a,0)+" L"+p(-a,-3*i)+" L"+p(-a,-i)+" A"+u[0]+","+u[1]+",0,0,0,"+p(a,-i)+" Z").attr({stroke:null,fill:l?d.INTERACTING:d.INTERACTIVE})}
return function(t){var r=this
var n=t.center
var a=t.radius
var l=t.lengthAngle||30
var p=t.hideArrow||false
var u=t.mouseTarget
var c=i.uniqueId("rotateHandle")
i.isArray(n)&&(n={coord:n})
var h=r.addMovablePoint({coord:s.addVector(n.coord,o.cartFromPolarDeg(a,t.angleDeg||0)),constraints:{fixedDistance:{dist:a,point:n}},mouseTarget:u})
n.toFront()
var d=n.coord
var f=h.coord
var v=f
var m=false
var g=false
var y=void 0
var b=function P(i){if(p)return
var a=o.subtract(i,n.coord)
var s=o.polarDegFromCart(a)
var u=s[1]
y&&y.remove()
y=e(r,n.coord,t.radius,m||g?t.hoverWidth/2:t.width/2,l,u,m||g)}
$(n).on("move."+c,function(){var e=o.subtract(n.coord,d)
h.setCoord(o.add(h.coord,e))
b(h.coord)
d=n.coord
h.constraints.fixedDistance.point=n
f=h.coord})
h.onMove=function(e,r){if(!m){v=f
m=true}var i=[e,r]
if(t.onMove){var a=o.polarDegFromCart(o.subtract(f,n.coord))
var s=o.polarDegFromCart(o.subtract(i,n.coord))
var l=a[1]
var p=s[1]
var u=t.onMove(p,l)
if(null!=u&&true!==u){false===u&&(u=l)
i=o.add(n.coord,o.cartFromPolarDeg([a[0],u]))}}b(i)
f=i
return i}
h.onMoveEnd=function(){m=false
b(h.coord)
if(t.onMoveEnd){var e=o.polarDegFromCart(o.subtract(v,n.coord))
var r=o.polarDegFromCart(o.subtract(h.coord,n.coord))
t.onMoveEnd(r[1],e[1])}}
h.visibleShape.remove()
u||h.mouseTarget.attr({scale:2})
var T=$(h.mouseTarget.getMouseTarget())
T.bind("vmouseover",function(e){g=true
b(h.coord)})
T.bind("vmouseout",function(e){g=false
b(h.coord)})
b(h.coord)
var x=h.remove
h.remove=function(){x.call(h)
y&&y.remove()
$(n).off("move."+c)}
h.update=function(){b(h.coord)}
return h}}(),addReflectButton:function(){var e=function t(e,r,n,i,a,l,p){s.equal(n[0],n[1])&&(n=[n[0],s.addVector(n[0],[1,1])])
var u=o.normalize(o.subtract(n[1],n[0]))
var c=o.scale(u,i/2)
var h=o.scale(u,a)
var d=o.rotateDeg(h,90)
var f=o.rotateDeg(h,-90)
var v=o.negate(c)
var m=o.rotateDeg(c,90)
var g=o.rotateDeg(c,-90)
var y=s.addVectors(r,d)
var b=s.addVectors(r,f)
var T=s.addVectors(r,d,c,m)
var x=s.addVectors(r,d,v,m)
var P=s.addVectors(r,f,c,g)
var E=s.addVectors(r,f,v,g)
var w=e.path([y,T,x,true],l)
var k=e.path([b,P,E,true],p)
return{remove:function S(){w.remove()
k.remove()}}}
return function(t){var r=this
var n=t.line
var a=r.addMovablePoint({constraints:t.constraints,coord:l.midpoint([n.pointA.coord,n.pointZ.coord]),snapX:r.snap[0],snapY:r.snap[1],onMove:function y(e,t){return false},onMoveEnd:function b(e,r){t.onMoveEnd&&t.onMoveEnd.call(this,e,r)}})
var o=false
var s=false
var p=void 0
var u=function T(){return o}
var c=i.map([0,1],function(e){var r=e?t.highlightStyle:t.normalStyle
return i.map([0,1],function(e){return i.defaults({"fill-opacity":e},r)})})
var h=function x(e){s&&(e=!e)
return c[+u()][+e]}
var d=function P(n,i){p&&p.remove()
p=e(r,n,i,u()?1.5*t.size:t.size,u()?.125*t.size:.25,h(0),h(1))}
var f=function E(e,t){e=e||n.pointA.coord
t=t||n.pointZ.coord
var r=l.midpoint([e,t])
a.setCoord(r)
d(r,[e,t])}
$(n).on("move",i.bind(f,a,null,null))
var v=$(a.mouseTarget.getMouseTarget())
v.on("vclick",function(){var e=t.onClick()
if(false!==e){s=!s
d(a.coord,[n.pointA.coord,n.pointZ.coord])}})
n.pointA.toFront()
n.pointZ.toFront()
a.visibleShape.remove()
var m=r.scaleVector(t.size)[0]/20
a.mouseTarget.attr({scale:1.5*m})
v.css("cursor","pointer")
v.bind("vmouseover",function(e){o=true
d(a.coord,[n.pointA.coord,n.pointZ.coord])})
v.bind("vmouseout",function(e){o=false
d(a.coord,[n.pointA.coord,n.pointZ.coord])})
var g=a.remove
a.remove=function(){p.remove()
g.call(a)}
a.update=f
a.isFlipped=function(){return s}
f()
return a}}(),protractor:function V(e){return new k(this,e)},ruler:function G(e){return new S(this,e||{})},addPoints:y})
function k(e,t){this.set=e.raphael.set()
this.cx=t[0]
this.cy=t[1]
var r=this
var n=e.unscaleVector(180.5)[0]
var i=e.scalePoint([this.cx-n,this.cy+n-e.unscaleVector(10.5)[1]])
this.set.push(e.mouselayer.image("https://ka-perseus-graphie.s3.amazonaws.com/e9d032f2ab8b95979f674fbfa67056442ba1ff6a.png",i[0],i[1],360,180))
var o=function v(r,i){var a=e.scaleVector(n)
a[0]-=16
a[1]-=16
var o=e.scalePoint(t)
var s=Math.sin((r+90)*Math.PI/180)*(a[0]+i)+o[0]
var l=Math.cos((r+90)*Math.PI/180)*(a[1]+i)+o[1]
return s+","+l}
var s=e.raphael.path(" M"+o(180,6)+" L"+o(180,2)+" L"+o(183,10)+" L"+o(180,18)+" L"+o(180,14)+" A"+(e.scaleVector(n)[0]+10)+","+(e.scaleVector(n)[1]+10)+",0,0,1,"+o(170,14)+" L"+o(170,18)+" L"+o(167,10)+" L"+o(170,2)+" L"+o(170,6)+" A"+(e.scaleVector(n)[0]+10)+","+(e.scaleVector(n)[1]+10)+",0,0,0,"+o(180,6)+" Z").attr({stroke:null,fill:d.INTERACTIVE})
this.set.push(s)
this.centerPoint=e.addMovablePoint({coord:t,visible:false})
this.rotateHandle=e.addMovablePoint({coord:[Math.sin(275*Math.PI/180)*(n+.5)+this.cx,Math.cos(275*Math.PI/180)*(n+.5)+this.cy],onMove:function m(e,t){var n=180*Math.atan2(r.centerPoint.coord[1]-t,r.centerPoint.coord[0]-e)/Math.PI
r.rotate(-n-5,true)}})
this.rotateHandle.constraints.fixedDistance.dist=n+.5
this.rotateHandle.constraints.fixedDistance.point=this.centerPoint
this.rotateHandle.visibleShape.remove()
this.rotateHandle.mouseTarget.attr({scale:2})
var l=false
var p=false
var u=function g(){return p||l}
var c=this
var h=$(c.rotateHandle.mouseTarget.getMouseTarget())
h.bind("vmousedown",function(e){l=true
s.animate({scale:1.5,fill:d.INTERACTING},50)
$(document).bind("vmouseup.rotateHandle",function(e){l=false
u()||s.animate({scale:1,fill:d.INTERACTIVE},50)
$(document).unbind("vmouseup.rotateHandle")})})
h.bind("vmouseover",function(e){p=true
s.animate({scale:1.5,fill:d.INTERACTING},50)})
h.bind("vmouseout",function(e){p=false
u()||s.animate({scale:1,fill:d.INTERACTIVE},50)})
var f=$.map(this.set,function(e){return e.node})
this.makeTranslatable=function y(){$(f).css("cursor","move")
$(f).bind("vmousedown",function(t){t.preventDefault()
var n=t.pageX-$(e.raphael.canvas.parentNode).offset().left
var i=t.pageY-$(e.raphael.canvas.parentNode).offset().top
$(document).bind("vmousemove.protractor",function(t){var a=t.pageX-$(e.raphael.canvas.parentNode).offset().left
var o=t.pageY-$(e.raphael.canvas.parentNode).offset().top
a=Math.max(10,Math.min(e.xpixels-10,a))
o=Math.max(10,Math.min(e.ypixels-10,o))
var s=a-n
var l=o-i
$.each(r.set.items,function(){this.translate(s,l)})
r.centerPoint.setCoord([r.centerPoint.coord[0]+s/e.scale[0],r.centerPoint.coord[1]-l/e.scale[1]])
r.rotateHandle.setCoord([r.rotateHandle.coord[0]+s/e.scale[0],r.rotateHandle.coord[1]-l/e.scale[1]])
n=a
i=o})
$(document).one("vmouseup",function(e){$(document).unbind("vmousemove.protractor")})})}
this.rotation=0
this.rotate=function(t,r){var n=e.scalePoint(this.centerPoint.coord)
r&&(this.rotation=0)
this.set.rotate(this.rotation+t,n[0],n[1])
this.rotation=this.rotation+t
return this}
this.moveTo=function b(t,n){var i=e.scalePoint(r.centerPoint.coord)
var o=e.scalePoint([t,n])
var s=2*a.getDistance(i,o)
$({x:i[0],y:i[1]}).animate({x:o[0],y:o[1]},{duration:s,step:function l(t,n){var i=0
var a=0
"x"===n.prop?i=t-e.scalePoint(r.centerPoint.coord)[0]:"y"===n.prop&&(a=t-e.scalePoint(r.centerPoint.coord)[1])
$.each(r.set.items,function(){this.translate(i,a)})
r.centerPoint.setCoord([r.centerPoint.coord[0]+i/e.scale[0],r.centerPoint.coord[1]-a/e.scale[1]])
r.rotateHandle.setCoord([r.rotateHandle.coord[0]+i/e.scale[0],r.rotateHandle.coord[1]-a/e.scale[1]])}})}
this.rotateTo=function T(e){Math.abs(this.rotation-e)>180&&(this.rotation+=360)
var t=5*Math.abs(this.rotation-e)
$({0:this.rotation}).animate({0:e},{duration:t,step:function i(e,t){r.rotate(e,true)
r.rotateHandle.setCoord([Math.sin((e+275)*Math.PI/180)*(n+.5)+r.centerPoint.coord[0],Math.cos((e+275)*Math.PI/180)*(n+.5)+r.centerPoint.coord[1]])}})}
this.remove=function(){this.set.remove()}
this.makeTranslatable()
return this}function S(e,t){i.defaults(t,{center:[0,0],pixelsPerUnit:40,ticksPerUnit:10,units:10,label:"",style:{fill:null,stroke:d.GRAY}})
var r=i.extend({},t.style,{strokeWidth:1})
var n=i.extend({},t.style,{strokeWidth:2})
var s=t.units*t.pixelsPerUnit
var l=50
var p=e.unscalePoint(o.subtract(e.scalePoint(t.center),o.scale([s,-l],.5)))
var u=t.pixelsPerUnit/e.scale[0]
var c=l/e.scale[0]
var h=o.add(p,[t.units*u,c])
var f=1
var v=void 0
if(10===t.ticksPerUnit)v={10:f,5:.55*f,1:.35*f}
else{var m=[1,.6,.45,.3]
v={}
for(var g=t.ticksPerUnit;g>=1;g/=2)v[g]=f*(m.shift()||.2)}var y=i.keys(v).sort(function(e,t){return t-e})
function b(e){for(var t=0;t<y.length;t++){var r=y[t]
if(e%r===0)return v[r]}}var T=p[0]
var x=p[1]
var P=h[0]
var E=h[1]
var w=t.units*t.ticksPerUnit+1
var k=e.raphael.set()
var S=1/e.scale[0]
k.push(e.line([T-S,x],[P+S,x],n))
k.push(e.line([T-S,E],[P+S,E],n))
i.times(w,function(i){var a=i/t.ticksPerUnit
var o=T+a*u
var s=b(i)*c
var l=0===i||i===w-1?n:r
k.push(e.line([o,x],[o,x+s],l))
if(a%1===0){var p=e.scalePoint([o,E])
var h=void 0
var d=void 0
if(0===a){h=t.label
d={mm:13,cm:11,m:8,km:11,"in":8,ft:8,yd:10,mi:10}[h]||3*h.toString().length}else{h=a
d=-3*(a.toString().length+1)}var f=e.raphael.text(p[0]+d,p[1]+10,h)
f.attr({"font-family":"KaTeX_Main","font-size":"12px",color:"#444"})
k.push(f)}})
var C=e.mouselayer.path(a.svgPath([p,[T,E],h,[P,x],true]))
C.attr({fill:"#000",opacity:0,stroke:"#000","stroke-width":2})
k.push(C)
var M=$.map(k,function(e){return e.node})
$(M).css("cursor","move")
$(M).bind("vmousedown",function(t){t.preventDefault()
var r=t.pageX-$(e.raphael.canvas.parentNode).offset().left
var n=t.pageY-$(e.raphael.canvas.parentNode).offset().top
$(document).bind("vmousemove.ruler",function(t){var i=t.pageX-$(e.raphael.canvas.parentNode).offset().left
var a=t.pageY-$(e.raphael.canvas.parentNode).offset().top
i=Math.max(10,Math.min(e.xpixels-10,i))
a=Math.max(10,Math.min(e.ypixels-10,a))
var o=i-r
var s=a-n
k.translate(o,s)
_.setCoord([_.coord[0]+o/e.scale[0],_.coord[1]-s/e.scale[1]])
N.setCoord([N.coord[0]+o/e.scale[0],N.coord[1]-s/e.scale[1]])
r=i
n=a})
$(document).one("vmouseup",function(e){$(document).unbind("vmousemove.ruler")})})
var _=e.addMovablePoint({coord:p,normalStyle:{fill:d.INTERACTIVE,"fill-opacity":0,stroke:d.INTERACTIVE},highlightStyle:{fill:d.INTERACTING,"fill-opacity":.1,stroke:d.INTERACTING},pointSize:6,onMove:function I(t,r){var n=N.coord[1]-r
var i=N.coord[0]-t
var a=180*Math.atan2(n,i)/Math.PI
var s=o.scale(o.add([t,r],N.coord),.5)
var l=e.scalePoint(s)
var p=o.scale(o.add(_.coord,N.coord),.5)
var u=e.scalePoint(p)
var c=o.subtract(l,u)
k.rotate(-a,u[0],u[1])
k.translate(c[0],c[1])}})
var N=e.addMovablePoint({coord:[P,x],normalStyle:{fill:d.INTERACTIVE,"fill-opacity":0,stroke:d.INTERACTIVE},highlightStyle:{fill:d.INTERACTING,"fill-opacity":.1,stroke:d.INTERACTING},pointSize:6,onMove:function R(t,r){var n=r-_.coord[1]
var i=t-_.coord[0]
var a=180*Math.atan2(n,i)/Math.PI
var s=o.scale(o.add([t,r],_.coord),.5)
var l=e.scalePoint(s)
var p=o.scale(o.add(_.coord,N.coord),.5)
var u=e.scalePoint(p)
var c=o.subtract(l,u)
k.rotate(-a,u[0],u[1])
k.translate(c[0],c[1])}})
_.constraints.fixedDistance.dist=s/e.scale[0]
_.constraints.fixedDistance.point=N
N.constraints.fixedDistance.dist=s/e.scale[0]
N.constraints.fixedDistance.point=_
this.remove=function(){k.remove()
_.remove()
N.remove()}
return this}function C(e,t){this.graphie=e
i.extend(this,t)
i.defaults(this,{normalStyle:{stroke:d.INTERACTIVE,"stroke-width":2,fill:d.INTERACTIVE},highlightStyle:{stroke:d.INTERACTING,"stroke-width":2,fill:d.INTERACTING},labelStyle:{stroke:d.DYNAMIC,"stroke-width":1,color:d.DYNAMIC},angleStyle:{stroke:d.DYNAMIC,"stroke-width":1,color:d.DYNAMIC},allowReflex:true})
if(!this.points||3!==this.points.length)throw new Error("MovableAngle requires 3 points")
this.points=i.map(t.points,function(t){return i.isArray(t)?e.addMovablePoint({coord:t,visible:false,constraints:{fixed:true},normalStyle:this.normalStyle}):t},this)
this.coords=i.pluck(this.points,"coord")
null==this.reflex&&(this.allowReflex?this.reflex=this._getClockwiseAngle(this.coords)>180:this.reflex=false)
this.rays=i.map([0,2],function(t){return e.addMovableLineSegment({pointA:this.points[1],pointZ:this.points[t],fixed:true,extendRay:true})},this)
this.temp=[]
this.labeledAngle=e.label([0,0],"","center",this.labelStyle)
if(!this.fixed){this.addMoveHandlers()
this.addHighlightHandlers()}this.update()}i.extend(C.prototype,{points:[],snapDegrees:0,snapOffsetDeg:0,angleLabel:"",numArcs:1,pushOut:0,fixed:false,addMoveHandlers:function j(){var e=this.graphie
function t(t,r){var n=30
var i=a.getDistance(e.scalePoint(t),e.scalePoint(r))
return i<n}var r=this.points
r[1].onMove=function(n,o){var s=r[1].coord
var l=[n,o]
var p=y(l,b(s))
var u=true
var c={}
i.each([0,2],function(n){var i=r[n].coord
var o=y(i,p)
var s=a.findAngle(l,o)
s*=Math.PI/180
o=e.constrainToBoundsOnAngle(o,10,s)
c[n]=o
t(l,o)&&(u=false)})
u&&i.each(c,function(e,t){r[t].setCoord(e)})
return u}
var n=this.snapDegrees
var o=this.snapOffsetDeg
i.each([0,2],function(i){r[i].onMove=function(i,s){var l=[i,s]
var p=r[1].coord
if(t(p,l))return false
if(n){var u=a.findAngle(l,p)
u=Math.round((u-o)/n)*n+o
var c=a.getDistance(l,p)
return y(p,e.polar(c,u))}return true}})
$(r).on("move",function(){this.update()
$(this).trigger("move")}.bind(this))},addHighlightHandlers:function Y(){var e=this.points[1]
e.onHighlight=function(){i.each(this.points,function(e){e.visibleShape.animate(this.highlightStyle,50)},this)
i.each(this.rays,function(e){e.visibleLine.animate(this.highlightStyle,50)
e.arrowStyle=i.extend({},e.arrowStyle,{color:this.highlightStyle.stroke,stroke:this.highlightStyle.stroke})},this)
this.angleStyle=i.extend({},this.angleStyle,{color:this.highlightStyle.stroke,stroke:this.highlightStyle.stroke})
this.update()}.bind(this)
e.onUnhighlight=function(){i.each(this.points,function(e){e.visibleShape.animate(this.normalStyle,50)},this)
i.each(this.rays,function(e){e.visibleLine.animate(e.normalStyle,50)
e.arrowStyle=i.extend({},e.arrowStyle,{color:e.normalStyle.stroke,stroke:e.normalStyle.stroke})},this)
this.angleStyle=i.extend({},this.angleStyle,{color:d.DYNAMIC,stroke:d.DYNAMIC})
this.update()}.bind(this)},_getClockwiseAngle:function K(e){var t=(a.findAngle(e[2],e[0],e[1])+360)%360
return t},isReflex:function X(){return this.reflex},isClockwise:function Q(){var e=this._getClockwiseAngle(this.coords)>180
return e===this.reflex},getClockwiseCoords:function Z(){return this.isClockwise()?i.clone(this.coords):i.clone(this.coords).reverse()},update:function J(e){var t=this.coords
this.coords=i.pluck(this.points,"coord")
i.invoke(this.points,"updateLineEnds")
var r=this._getClockwiseAngle(t)
var n=this._getClockwiseAngle(this.coords)
var a=r>180
var o=n>180
if(this.allowReflex){null==e&&(e=a!==o&&Math.abs(n-r)<180)
e&&(this.reflex=!this.reflex)}i.invoke(this.temp,"remove")
this.temp=this.graphie.labelAngle({point1:this.coords[0],vertex:this.coords[1],point3:this.coords[2],label:this.labeledAngle,text:this.angleLabel,numArcs:this.numArcs,pushOut:this.pushOut,clockwise:this.reflex===o,style:this.angleStyle})},remove:function et(){i.invoke(this.rays,"remove")
i.invoke(this.temp,"remove")
this.labeledAngle.remove()}})
e.exports=w},function(e,t,r){"use strict"
var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]
for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}
var i=r(11)
var a=r(129).point
function o(e,t){return e+":"+t}function s(e){return e.split(":")[0]}var l={_fireEvent:function p(e,t,r){i.invoke(e,"call",this,t,r)},_applyConstraints:function u(e,t,r){var o=this
var s=false
return i.reduce(this.state.constraints,function(e,i){if(false===e)return false
if(s)return e
var l=i.call(o,e,t,n({onSkipRemaining:function p(){s=true}},r))
if(false===l)return false
if(a.is(l,2))return l
if(true===l||null==l)return e
throw new Error("Constraint returned invalid result: "+l)},e,this)},draw:function c(){var e=this.cloneState()
l._fireEvent.call(this,this.state.draw,e,this.prevState)
this.prevState=e},listen:function h(e,t,r){this._listenerMap=this._listenerMap||{}
var n=o(e,t)
var i=this._listenerMap[n]=this._listenerMap[n]||this.state[e].length
this.state[e][i]=r},unlisten:function d(e,t){this._listenerMap=this._listenerMap||{}
var r=o(e,t)
var n=this._listenerMap[r]
if(void 0!==n){this.state[e].splice(n,1)
delete this._listenerMap[r]
var a=i.keys(this._listenerMap)
i.each(a,function(t){s(t)===e&&this._listenerMap[t]>n&&this._listenerMap[t]--},this)}}}
e.exports=l},function(e,t,r){"use strict"
var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]
for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}
var i=r(12)
var a=r(178),o=a.connect
var s=r(15),l=s.StyleSheet
var p=r(151),u=p.View
var c=r(165)
var h=r(166)
var d=r(167)
var f=r(168)
var v=r(148),m=v.setPageSize
var g=r(126),y=g.keyIdPropType
var b=r(116),T=b.KeypadTypes,x=b.LayoutModes
var P=r(169),E=P.row,w=P.centered,k=P.fullWidth
var S=r(146),C=S.innerBorderColor,M=S.innerBorderStyle,_=S.innerBorderWidthPx,N=S.compactKeypadBorderRadiusPx
var I=i.createClass({displayName:"KeypadContainer",propTypes:{active:i.PropTypes.bool,extraKeys:i.PropTypes.arrayOf(y),keypadType:i.PropTypes.oneOf(Object.keys(T)).isRequired,layoutMode:i.PropTypes.oneOf(Object.keys(x)).isRequired,navigationPadEnabled:i.PropTypes.bool.isRequired,onDismiss:i.PropTypes.func,onElementMounted:i.PropTypes.func,onPageSizeChange:i.PropTypes.func.isRequired,style:i.PropTypes.any},getInitialState:function q(){return{hasBeenActivated:false,viewportWidth:"100vw"}},componentWillMount:function B(){this.props.active&&this.setState({hasBeenActivated:this.props.active})},componentDidMount:function z(){this._onResize()
window.addEventListener("resize",this._throttleResizeHandler)
window.addEventListener("orientationchange",this._throttleResizeHandler)},componentWillReceiveProps:function U(e){!this.state.hasBeenActivated&&e.active&&this.setState({hasBeenActivated:true})},componentDidUpdate:function H(e){e.active&&!this.props.active&&this.props.onDismiss&&this.props.onDismiss()},componentWillUnmount:function W(){window.removeEventListener("resize",this._throttleResizeHandler)
window.removeEventListener("orientationchange",this._throttleResizeHandler)},_throttleResizeHandler:function V(){var e=this
null==this._resizeTimeout&&(this._resizeTimeout=setTimeout(function(){e._resizeTimeout=null
e._onResize()},66))},_onResize:function G(){this.setState({viewportWidth:window.innerWidth})
this.props.onPageSizeChange(window.innerWidth,window.innerHeight)},renderKeypad:function j(){var e=this.props,t=e.extraKeys,r=e.keypadType,n=e.layoutMode,a=e.navigationPadEnabled
var o={extraKeys:t,roundTopLeft:n===x.COMPACT&&!a,roundTopRight:n===x.COMPACT}
switch(r){case T.FRACTION:return i.createElement(c,o)
case T.EXPRESSION:return i.createElement(h,o)
default:throw new Error("Invalid keypad type: "+r)}},render:function Y(){var e=this
var t=this.props,r=t.active,a=t.layoutMode,o=t.navigationPadEnabled,s=t.onElementMounted,l=t.style
var p=this.state.hasBeenActivated
var c=n({},r?D.active:D.hidden,r||p?{}:D.invisible)
var h=[E,w,k,A.keypadContainer].concat(Array.isArray(l)?l:[l])
var f=[E,A.keypadBorder,a===x.FULLSCREEN?A.fullscreen:A.compact]
return i.createElement(u,{style:h,dynamicStyle:c},i.createElement(u,{style:f,ref:function v(t){if(!e.hasMounted&&t){e.hasMounted=true
s(t)}}},o&&i.createElement(d,{roundTopLeft:a===x.COMPACT,style:A.navigationPadContainer}),i.createElement(u,{style:A.keypadLayout},this.renderKeypad())))}})
var R=300
var O=1
var A=l.create({keypadContainer:{bottom:0,left:0,right:0,position:"fixed",transition:R+"ms ease-out",transitionProperty:"transform",zIndex:f.keypad},keypadBorder:{boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.1)",borderColor:"rgba(0, 0, 0, 0.2)",borderStyle:"solid"},fullscreen:{borderTopWidth:O},compact:{borderTopRightRadius:N,borderTopLeftRadius:N,borderTopWidth:O,borderRightWidth:O,borderLeftWidth:O},navigationPadContainer:{borderRight:_+"px "+M+" "+C,boxSizing:"content-box"},keypadLayout:{flexGrow:1,flexBasis:"0%"}})
var D={invisible:{visibility:"hidden"},hidden:{msTransform:"translate3d(0, 100%, 0)",WebkitTransform:"translate3d(0, 100%, 0)",transform:"translate3d(0, 100%, 0)"},active:{msTransform:"translate3d(0, 0, 0)",WebkitTransform:"translate3d(0, 0, 0)",transform:"translate3d(0, 0, 0)"}}
var L=function K(e){return n({},e.keypad,{layoutMode:e.layout.layoutMode,navigationPadEnabled:e.layout.navigationPadEnabled})}
var F=function X(e){return{onPageSizeChange:function t(r,n){e(m(r,n))}}}
e.exports=o(L,F)(I)},function(e,t,r){"use strict"
e.exports={NONE:"NONE",IN_PARENS:"IN_PARENS",IN_SUPER_SCRIPT:"IN_SUPER_SCRIPT",IN_SUB_SCRIPT:"IN_SUB_SCRIPT",IN_NUMERATOR:"IN_NUMERATOR",IN_DENOMINATOR:"IN_DENOMINATOR",BEFORE_FRACTION:"BEFORE_FRACTION"}},function(e,t,r){"use strict"
var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]
for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}
var i=r(12)
var a=r(146),o=a.cursorHandleRadiusPx,s=a.brightGreen,l=a.cursorHandleDistanceMultiplier
var p=22
var u=2*p
var c=2*p
var h=o
var d=l*h+h
var f=2*h
var v=i.createClass({displayName:"CursorHandle",propTypes:{animateIntoPosition:i.PropTypes.bool,onTouchCancel:i.PropTypes.func.isRequired,onTouchEnd:i.PropTypes.func.isRequired,onTouchMove:i.PropTypes.func.isRequired,onTouchStart:i.PropTypes.func.isRequired,visible:i.PropTypes.bool.isRequired,x:i.PropTypes.number.isRequired,y:i.PropTypes.number.isRequired},getDefaultProps:function m(){return{animateIntoPosition:false,visible:false,x:0,y:0}},render:function g(){var e=this.props,t=e.x,r=e.y,a=e.animateIntoPosition
var o=a?{msTransitionDuration:"100ms",WebkitTransitionDuration:"100ms",transitionDuration:"100ms",msTransitionProperty:"transform",WebkitTransitionProperty:"transform",transitionProperty:"transform"}:{}
var l="translate("+t+"px, "+r+"px)"
var v=n({position:"absolute",zIndex:4,left:-c/2,top:0,msTransform:l,WebkitTransform:l,transform:l,width:c,height:u},o)
var m={marginLeft:p-h}
return i.createElement("span",{style:v,onTouchStart:this.props.onTouchStart,onTouchMove:this.props.onTouchMove,onTouchEnd:this.props.onTouchEnd,onTouchCancel:this.props.onTouchCancel},i.createElement("svg",{width:f,height:d,viewBox:"-"+h+" 0 "+f+" "+d,style:m},i.createElement("path",{d:"M 0 0\n                        L -"+.707*h+" "+.707*h+"\n                        A "+h+" "+h+", 0, 1, 0,\n                          "+.707*h+" "+.707*h+"\n                        Z",fill:s})))}})
e.exports=v},function(e,t,r){"use strict"
var n,i,a
function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var $=r(16)
var s=window.MathQuill
var l=r(170)
var p=r(141)
var u=r(116),c=u.DecimalSeparators
var h=r(171),d=h.decimalSeparator
var f=d===c.COMMA?",":"."
var v="write"
var m="cmd"
var g="keystroke"
var y=0
var b=(n={},n[l.PLUS]={str:"+",fn:v},n[l.MINUS]={str:"-",fn:v},n[l.NEGATIVE]={str:"-",fn:v},n[l.TIMES]={str:"\\times",fn:v},n[l.DIVIDE]={str:"\\div",fn:v},n[l.DECIMAL]={str:f,fn:v},n[l.EQUAL]={str:"=",fn:v},n[l.NEQ]={str:"\\neq",fn:v},n[l.CDOT]={str:"\\cdot",fn:v},n[l.PERCENT]={str:"%",fn:v},n[l.LEFT_PAREN]={str:"(",fn:m},n[l.RIGHT_PAREN]={str:")",fn:m},n[l.SQRT]={str:"sqrt",fn:m},n[l.PI]={str:"pi",fn:m},n[l.THETA]={str:"theta",fn:m},n[l.RADICAL]={str:"nthroot",fn:m},n[l.LT]={str:"<",fn:v},n[l.LEQ]={str:"\\leq",fn:v},n[l.GT]={str:">",fn:v},n[l.GEQ]={str:"\\geq",fn:v},n[l.UP]={str:"Up",fn:g},n[l.DOWN]={str:"Down",fn:g},n[l.FRAC_INCLUSIVE]={str:"/",fn:m},n)
var T=(i={},i[l.LOG]="log",i[l.LN]="ln",i[l.SIN]="sin",i[l.COS]="cos",i[l.TAN]="tan",i)
var x=["+","-","\\cdot","\\times","\\div"]
var P=["=","\\neq","<","\\leq",">","\\geq"]
var E=["0","1","2","3","4","5","6","7","8","9"]
var w=["\\theta","\\pi"]
var k=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"]
var S=[].concat(E,w,k.map(function(e){return e.toLowerCase()}),k.map(function(e){return e.toUpperCase()}))
var C=(a={},a[p.IN_PARENS]=l.JUMP_OUT_PARENTHESES,a[p.IN_SUPER_SCRIPT]=l.JUMP_OUT_EXPONENT,a[p.IN_SUB_SCRIPT]=l.JUMP_OUT_BASE,a[p.BEFORE_FRACTION]=l.JUMP_INTO_NUMERATOR,a[p.IN_NUMERATOR]=l.JUMP_OUT_NUMERATOR,a[p.IN_DENOMINATOR]=l.JUMP_OUT_DENOMINATOR,a)
var M=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}
var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}
o(this,e)
this.MQ=s.getInterface(2)
this.mathField=this.MQ.MathField(t,{substituteTextarea:function i(){return document.createElement("span")}})
this.callbacks=n}e.prototype.focus=function t(){var e=this.mathField.__controller
e.cursor.show()
e.blurred=false}
e.prototype.blur=function r(){var e=this.mathField.__controller
e.cursor.hide()
e.blurred=true}
e.prototype._writeNormalFunction=function n(e){this.mathField.write("\\"+e+"\\left(\\right)")
this.mathField.keystroke("Left")}
e.prototype.pressKey=function i(e){var t=this.mathField.__controller.cursor
if(e in b){var r=b[e],n=r.str,i=r.fn
n&&i&&this.mathField[i](n)}else if(Object.keys(T).includes(e))this._writeNormalFunction(T[e])
else if(e===l.FRAC_EXCLUSIVE){var a=t[this.MQ.L]===y
this.mathField.cmd("\\frac")
a&&this.mathField.keystroke("Left")}else if(e===l.LOG_N){this.mathField.write("log_{ }\\left(\\right)")
this.mathField.keystroke("Left")
this.mathField.keystroke("Left")
this.mathField.keystroke("Left")}else if(e===l.CUBE_ROOT){this.mathField.write("\\sqrt[3]{}")
this.mathField.keystroke("Left")}else e===l.EXP||e===l.EXP_2||e===l.EXP_3?this._handleExponent(t,e):e===l.JUMP_OUT_PARENTHESES||e===l.JUMP_OUT_EXPONENT||e===l.JUMP_OUT_BASE||e===l.JUMP_INTO_NUMERATOR||e===l.JUMP_OUT_NUMERATOR||e===l.JUMP_OUT_DENOMINATOR?this._handleJumpOut(t,e):e===l.BACKSPACE?this._handleBackspace(t):e===l.LEFT?this._handleLeftArrow(t):e===l.RIGHT||e===l.JUMP_OUT?this._handleRightArrow(t):/^[a-zA-Z]$/.test(e)?this.mathField[v](e):/^NUM_\d/.test(e)&&this.mathField[v](e[4])
t.selection||t.show()
this.callbacks.onSelectionChanged&&this.callbacks.onSelectionChanged(t.selection)
return{context:this.contextForCursor(t)}}
e.prototype.setCursorPosition=function a(e,t,r){var n=r||document.elementFromPoint(e,t)
if(n){var i=this.getCursor()
if(n.hasAttribute("mq-root-block"))i.insAtRightEnd(this.mathField.__controller.root)
else{var a=this.mathField.__controller
var o=e-document.body.scrollLeft
var s=t-document.body.scrollTop
a.seek($(n),o,s).cursor.startSelection()
var l=this._maybeFindCommand(i[this.MQ.L])
if(l&&l.endNode){i.insLeftOf(l.endNode)
this.mathField.keystroke("Right")}}this.callbacks.onCursorMove&&this.callbacks.onCursorMove({context:this.contextForCursor(i)})}}
e.prototype.getCursor=function u(){return this.mathField.__controller.cursor}
e.prototype.getSelection=function c(){return this.getCursor().selection}
e.prototype.getContent=function h(){return this.mathField.latex()}
e.prototype.setContent=function d(e){this.mathField.latex(e)}
e.prototype.isEmpty=function f(){var e=this.getCursor()
return 1===e.parent.id&&0===e[1]&&0===e[-1]}
e.prototype._handleBackspaceInNthRoot=function m(e){var t=e[this.MQ.L]===y
var r=this._isInsideEmptyNode(e.parent.parent.blocks[0].ends)
if(t){this._selectNode(e.parent.parent,e)
r&&this.mathField.keystroke("Backspace")}else this.mathField.keystroke("Backspace")}
e.prototype._handleJumpOut=function g(e,t){var r=this.contextForCursor(e)
if(C[r]!==t)return
switch(r){case p.IN_PARENS:e.insRightOf(e.parent.parent)
break
case p.BEFORE_FRACTION:var n=void 0
var i=e
while(i[this.MQ.R]!==y){this._isFraction(i[this.MQ.R])&&(n=i[this.MQ.R])
i=i[this.MQ.R]}e.insLeftOf(n)
this.mathField.keystroke("Right")
break
case p.IN_NUMERATOR:var a=e.parent.parent.blocks[1]
while(e.parent!==a)this.mathField.keystroke("Right")
break
case p.IN_DENOMINATOR:e.insRightOf(e.parent.parent)
break
case p.IN_SUB_SCRIPT:e.insRightOf(e.parent.parent)
this._isParens(e[this.MQ.R])&&this.mathField.keystroke("Right")
break
case p.IN_SUPER_SCRIPT:e.insRightOf(e.parent.parent)
break
default:throw new Error("Attempted to 'Jump Out' from node, but found no appropriate cursor context: "+r)}}
e.prototype._handleBackspace=function E(e){if(e.selection)this.mathField.keystroke("Backspace")
else{var t=e.parent
var r=t.parent
var n=e[this.MQ.L]
this._isFraction(n)?this._selectNode(n,e):this._isSquareRoot(n)?this._selectNode(n,e):this._isNthRoot(n)?this._selectNode(n,e):this._isNthRootIndex(t)?this._handleBackspaceInRootIndex(e):"\\left("===n.ctrlSeq?this._handleBackspaceOutsideParens(e):"\\left("===r.ctrlSeq?this._handleBackspaceInsideParens(e):this._isInsideLogIndex(e)?this._handleBackspaceInLogIndex(e):"\\ge "===n.ctrlSeq||"\\le "===n.ctrlSeq?this._handleBackspaceAfterLigaturedSymbol(e):this._isNthRoot(r)&&n===y?this._handleBackspaceInNthRoot(e):this.mathField.keystroke("Backspace")}}
e.prototype._handleLeftArrow=function w(e){if(e[this.MQ.L]===y){var t=e.parent
var r=t.parent
if("\\left("===r.ctrlSeq){var n=this._maybeFindCommandBeforeParens(r)
if(n){e.insLeftOf(n.startNode)
return}}}this.mathField.keystroke("Left")}
e.prototype._handleRightArrow=function k(e){var t=this._maybeFindCommand(e[this.MQ.R])
if(t){e.insLeftOf(t.endNode)
this.mathField.keystroke("Right")}else this.mathField.keystroke("Right")}
e.prototype._handleExponent=function M(e,t){var r=[].concat(x,P)
var n=e[this.MQ.L]
var i=n===y||r.includes(n.ctrlSeq.trim())
i&&this.mathField.write("\\left(\\right)")
switch(t){case l.EXP:this.mathField.cmd("^")
break
case l.EXP_2:case l.EXP_3:this.mathField.write("^"+(t===l.EXP_2?2:3))
if(i){this.mathField.keystroke("Left")
this.mathField.keystroke("Left")
this.mathField.keystroke("Left")
this.mathField.keystroke("Left")}break
default:throw new Error("Invalid exponent key: "+t)}}
e.prototype._maybeFindCommand=function _(e){if(!e)return null
var t=/^[a-z]$/
var r=/^\\[a-z]$/
var n="\\left("
var i=["\\log","\\ln","\\cos","\\sin","\\tan"]
var a=""
var o=void 0
var s=void 0
var l=e
while(0!==l){var p=l.ctrlSeq.trim()
if(!t.test(p)){if(r.test(p)){a=p+a
o=l
break}break}a=p+a
l=l[this.MQ.L]}if(o){l=e[this.MQ.R]
while(0!==l){var u=l.ctrlSeq.trim()
if(t.test(u))a+=u
else if(u===n){s=l
break}l=l[this.MQ.R]}return i.includes(a)?{name:a,startNode:o,endNode:s}:null}return null}
e.prototype._maybeFindCommandBeforeParens=function N(e){return this._maybeFindCommand(e[this.MQ.L])}
e.prototype._selectNode=function I(e,t){t.insLeftOf(e)
t.startSelection()
t.insRightOf(e)
t.select()
t.endSelection()}
e.prototype._isFraction=function R(e){return e.jQ&&e.jQ.hasClass("mq-fraction")}
e.prototype._isNumerator=function O(e){return e.jQ&&e.jQ.hasClass("mq-numerator")}
e.prototype._isDenominator=function A(e){return e.jQ&&e.jQ.hasClass("mq-denominator")}
e.prototype._isSubScript=function D(e){return e.jQ&&(e.jQ.hasClass("mq-sub-only")||e.jQ.hasClass("mq-sub"))}
e.prototype._isSuperScript=function L(e){return e.jQ&&(e.jQ.hasClass("mq-sup-only")||e.jQ.hasClass("mq-sup"))}
e.prototype._isParens=function F(e){return e&&"\\left("===e.ctrlSeq}
e.prototype._isLeaf=function q(e){return e&&e.ctrlSeq&&S.includes(e.ctrlSeq.trim())}
e.prototype._isSquareRoot=function B(e){return e.blocks&&e.blocks[0].jQ&&e.blocks[0].jQ.hasClass("mq-sqrt-stem")}
e.prototype._isNthRoot=function z(e){return e.blocks&&e.blocks[0].jQ&&e.blocks[0].jQ.hasClass("mq-nthroot")}
e.prototype._isNthRootIndex=function U(e){return e.jQ&&e.jQ.hasClass("mq-nthroot")}
e.prototype._isInsideLogIndex=function H(e){var t=e.parent.parent
if(t&&t.jQ.hasClass("mq-supsub")){var r=this._maybeFindCommandBeforeParens(t)
if(r&&"\\log"===r.name)return true}return false}
e.prototype._isInsideEmptyNode=function W(e){return e[this.MQ.L]===y&&e[this.MQ.R]===y}
e.prototype._handleBackspaceInRootIndex=function V(e){if(this._isInsideEmptyNode(e)){var t=e.parent.parent
var r=t.latex()
var n=t[this.MQ.L]
this._selectNode(t,e)
var i=""===t.blocks[1].jQ.text()
if(i)this.mathField.keystroke("Backspace")
else{this.mathField.keystroke("Backspace")
this.mathField.write(r.replace(/^\\sqrt\[\]/,"\\sqrt"))
n===y?this.mathField.moveToDirEnd(this.MQ.L):e.insRightOf(n)}}else e[this.MQ.L]!==y&&this.mathField.keystroke("Backspace")}
e.prototype._handleBackspaceInLogIndex=function G(e){if(this._isInsideEmptyNode(e)){var t=e.parent.parent
var r=this._maybeFindCommandBeforeParens(t)
e.insLeftOf(r.startNode)
e.startSelection()
t[this.MQ.R]!==y?e.insRightOf(t[this.MQ.R]):e.insRightOf(t)
e.select()
e.endSelection()
var n=""===t[this.MQ.R].contentjQ.text()
n&&this.mathField.keystroke("Backspace")}else this.mathField.keystroke("Backspace")}
e.prototype._handleBackspaceOutsideParens=function j(e){var t=e[this.MQ.L]
var r=e[this.MQ.R]
var n=this._maybeFindCommandBeforeParens(t)
if(n&&n.startNode){e.insLeftOf(n.startNode)
e.startSelection()
r===y?e.insAtRightEnd(e.parent):e.insLeftOf(r)
e.select()
e.endSelection()}else{e.startSelection()
e.insLeftOf(t)
e.select()
e.endSelection()}}
e.prototype._handleBackspaceInsideParens=function Y(e){if(e[this.MQ.L]!==y){this.mathField.keystroke("Backspace")
return}var t=e.parent.parent
if(t[this.MQ.L].sub&&t[this.MQ.L].sub.jQ.text()){e.insAtRightEnd(t[this.MQ.L].sub)
return}var r=this._isInsideEmptyNode(e)
var n=this._maybeFindCommandBeforeParens(t)
e.insLeftOf(n&&n.startNode||t)
e.startSelection()
e.insRightOf(t)
e.select()
e.endSelection()
r&&this.mathField.keystroke("Backspace")}
e.prototype._handleBackspaceAfterLigaturedSymbol=function K(e){this.mathField.keystroke("Backspace")
this.mathField.keystroke("Backspace")}
e.prototype.contextForCursor=function X(e){var t=e
while(t[this.MQ.R]!==y){if(this._isFraction(t[this.MQ.R]))return p.BEFORE_FRACTION
if(!this._isLeaf(t[this.MQ.R]))break
t=t[this.MQ.R]}return this._isParens(e.parent&&e.parent.parent)?p.IN_PARENS:this._isNumerator(e.parent)?p.IN_NUMERATOR:this._isDenominator(e.parent)?p.IN_DENOMINATOR:this._isSubScript(e.parent)?p.IN_SUB_SCRIPT:this._isSuperScript(e.parent)?p.IN_SUPER_SCRIPT:p.NONE}
e.prototype._isAtTopLevel=function Q(e){return!e.parent.parent}
return e}()
e.exports=M},function(e,t,r){"use strict"
var n=r(146),i=n.toolbarHeightPx
var a=function o(e,t){var r=e.getBoundingClientRect()
var n=r.bottom
var a=r.top
var o=16
if(t){var s=window.innerHeight
var l=t.clientHeight
var p=s-(l+i)
if(n>p){var u=Math.min(n-p+o,a)
document.body.scrollTop+=u
return}}a<o&&(document.body.scrollTop-=r.height+o)}
e.exports=a},function(e,t,r){"use strict"
function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=8
var a=function(){function e(t,r){n(this,e)
this._scrollListener=function(){t()}
var a={}
for(var o=0;o<r.changedTouches.length;o++){var s=r.changedTouches[o]
a[s.identifier]=[s.clientX,s.clientY]}this._moveListener=function(e){for(var r=0;r<e.changedTouches.length;r++){var n=e.changedTouches[r]
var o=a[n.identifier]
if(o){var s=[n.clientX,n.clientY]
var l=s[0]-o[0]
var p=s[1]-o[1]
var u=l*l+p*p
var c=i*i
u>c&&t()}}}
this._endAndCancelListener=function(e){for(var t=0;t<e.changedTouches.length;t++)delete a[e.changedTouches[t].identifier]}}e.prototype.attach=function t(){window.addEventListener("scroll",this._scrollListener)
window.addEventListener("touchmove",this._moveListener)
window.addEventListener("touchend",this._endAndCancelListener)
window.addEventListener("touchcancel",this._endAndCancelListener)}
e.prototype.detach=function r(){window.removeEventListener("scroll",this._scrollListener)
window.removeEventListener("touchmove",this._moveListener)
window.removeEventListener("touchend",this._endAndCancelListener)
window.removeEventListener("touchcancel",this._endAndCancelListener)}
return e}()
e.exports=a},function(e,t,r){"use strict"
var n="#D6D8DA"
e.exports={brightGreen:"#78C008",gray17:"#21242C",gray25:"#3B3E40",gray68:"#888D93",gray76:"#BABEC2",gray85:n,iconSizeHeightPx:48,iconSizeWidthPx:48,compactKeypadBorderRadiusPx:4,cursorHandleRadiusPx:11,cursorHandleDistanceMultiplier:1.41,valueGrey:"#FFF",operatorGrey:"#FAFAFA",controlGrey:"#F6F7F7",emptyGrey:"#F0F1F2",innerBorderColor:n,innerBorderStyle:"solid",innerBorderWidthPx:1,tabletCutoffPx:600,pageIndicatorHeightPx:16,navigationPadWidthPx:192,toolbarHeightPx:60}},function(e,t,r){"use strict"
var n,i,a
var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]
for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}
var s=r(15),l=s.StyleSheet,p=s.css
var u=r(11)
var c=r(12)
var h=r(14)
var d=r(19),f=d.ClassNames
var v=r(37)
var m=r(38)
var g=r(36)
var y=r(172)
var b=m.checkedColor
var T={backgroundColor:m.satSelectedBackgroundColor,borderTopColor:"transparent",borderBottomColor:"transparent",outline:"2px solid "+m.satBlue,zIndex:1}
var x=c.createClass({displayName:"Choice",propTypes:{apiOptions:c.PropTypes.shape({satStyling:c.PropTypes.bool,isMobile:c.PropTypes.bool}),checked:c.PropTypes.bool,className:c.PropTypes.string,clue:c.PropTypes.node,content:c.PropTypes.node,correct:c.PropTypes.bool,deselectEnabled:c.PropTypes.bool,disabled:c.PropTypes.bool,editMode:c.PropTypes.bool,groupName:c.PropTypes.string,isLastChoice:c.PropTypes.bool,onChecked:c.PropTypes.func.isRequired,pos:c.PropTypes.number,reviewMode:c.PropTypes.bool,showClue:c.PropTypes.bool,type:c.PropTypes.string},statics:{styles:l.create({pos:{display:"none"},satDescription:{display:"block",position:"relative",borderTop:"1px solid #ccc",boxSizing:"border-box",cursor:"pointer",marginLeft:0,padding:"17px 14px","::after":{bottom:-1,content:'" "',height:1,left:0,position:"absolute",width:"100%",zIndex:1}},satDescriptionLastChoice:{borderBottom:"1px solid #ccc"},satDescriptionInputFocused:o({},T),satDescriptionInputActive:o({},T,{backgroundColor:m.satActiveBackgroundColor}),satDescriptionCorrect:{color:m.satCorrectColor,":focus":{borderColor:m.satCorrectColor,outlineColor:m.satCorrectColor}},satDescriptionCorrectChecked:{backgroundColor:m.satCorrectBackgroundColor,borderBottomColor:m.satCorrectBorderColor,borderTopColor:m.satCorrectBorderColor,":after":{backgroundColor:m.satCorrectBorderColor}},satDescriptionIncorrectChecked:{color:m.satIncorrectColor,backgroundColor:m.satIncorrectBackgroundColor,borderBottomColor:m.satIncorrectBorderColor,borderTopColor:m.satIncorrectBorderColor,":after":{backgroundColor:m.satIncorrectBorderColor},":focus":{borderColor:m.satIncorrectColor,outlineColor:m.satIncorrectColor}},input:{display:"inline-block",width:20,margin:3,marginLeft:-20,marginRight:0,"float":"none"},satReviewInput:{pointerEvents:"none"},satRadioOptionContent:{userSelect:"text",display:"block",marginLeft:45,cursor:"inherit"},satReviewRadioOptionContent:{fontWeight:"bold"},responsiveCheckboxInput:(n={},n[g.lgOrSmaller]={border:"none",borderRadius:4,":checked":{backgroundColor:b,boxShadow:"none"},":checked::before":{display:"flex",alignItems:"center",justifyContent:"center",content:'"✓"',color:"white",fontFamily:"monospace",fontSize:17,height:m.circleSize,width:m.circleSize}},n),responsiveMobileCheckboxInput:(i={},i[g.lgOrSmaller]={display:"none"},i),satCheckboxOptionContent:{position:"absolute",display:"block",top:"50%",margin:"-16px 0 0 0",width:"auto"},satPosBack:{display:"block",borderRadius:25,border:"2px solid "+m.satBlue,content:"''",height:25,width:25,position:"absolute",top:1,left:1},satPosBackChecked:{background:m.satBlue},satPosBackCorrect:{borderColor:m.satCorrectColor},satPosBackCorrectChecked:{background:m.satCorrectColor},satPosBackIncorrectChecked:{borderColor:m.satIncorrectColor,background:m.satIncorrectColor},satPos:{display:"block",color:m.satBlue,fontFamily:m.boldFontFamily,fontSize:13,textAlign:"center",position:"absolute",left:0,top:7,width:32},satPosChecked:{color:"#fff"},satPosCorrect:{color:m.satCorrectColor},clue:{display:"block"},satReviewClue:{marginTop:13,marginLeft:45},label:{display:"block"},responsiveLabel:(a={},a[g.lgOrSmaller]={WebkitTapHighlightColor:"transparent",alignItems:"center",display:"flex",padding:"17px 0"},a),satLabel:{cursor:"pointer"}})},getDefaultProps:function P(){return{checked:false,classSet:{},disabled:false,editMode:false,showClue:false,type:"radio",pos:0}},getInitialState:function E(){return{isInputFocused:false,isInputActive:false}},onInputFocus:function w(){this.setState({isInputFocused:true})},onInputBlur:function k(){this.setState({isInputFocused:false})},onInputMouseDown:function S(){this.setState({isInputActive:true})
this.props.apiOptions.satStyling&&this._input&&this._input.focus()},onInputMouseUp:function C(){this.setState({isInputActive:false})
this.props.apiOptions.satStyling&&this._input&&this._input.focus()},onInputMouseOut:function M(){this.setState({isInputActive:false})},inputRef:function _(e){this._input=e},render:function N(){var e=this
var t=String.fromCharCode(65+this.props.pos)
var r=function _(){if(e.props.checked){if("boolean"===typeof e.props.correct)return e.props.correct?i18n._("(Choice %(letter)s, Checked, Correct)",{letter:t}):i18n._("(Choice %(letter)s, Checked, Incorrect)",{letter:t})
return i18n._("(Choice %(letter)s, Checked)",{letter:t})}if(e.props.correct)return i18n._("(Choice %(letter)s, Correct Answer)",{letter:t})
return i18n._("(Choice %(letter)s)",{letter:t})}
var n=x.styles
var i=this.props.apiOptions.satStyling
var a=this.props.apiOptions.isMobile
var s=h(this.props.className,"checkbox-label",p(n.label,a&&v.disableTextSelection,!i&&n.responsiveLabel,i&&n.satLabel))
var l={type:this.props.type,name:this.props.groupName,checked:this.props.checked,disabled:this.props.disabled,onFocus:this.onInputFocus,onBlur:this.onInputBlur,className:p(v.perseusInteractive,n.input,v.responsiveInput,"radio"===this.props.type&&!i&&v.responsiveRadioInput,"radio"===this.props.type&&a&&!i&&v.responsiveMobileRadioInput,"checkbox"===this.props.type&&!i&&n.responsiveCheckboxInput,"checkbox"===this.props.type&&a&&!i&&n.responsiveMobileCheckboxInput,i&&"radio"===this.props.type&&v.perseusSrOnly,i&&"checkbox"===this.props.type&&n.satCheckboxInput,i&&this.props.reviewMode&&n.satReviewInput)}
var u=null
u="radio"===this.props.type&&this.props.deselectEnabled?c.createElement(y,o({onChecked:this.props.onChecked,inputRef:this.inputRef},l)):c.createElement("input",o({onChange:function N(t){e.props.onChecked(t.target.checked)},ref:this.inputRef},l))
var d=this.props,m=d.reviewMode,g=d.correct,b=d.checked,T=d.isLastChoice
var P=i&&m&&g
var E=i&&m&&!g&&b
var w=h("description",P&&"sat-correct",E&&"sat-incorrect",p(i&&this.state.isInputFocused&&n.satDescriptionInputFocused,i&&this.state.isInputActive&&n.satDescriptionInputActive,i&&n.satDescription,P&&n.satDescriptionCorrect,P&&b&&n.satDescriptionCorrectChecked,E&&n.satDescriptionIncorrectChecked,i&&T&&n.satDescriptionLastChoice))
var k="checkbox "+p(i&&v.perseusInteractive,i&&n.satCheckboxOptionContent)
var S="pos-back "+p(n.pos,i&&n.satPosBack,i&&(this.props.checked||this.state.isInputActive)&&n.satPosBackChecked,i&&m&&g&&n.satPosBackCorrect,i&&m&&g&&b&&n.satPosBackCorrectChecked,i&&m&&!g&&b&&n.satPosBackIncorrectChecked)
var C="pos "+p(n.pos,i&&n.satPos,i&&g&&n.satPosCorrect,i&&(this.props.checked||this.state.isInputActive)&&n.satPosChecked)
var M=this.props.editMode?"div":"label"
return c.createElement(M,{className:s,style:{opacity:!i&&this.props.disabled?.5:1}},u,c.createElement("div",{className:w,onMouseDown:this.onInputMouseDown,onMouseUp:this.onInputMouseUp,onMouseOut:this.onInputMouseOut},c.createElement("div",{className:"checkbox-and-option"},c.createElement("span",{className:k},c.createElement("div",{className:S}),c.createElement("div",{className:C},c.createElement("span",{className:"perseus-sr-only"},r()),c.createElement("span",{"aria-hidden":"true"},t))),c.createElement("span",{className:h(f.RADIO.OPTION_CONTENT,f.INTERACTIVE,p(i&&n.satRadioOptionContent,i&&m&&n.satReviewRadioOptionContent)),style:{cursor:"default"}},c.createElement("div",null,this.props.content))),this.props.showClue&&c.createElement("div",{className:h("perseus-radio-clue",p(n.clue,m&&n.satReviewClue))},this.props.clue)))}})
e.exports=x},function(e,t,r){"use strict"
e.exports={dismissKeypad:function n(){return{type:"DismissKeypad"}},activateKeypad:function i(){return{type:"ActivateKeypad"}},configureKeypad:function a(e){return{type:"ConfigureKeypad",configuration:e}},setPageSize:function o(e,t){return{type:"SetPageSize",pageWidthPx:e,pageHeightPx:t}},removeEcho:function s(e){return{type:"RemoveEcho",animationId:e}},setKeyHandler:function l(e){return{type:"SetKeyHandler",keyHandler:e}},setCursor:function p(e){return{type:"SetCursor",cursor:e}}}},function(e,t,r){"use strict"
var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]
for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}
var i
var a=r(186)
var o=r(146),s=o.tabletCutoffPx
var l=r(173)
var p=r(116),u=p.DeviceOrientations,c=p.DeviceTypes,h=p.EchoAnimationTypes,d=p.KeyTypes,f=p.KeypadTypes,v=p.LayoutModes
var m=r(170)
var g=r(150)
var y=r(141)
var b=r(174)
var T=r(175)
var x=r(165)
var P=r(166)
var E=(i={},i[f.FRACTION]=x,i[f.EXPRESSION]=P,i)
var w=function k(){var e={keyHandler:null,cursor:{context:y.NONE}}
var t=function D(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e
var r=arguments[1]
switch(r.type){case"SetKeyHandler":return n({},t,{keyHandler:r.keyHandler})
case"PressKey":var i=g[r.key]
if(i.type!==d.KEYPAD_NAVIGATION)return n({},t,{cursor:t.keyHandler(i.id)})
return t
case"SetCursor":return n({},t,{cursor:r.cursor})
default:return t}}
var r=f.EXPRESSION
var i={extraKeys:["x","y",m.THETA,m.PI],keypadType:r,active:false}
var o=function L(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i
var t=arguments[1]
switch(t.type){case"DismissKeypad":return n({},e,{active:false})
case"ActivateKeypad":return n({},e,{active:true})
case"ConfigureKeypad":return n({},e,{extraKeys:[]},t.configuration)
case"PressKey":var r=g[t.key]
if(r.id===m.DISMISS)return L(e,{type:"DismissKeypad"})
return e
default:return e}}
var p=function F(e){return e-1}
var x={animateToPosition:false,currentPage:p(E[r].numPages),dx:0,numPages:E[r].numPages,pageWidthPx:0,velocityTracker:new T}
var P=function q(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x
var t=arguments[1]
switch(t.type){case"ConfigureKeypad":var r=t.configuration.keypadType
var i=E[r].numPages
return n({},e,{numPages:i,animateToPosition:false,currentPage:p(i),dx:0})
case"SetPageSize":return n({},e,{pageWidthPx:t.pageWidthPx})
case"PressKey":var a=g[t.key]
if(a.type===d.VALUE||a.type===d.OPERATOR)return q(e,{type:"ResetKeypadPage"})
return e
case"ResetKeypadPage":return n({},e,{animateToPosition:true,currentPage:p(e.numPages),dx:0})
case"PageKeypadRight":var o=Math.min(e.currentPage+1,e.numPages-1)
return n({},e,{animateToPosition:true,currentPage:o,dx:0})
case"PageKeypadLeft":var s=Math.max(e.currentPage-1,0)
return n({},e,{animateToPosition:true,currentPage:s,dx:0})
case"OnSwipeChange":e.velocityTracker.push(t.dx)
return n({},e,{animateToPosition:false,dx:t.dx})
case"OnSwipeEnd":var l=e.pageWidthPx,u=e.velocityTracker
var c=t.dx
var h=u.getVelocity()
var f=.1
var v=10
var m=c<-l/2||h<-f&&c<-v
var y=c>l/2||h>f&&c>v
if(m)return q(e,{type:"PageKeypadRight"})
if(y)return q(e,{type:"PageKeypadLeft"})
return n({},e,{animateToPosition:true,dx:0})
default:return e}}
var w=function B(e){return new b({swipeEnabled:e},{onSwipeChange:function t(e){A.dispatch({type:"OnSwipeChange",dx:e})},onSwipeEnd:function r(e){A.dispatch({type:"OnSwipeEnd",dx:e})},onActiveNodesChanged:function i(e){A.dispatch({type:"SetActiveNodes",activeNodes:e})},onClick:function a(e,t,r){A.dispatch(n({type:"PressKey",key:e},t,{inPopover:r}))}},[],[m.BACKSPACE,m.UP,m.RIGHT,m.DOWN,m.LEFT])}
var k={popover:null,focus:null,gestureManager:w(E[r].numPages>1)}
var S=function z(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k
var t=arguments[1]
switch(t.type){case"DismissKeypad":e.gestureManager.disableEventTracking()
return e
case"ActivateKeypad":e.gestureManager.enableEventTracking()
return e
case"SetActiveNodes":return n({},e,t.activeNodes)
case"ConfigureKeypad":var r=t.configuration.keypadType
var i=E[r].numPages
var a=i>1
return{popover:null,focus:null,gestureManager:w(a)}
default:return e}}
var C=0
var M={echoes:[]}
var _=function U(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M
var t=arguments[1]
switch(t.type){case"PressKey":var r=g[t.key]
if(r.type===d.VALUE||r.type===d.OPERATOR)return n({},e,{echoes:[].concat(e.echoes,[{animationId:""+C++,animationType:t.inPopover?h.LONG_FADE_ONLY:h.FADE_ONLY,borders:t.borders,id:r.id,initialBounds:t.initialBounds}])})
return e
case"RemoveEcho":var i=e.echoes.filter(function(e){return e.animationId!==t.animationId})
return n({},e,{echoes:i})
default:return e}}
var N={gridDimensions:{numRows:E[r].rows,numColumns:E[r].columns,numMaxVisibleRows:E[r].maxVisibleRows,numPages:E[r].numPages},buttonDimensions:{widthPx:48,heightPx:48},pageDimensions:{pageWidthPx:0,pageHeightPx:0},layoutMode:v.FULLSCREEN,paginationEnabled:false,navigationPadEnabled:false}
var I=function H(e,t){var r=e.pageWidthPx,i=e.pageHeightPx
var a=r>i?u.LANDSCAPE:u.PORTRAIT
var o=Math.min(r,i)>s?c.TABLET:c.PHONE
var p=o===c.TABLET
var h=o===c.PHONE&&a===u.PORTRAIT
var d={deviceOrientation:a,deviceType:o}
var f={navigationPadEnabled:p,paginationEnabled:h,toolbarEnabled:true}
return n({},l(t,e,d,f),{navigationPadEnabled:p,paginationEnabled:h})}
var R=function W(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N
var t=arguments[1]
switch(t.type){case"ConfigureKeypad":var r=t.configuration.keypadType
var i={numRows:E[r].rows,numColumns:E[r].columns,numMaxVisibleRows:E[r].maxVisibleRows,numPages:E[r].numPages}
return n({},e,I(e.pageDimensions,i),{gridDimensions:i})
case"SetPageSize":var a=t.pageWidthPx,o=t.pageHeightPx
var s={pageWidthPx:a,pageHeightPx:o}
return n({},e,I(s,e.gridDimensions),{pageDimensions:s})
default:return e}}
var O=a.combineReducers({input:t,keypad:o,pager:P,gestures:S,echoes:_,layout:R})
var A=a.createStore(O)
return A}
e.exports=w},function(e,t,r){"use strict"
var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]
for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}
var i
var a=r(170)
var o=r(116),s=o.DecimalSeparators,l=o.IconTypes,p=o.KeyTypes
var u=r(171),c=u.decimalSeparator
var h=(i={},i[a.PLUS]={type:p.OPERATOR,ariaLabel:i18n._("Plus")},i[a.MINUS]={type:p.OPERATOR,ariaLabel:i18n._("Minus")},i[a.NEGATIVE]={type:p.VALUE,ariaLabel:i18n._("Negative")},i[a.TIMES]={type:p.OPERATOR,ariaLabel:i18n._("Multiply")},i[a.DIVIDE]={type:p.OPERATOR,ariaLabel:i18n._("Divide")},i[a.DECIMAL]={type:p.VALUE,ariaLabel:i18n._("Decimal"),icon:c===s.COMMA?{type:l.TEXT,data:","}:{type:l.SVG,data:a.PERIOD}},i[a.PERCENT]={type:p.OPERATOR,ariaLabel:i18n._("Percent")},i[a.CDOT]={type:p.OPERATOR,ariaLabel:i18n._("Multiply")},i[a.EQUAL]={type:p.OPERATOR,ariaLabel:i18n._("Equals sign")},i[a.NEQ]={type:p.OPERATOR,ariaLabel:i18n._("Not-equals sign")},i[a.GT]={type:p.OPERATOR,ariaLabel:i18n._("Greater than sign")},i[a.LT]={type:p.OPERATOR,ariaLabel:i18n._("Less than sign")},i[a.GEQ]={type:p.OPERATOR,ariaLabel:i18n._("Greater than or equal to sign")},i[a.LEQ]={type:p.OPERATOR,ariaLabel:i18n._("Less than or equal to sign")},i[a.FRAC_INCLUSIVE]={type:p.OPERATOR,ariaLabel:i18n._("Fraction, with current expression in numerator")},i[a.FRAC_EXCLUSIVE]={type:p.OPERATOR,ariaLabel:i18n._("Fraction, excluding the current expression")},i[a.EXP]={type:p.OPERATOR,ariaLabel:i18n._("Custom exponent")},i[a.EXP_2]={type:p.OPERATOR,ariaLabel:i18n._("Square")},i[a.EXP_3]={type:p.OPERATOR,ariaLabel:i18n._("Cube")},i[a.SQRT]={type:p.OPERATOR,ariaLabel:i18n._("Square root")},i[a.CUBE_ROOT]={type:p.OPERATOR,ariaLabel:i18n._("Cube root")},i[a.RADICAL]={type:p.OPERATOR,ariaLabel:i18n._("Radical with custom root")},i[a.LEFT_PAREN]={type:p.OPERATOR,ariaLabel:i18n._("Left parenthesis")},i[a.RIGHT_PAREN]={type:p.OPERATOR,ariaLabel:i18n._("Right parenthesis")},i[a.LN]={type:p.OPERATOR,ariaLabel:i18n._("Natural logarithm")},i[a.LOG]={type:p.OPERATOR,ariaLabel:i18n._("Logarithm with base 10")},i[a.LOG_N]={type:p.OPERATOR,ariaLabel:i18n._("Logarithm with custom base")},i[a.SIN]={type:p.OPERATOR,ariaLabel:i18n._("Sine")},i[a.COS]={type:p.OPERATOR,ariaLabel:i18n._("Cosine")},i[a.TAN]={type:p.OPERATOR,ariaLabel:i18n._("Tangent")},i[a.PI]={type:p.VALUE,ariaLabel:i18n._("Pi"),icon:{type:l.MATH,data:"\\pi"}},i[a.THETA]={type:p.VALUE,ariaLabel:i18n._("Theta"),icon:{type:l.MATH,data:"\\theta"}},i[a.NOOP]={type:p.EMPTY},i[a.UP]={type:p.INPUT_NAVIGATION,ariaLabel:i18n._("Up arrow")},i[a.RIGHT]={type:p.INPUT_NAVIGATION,ariaLabel:i18n._("Right arrow")},i[a.DOWN]={type:p.INPUT_NAVIGATION,ariaLabel:i18n._("Down arrow")},i[a.LEFT]={type:p.INPUT_NAVIGATION,ariaLabel:i18n._("Left arrow")},i[a.JUMP_OUT_PARENTHESES]={type:p.INPUT_NAVIGATION,ariaLabel:i18n._("Navigate right out of a set of parentheses")},i[a.JUMP_OUT_EXPONENT]={type:p.INPUT_NAVIGATION,ariaLabel:i18n._("Navigate right out of an exponent")},i[a.JUMP_OUT_BASE]={type:p.INPUT_NAVIGATION,ariaLabel:i18n._("Navigate right out of a base")},i[a.JUMP_INTO_NUMERATOR]={type:p.INPUT_NAVIGATION,ariaLabel:i18n._("Navigate right into the numerator of a fraction")},i[a.JUMP_OUT_NUMERATOR]={type:p.INPUT_NAVIGATION,ariaLabel:i18n._("Navigate right out of the numerator and into the denominator")},i[a.JUMP_OUT_DENOMINATOR]={type:p.INPUT_NAVIGATION,ariaLabel:i18n._("Navigate right out of the denominator of a fraction")},i[a.BACKSPACE]={type:p.INPUT_NAVIGATION,ariaLabel:i18n._("Delete")},i[a.DISMISS]={type:p.KEYPAD_NAVIGATION,ariaLabel:i18n._("Dismiss")},i)
h[a.FRAC_MULTI]={childKeyIds:[a.FRAC_INCLUSIVE,a.FRAC_EXCLUSIVE]}
h[a.MANY]={type:p.MANY}
var d=[0,1,2,3,4,5,6,7,8,9]
for(var f=d,v=Array.isArray(f),m=0,f=v?f:f[Symbol.iterator]();;){var g
if(v){if(m>=f.length)break
g=f[m++]}else{m=f.next()
if(m.done)break
g=m.value}var y=g
var b=""+y
h["NUM_"+y]={type:p.VALUE,ariaLabel:b,icon:{type:l.TEXT,data:b}}}var T=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"]
for(var x=T,P=Array.isArray(x),E=0,x=P?x:x[Symbol.iterator]();;){var w
if(P){if(E>=x.length)break
w=x[E++]}else{E=x.next()
if(E.done)break
w=E.value}var k=w
var S=k.toLowerCase()
var C=k.toUpperCase()
var M=[S,C]
for(var _=0;_<M.length;_++){var N=M[_]
h[N]={type:p.VALUE,ariaLabel:N,icon:{type:l.MATH,data:N}}}}for(var I=Object.keys(h),R=Array.isArray(I),O=0,I=R?I:I[Symbol.iterator]();;){var A
if(R){if(O>=I.length)break
A=I[O++]}else{O=I.next()
if(O.done)break
A=O.value}var D=A
h[D]=n({id:D,icon:{type:l.SVG,data:D}},h[D])}e.exports=h},function(e,t,r){"use strict"
e.exports={Text:r(176),View:r(177)}},function(e,t,r){var n=r(11)
var i=1e-9
var a=Math.pow(2,-42)
var o={DEFAULT_TOLERANCE:i,EPSILON:a,is:function(e){return n.isNumber(e)&&!n.isNaN(e)},equal:function(e,t,r){if(e==null||t==null){return e===t}if(e===t){return true}if(r==null){r=i}return Math.abs(e-t)<r},sign:function(e,t){return o.equal(e,0,t)?0:Math.abs(e)/e},isInteger:function(e,t){return o.equal(Math.round(e),e,t)},round:function(e,t){var r=Math.pow(10,t)
return Math.round(e*r)/r},roundTo:function(e,t){return Math.round(e/t)*t},floorTo:function(e,t){return Math.floor(e/t)*t},ceilTo:function(e,t){return Math.ceil(e/t)*t},toFraction:function(e,t,r){r=r||1e3
t=t||a
var n=[1,0],i=[0,1]
var s=Math.floor(e),l
var p=e-s
while(i[0]<=r){if(o.equal(n[0]/i[0],e,t)){return[n[0],i[0]]}n=[s*n[0]+n[1],n[0]]
i=[s*i[0]+i[1],i[0]]
s=Math.floor(1/p)
p=1/p-s}return[e,1]}}
e.exports=o},function(e,t,r){var n=r(11)
var i=r(152)
function a(e){return n.reduce(e,function(e,t){return e+t},0)}function o(e){return n.reduce(e,function(e,t){return e*t},1)}var s={is:function(e,t){if(!n.isArray(e)){return false}if(t!==undefined&&e.length!==t){return false}return n.all(e,i.is)},normalize:function(e){return s.scale(e,1/s.length(e))},length:function(e){return Math.sqrt(s.dot(e,e))},dot:function(e,t){var r=n.toArray(arguments)
var i=n.zip.apply(n,r)
var s=n.map(i,o)
return a(s)},add:function(){var e=n.toArray(arguments)
var t=n.zip.apply(n,e)
return n.map(t,a)},subtract:function(e,t){return n.map(n.zip(e,t),function(e){return e[0]-e[1]})},negate:function(e){return n.map(e,function(e){return-e})},scale:function(e,t){return n.map(e,function(e){return e*t})},equal:function(e,t,r){return n.all(n.zip(e,t),function(e){return i.equal(e[0],e[1],r)})},codirectional:function(e,t,r){if(i.equal(s.length(e),0,r)||i.equal(s.length(t),0,r)){return true}e=s.normalize(e)
t=s.normalize(t)
return s.equal(e,t,r)},collinear:function(e,t,r){return s.codirectional(e,t,r)||s.codirectional(e,s.negate(t),r)},polarRadFromCart:function(e){var t=s.length(e)
var r=Math.atan2(e[1],e[0])
if(r<0){r+=2*Math.PI}return[t,r]},polarDegFromCart:function(e){var t=s.polarRadFromCart(e)
return[t[0],t[1]*180/Math.PI]},cartFromPolarRad:function(e,t){if(n.isUndefined(t)){t=e[1]
e=e[0]}return[e*Math.cos(t),e*Math.sin(t)]},cartFromPolarDeg:function(e,t){if(n.isUndefined(t)){t=e[1]
e=e[0]}return s.cartFromPolarRad(e,t*Math.PI/180)},rotateRad:function(e,t){var r=s.polarRadFromCart(e)
var n=r[1]+t
return s.cartFromPolarRad(r[0],n)},rotateDeg:function(e,t){var r=s.polarDegFromCart(e)
var n=r[1]+t
return s.cartFromPolarDeg(r[0],n)},angleRad:function(e,t){return Math.acos(s.dot(e,t)/(s.length(e)*s.length(t)))},angleDeg:function(e,t){return s.angleRad(e,t)*180/Math.PI},projection:function(e,t){var r=s.dot(e,t)/s.dot(t,t)
return s.scale(t,r)},round:function(e,t){return n.map(e,function(e,r){return i.round(e,t[r]||t)})},roundTo:function(e,t){return n.map(e,function(e,r){return i.roundTo(e,t[r]||t)})},floorTo:function(e,t){return n.map(e,function(e,r){return i.floorTo(e,t[r]||t)})},ceilTo:function(e,t){return n.map(e,function(e,r){return i.ceilTo(e,t[r]||t)})}}
e.exports=s},function(e,t,r){var n=r(11)
var i=r(153)
var a=r(152)
var o={rotateRad:function(e,t,r){if(r===undefined){return i.rotateRad(e,t)}else{return i.add(r,i.rotateRad(i.subtract(e,r),t))}},rotateDeg:function(e,t,r){if(r===undefined){return i.rotateDeg(e,t)}else{return i.add(r,i.rotateDeg(i.subtract(e,r),t))}},distanceToPoint:function(e,t){return i.length(i.subtract(e,t))},distanceToLine:function(e,t){var r=i.subtract(t[1],t[0])
var n=i.subtract(e,t[0])
var a=i.projection(n,r)
var o=i.subtract(a,n)
return i.length(o)},reflectOverLine:function(e,t){var r=i.subtract(t[1],t[0])
var n=i.subtract(e,t[0])
var a=i.projection(n,r)
var o=i.subtract(i.scale(a,2),n)
return i.add(t[0],o)},compare:function(e,t,r){if(e.length!==t.length){return e.length-t.length}for(var n=0;n<e.length;n++){if(!a.equal(e[n],t[n],r)){return e[n]-t[n]}}return 0}}
n.extend(o,{is:i.is,addVector:i.add,addVectors:i.add,subtractVector:i.subtract,equal:i.equal,polarRadFromCart:i.polarRadFromCart,polarDegFromCart:i.polarDegFromCart,cartFromPolarRad:i.cartFromPolarRad,cartFromPolarDeg:i.cartFromPolarDeg,round:i.round,roundTo:i.roundTo,floorTo:i.floorTo,ceilTo:i.ceilTo})
e.exports=o},function(e,t,r){var n=r(154)
var i=r(153)
var a={distanceToPoint:function(e,t){return n.distanceToLine(t,e)},reflectPoint:function(e,t){return n.reflectOverLine(t,e)},midpoint:function(e){return[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]},equal:function(e,t,r){var a=i.subtract(e[1],e[0])
var o=i.subtract(t[1],t[0])
if(!i.collinear(a,o,r)){return false}if(n.equal(e[0],t[0])){return true}var s=i.subtract(t[0],e[0])
return i.collinear(a,s,r)}}
e.exports=a},function(e,t,r){var n=r(153)
var i=r(154)
var a={equal:function(e,t,r){var a=n.subtract(e[1],e[0])
var o=n.subtract(t[1],t[0])
var s=i.equal(e[0],t[0])
var l=n.codirectional(a,o,r)
return s&&l}}
e.exports=a},function(e,t,r){"use strict"
var n=r(11)
var i=r(158)
var a=r(129).point
var o={constrain:function c(){this.constrain()}}
o.standard=[o.constrain]
var s={draw:function h(){this.draw()}}
s.standard=[s.draw]
var l={basic:function d(e,t){var r=this.graphie
if(!this.state.visibleShape){var a=[this.pointSize()/r.scale[0],this.pointSize()/r.scale[1]]
var o={maxScale:Math.max(this.highlightStyle().scale,this.normalStyle().scale),padding:10,shadow:e.shadow}
this.state.visibleShape=new i(r,this.coord(),a,o)
this.state.visibleShape.attr(n.omit(this.normalStyle(),"scale"))
this.state.visibleShape.toFront()
this.mouseTarget()&&this.mouseTarget().toFront()}e.normalStyle===t.normalStyle||n.isEqual(e.normalStyle,t.normalStyle)||this.state.visibleShape.attr(this.normalStyle())
this.state.visibleShape.moveTo(this.coord())
this.mouseTarget()&&this.mouseTarget().moveTo(this.coord())},highlight:function f(e,t){e.isHovering&&!t.isHovering?e.visibleShape.animate(this.highlightStyle(),50):!e.isHovering&&t.isHovering&&e.visibleShape.animate(this.normalStyle(),50)}}
l.standard=[l.basic,l.highlight]
var p={basic:function v(){if(this.state.visibleShape){this.state.visibleShape.remove()
this.state.visibleShape=null}}}
p.standard=p.basic
var u={fixed:function m(){return function(){return false}},snap:function g(e){return function(t){if(null===e)return true
e=e||this.graphie.snap
return a.roundTo(t,e)}},bound:function y(e,t,r){void 0===r&&(r=void 0===e?10:0)
return function(n,i,o){var s=this.graphie
e=e||s.range
void 0===t&&(t=s.snap)
var l=s.unscalePoint([r,s.ypixels-r])
var p=s.unscalePoint([s.xpixels-r,r])
if(t){l=a.ceilTo(l,t)
p=a.floorTo(p,t)}if(!!o&&!!o.onOutOfBounds){if(n[0]>p[0]||n[0]<l[0]||n[1]>p[1]||n[1]<l[1]){o.onSkipRemaining()
o.onOutOfBounds()}return n}var u=Math.max(l[0],Math.min(p[0],n[0]))
var c=Math.max(l[1],Math.min(p[1],n[1]))
return[u,c]}}}
u.standard=null
e.exports={add:o,modify:s,draw:l,remove:p,onMoveStart:{standard:null},constraints:u,onMove:{standard:null},onMoveEnd:{standard:null},onClick:{standard:null}}},function(e,t,r){"use strict"
var n=r(11)
var i=r(135)
var a=r(111)
var o=r(129).vector
var s={maxScale:1,mouselayer:false,shadow:false}
var l=function p(e,t,r,i){i=n.extend({},s,i)
var l=e.fixedEllipse(t,r,i.maxScale,i.padding)
n.extend(this,l,{graphie:e,initialPoint:t})
i.mouselayer?this.graphie.addToMouseLayerWrapper(this.wrapper):this.graphie.addToVisibleLayerWrapper(this.wrapper)
if(i.shadow){var p="drop-shadow(0px 0px 5px rgba(0, 0, 0, 0.5))"
var u=this.wrapper
u.style.webkitFilter=p
u.style.filter=p
this.moveTo=function(e){var t=o.subtract(this.graphie.scalePoint(e),this.graphie.scalePoint(this.initialPoint))
var r=a.getCanUse3dTransform()
var n="translateX("+Math.round(t[0])+"px) translateY("+Math.round(t[1])+"px)"+(r?" translateZ(0)":"")
this.transform(n)}}}
n.extend(l.prototype,i)
e.exports=l},function(e,t,r){"use strict"
var n=r(81)
function i(e,t){var r=$(e).find("."+t)
return 0===r.length?$("<span>").addClass(t).appendTo($(e)):r}function a(e,t){var r=0
!function n(){var i=e.scrollHeight
if(i>18||r>=10)t()
else{r++
setTimeout(n,100)}}()}e.exports={processMath:function o(e,t,r,s){var l=$(e)
if(null==l.attr("data-math-formula")||r){var p=i(l,"katex-holder")
var u=i(l,"mathjax-holder")
var c=u.find("script[type='math/tex']")[0]
null==t&&(l.attr("data-math-formula")?t=l.attr("data-math-formula"):c&&(t=c.text||c.textContent))
t=null!=t?t+"":""
t=n.cleanMath(t)
l.attr("data-math-formula",t)
if(Exercises.useKatex)try{katex.render(t,p[0])
if("mathjax"===l.attr("data-math-type")){var h=MathJax.Hub.getJaxFor(c)
if(h){var d=h.SourceElement()
d.previousSibling&&d.previousSibling.className&&h.Remove()}}l.attr("data-math-type","katex")
s&&a(e,s)
return}catch(f){if(f.__proto__!==katex.ParseError.prototype)throw f}l.attr("data-math-type","mathjax")
c?"text"in c?c.text=t:c.textContent=t:u.append("<script type='math/tex'>"+t.replace(/<\//g,"< /")+"</script>")
if("undefined"!==typeof MathJax){MathJax.Hub.Queue(["Reprocess",MathJax.Hub,u[0]])
MathJax.Hub.Queue(function(){KhanUtil.debugLog("MathJax done typesetting ("+t+")")})
s&&MathJax.Hub.Queue(function(){var t=MathJax.Callback(function(){})
a(e,function(){s()
t()})
return t})}}},processAllMath:function s(e,t){var r=$(e)
r.filter("code").add(r.find("code")).each(function(){var e=$(this)
var r=e.attr("data-math-formula")
if(null==r){r=e.text()
e.empty()}KhanUtil.processMath(this,r,t)})},cleanupMath:function l(e){var t=$(e)
if(t.attr("data-math-formula")){if("undefined"!==typeof MathJax){var r=MathJax.Hub.getJaxFor(t.find("script")[0])
if(r){var n=r.SourceElement()
n.previousSibling&&n.previousSibling.className&&r.Remove()}}t.text(t.attr("data-math-formula"))
t.attr("data-math-formula",null)
t.attr("data-math-type",null)}return e},retrieveMathFormula:function p(e){return $(e).attr("data-math-formula")}}},function(e,t,r){"use strict"
var n=r(11)
var i=r(102)
var a=r(162)
var o=r(129).vector
var s=r(129).point
var l=r(81)
var p=function y(e){var t=e.graphie.scalePoint(e.coord(0))
var r=e.graphie.scalePoint(e.coord(1))
return o.polarDegFromCart(o.subtract(r,t))[1]}
var u=function b(e,t,r){var n=e.range[0][1]-e.range[0][0]
var i=e.range[1][1]-e.range[1][0]
var a=n+i
var s=e.unscaleVector(o.cartFromPolarDeg([1,r]))
var l=o.scale(o.normalize(s),a)
var p=o.add(t,l)
var u=o.polarDegFromCart(s)[1]
var c=e.constrainToBoundsOnAngle(p,4,u*Math.PI/180)
return c}
var c=function T(e,t){var r=[.75,0]
var i=[[-3,4],[-2.75,2.5],[0,.25],r,[0,-.25],[-2.75,-2.5],[-3,-4]]
var s=1.4
i=n.map(i,function(e){var t=o.subtract(e,r)
var n=o.scale(t,s)
return o.add(r,n)})
var p=function f(e){var t="M"+e[0][0]+" "+e[0][1]
for(var r=1;r<e.length;r+=3)t+="C"+e[r][0]+" "+e[r][1]+" "+e[r+1][0]+" "+e[r+1][1]+" "+e[r+2][0]+" "+e[r+2][1]
return t}
var c=n.map(i,e.unscalePoint)
var h={center:e.unscalePoint(r),createPath:p}
var d=new a(e,c,h)
d.attr(n.extend({"stroke-linejoin":"round","stroke-linecap":"round","stroke-dasharray":""},t))
d.toCoordAtAngle=function(t,n){var i=e.scalePoint(u(e,t,n))
d.transform("translateX("+(i[0]+s*r[0])+"px) translateY("+(i[1]+s*r[1])+"px) translateZ(0) rotate("+(360-l.bound(n))+"deg)")}
return d}
var h={draw:function x(){this.draw()},pointsToFront:function P(e){n.invoke(e.points,"toFront")}}
h.standard=[h.draw,h.pointsToFront]
var d={draw:function E(){this.draw()}}
d.standard=[d.draw]
var f={basic:function w(e){var t=this.graphie
var r=this.coord(0)
var a=this.coord(1)
if(!this.state.visibleShape){var o={thickness:10}
this.state.visibleShape=new i(t,r,a,o)
this.state.visibleShape.attr(this.normalStyle())
this.state.visibleShape.toFront()
this.mouseTarget()&&this.mouseTarget().toFront()}var s=p(this)
if(e.extendLine){r=u(t,r,360-s)
a=u(t,a,(540-s)%360)}else e.extendRay&&(a=u(t,a,360-s))
var l=[this.state.visibleShape]
this.mouseTarget()&&l.push(this.mouseTarget())
n.each(l,function(e){e.moveTo(r,a)})},arrows:function k(e){if(null==this._arrows){this._arrows=[]
if(e.extendLine){this._arrows.push(c(this.graphie,this.normalStyle()))
this._arrows.push(c(this.graphie,this.normalStyle()))}else e.extendRay&&this._arrows.push(c(this.graphie,this.normalStyle()))}var t=p(this)
var r=[360-t,(540-t)%360]
n.each(this._arrows,function(e,t){e.toCoordAtAngle(this.coord(t),r[t])},this)},highlight:function S(e,t){e.isHovering&&!t.isHovering?e.visibleShape.animate(e.highlightStyle,50):!e.isHovering&&t.isHovering&&e.visibleShape.animate(e.normalStyle,50)}}
f.standard=[f.basic,f.arrows,f.highlight]
var v={basic:function C(){this.state.visibleShape&&this.state.visibleShape.remove()},arrows:function M(){null!=this._arrows&&n.invoke(this._arrows,"remove")
this._arrows=null}}
v.standard=[v.basic,v.arrows]
var m={fixed:function _(){return function(){return false}},snap:function N(e){return function(t,r){if(null===e)return true
var n=o.subtract(t,r)
e=e||this.graphie.snap
n=s.roundTo(n,e)
return o.add(r,n)}},bound:function I(e,t,r){void 0===r&&(r=void 0===e?10:0)
return function(e,i){var a=this.graphie
var l=o.subtract(e,i)
var p=p||a.range
void 0===t&&(t=a.snap)
var u=a.unscalePoint([r,a.ypixels-r])
var c=a.unscalePoint([a.xpixels-r,r])
if(t){u=s.ceilTo(u,t)
c=s.floorTo(c,t)}var h=n.map(this.coords(),function(e,t){var r=o.subtract(c,e)
var n=o.subtract(u,e)
return[n,r]})
var d=n.reduce(h,function(e,t){var r=t[0]
var n=t[1]
var i=Math.max(r[0],Math.min(n[0],e[0]))
var a=Math.max(r[1],Math.min(n[1],e[1]))
return[i,a]},l)
return o.add(i,d)}}}
m.standard=null
var g={updatePoints:function R(e,t){var r=o.subtract(e,t)
n.each(this.state.points,function(e){e.setCoord(o.add(e.coord(),r))})}}
g.standard=null
e.exports={add:h,modify:d,draw:f,remove:v,onMoveStart:{standard:null},constraints:m,onMove:g,onMoveEnd:{standard:null}}},function(e,t,r){"use strict"
var n=r(11)
var i=r(129).point
var a=r(129).vector
function o(e){return n.reduce(e,function(e,t){return e+t},0)}function s(e){var t=n.zip(e,e.slice(1).concat(e.slice(0,1)))
var r=n.map(t,function(e){var t=e[0],r=e[1]
return(r[0]-t[0])*(r[1]+t[1])})
return o(r)>0}var l={constrain:function f(){this.constrain()},pointsToFront:function v(e){n.invoke(e.points,"toFront")}}
l.standard=[l.constrain,l.pointsToFront]
var p={draw:function m(){this.draw()}}
p.standard=[p.draw]
var u={basic:function g(e,t){var r=this.graphie
var i=this.path(e)
if(!this.state.visibleShape){this.state.visibleShape=r.raphael.path(i)
this.state.visibleShape.attr(this.normalStyle())}e.normalStyle===t.normalStyle||n.isEqual(e.normalStyle,t.normalStyle)||this.state.visibleShape.attr(this.normalStyle())
this.state.visibleShape.attr({path:i})
this.mouseTarget()&&this.mouseTarget().attr({path:i})},labels:function y(e,t){var r=this.graphie
var i=this
var a=n.invoke(e.points,"coord")
var o=s(a)
var l=a.length
null!=i.state._labelCache&&n.invoke(i.state._labelCache,"remove")
i.state._labelCache=[]
if(e.angleLabels.length||e.showRightAngleMarkers.length){null==i.state._labeledAngles&&(i.state._labeledAngles=n.times(Math.max(e.angleLabels.length,e.showRightAngleMarkers.length),function(){return r.label([0,0],"","center",e.labelStyle)}))
n.each(i.state._labeledAngles,function(t,n){i.state._labelCache.push(r.labelAngle({point1:a[(n-1+l)%l],vertex:a[n],point3:a[(n+1)%l],label:t,text:e.angleLabels[n],showRightAngleMarker:e.showRightAngleMarkers[n],numArcs:e.numArcs[n],clockwise:o,style:e.labelStyle}))})}if(e.sideLabels.length){null==i.state._labeledSides&&(i.state._labeledSides=n.map(e.sideLabels,function(t){return r.label([0,0],"","center",e.labelStyle)}))
n.each(i.state._labeledSides,function(t,n){i.state._labelCache.push(r.labelSide({point1:a[n],point2:a[(n+1)%l],label:t,text:e.sideLabels[n],numArrows:e.numArrows[n],numTicks:e.numTicks[n],clockwise:o,style:e.labelStyle}))})}if(e.vertexLabels.length){null==i.state._labeledVertices&&(i.state._labeledVertices=n.map(e.vertexLabels,function(t){return r.label([0,0],"","center",e.labelStyle)}))
n.each(i.state._labeledVertices,function(t,n){i.state._labelCache.push(r.labelVertex({point1:a[(n-1+l)%l],vertex:a[n],point3:a[(n+1)%l],label:t,text:e.vertexLabels[n],clockwise:o,style:e.labelStyle}))})}i.state._labelCache=n.flatten(i.state._labelCache)},highlight:function b(e,t){e.isHovering&&!t.isHovering?e.visibleShape.animate(this.highlightStyle(),50):!e.isHovering&&t.isHovering&&e.visibleShape.animate(this.normalStyle(),50)}}
u.standard=[u.basic,u.labels,u.highlight]
var c={basic:function T(){this.state.visibleShape&&this.state.visibleShape.remove()},labels:function x(){var x=[this.state._labeledSides,this.state._labeledVertices,this.state._labeledAngles,this.state._labelCache]
n.each(x,function(e){null!=e&&e.length&&n.invoke(e,"remove")})}}
c.standard=[c.basic,c.labels]
var h={fixed:function P(){return function(){return false}},snap:function E(e){return function(t){if(null===e)return true
e=e||this.graphie.snap
return i.roundTo(t,e)}},bound:function w(e,t,r){void 0===r&&(r=void 0===e?10:0)
return function(e,o){var s=this.graphie
var l=a.subtract(e,o)
var p=p||s.range
void 0===t&&(t=s.snap)
var u=s.unscalePoint([r,s.ypixels-r])
var c=s.unscalePoint([s.xpixels-r,r])
if(t){u=i.ceilTo(u,t)
c=i.floorTo(c,t)}var h=n.map(this.coords(),function(e,t){var r=a.subtract(c,e)
var n=a.subtract(u,e)
return[n,r]})
var d=n.reduce(h,function(e,t){var r=t[0]
var n=t[1]
var i=Math.max(r[0],Math.min(n[0],e[0]))
var a=Math.max(r[1],Math.min(n[1],e[1]))
return[i,a]},l)
return a.add(o,d)}}}
h.standard=null
var d={updatePoints:function k(e,t){var r=a.subtract(e,t)
n.each(this.state.points,function(e){e.setCoord(a.add(e.coord(),r))})}}
d.standard=null
e.exports={add:l,modify:p,draw:u,remove:c,onMoveStart:{standard:null},constraints:h,onMove:d,onMoveEnd:{standard:null},onClick:{standard:null}}},function(e,t,r){"use strict"
var n=r(11)
var i=r(135)
var a={center:null,createPath:null,mouselayer:false}
var o=function s(e,t,r){r=n.extend({},a,r)
n.extend(this,e.fixedPath(t,r.center,r.createPath))
n.extend(this,{graphie:e,initialPoint:e.scalePoint(n.head(t))})
r.mouselayer?this.graphie.addToMouseLayerWrapper(this.wrapper):this.graphie.addToVisibleLayerWrapper(this.wrapper)}
n.extend(o.prototype,i)
e.exports=o},function(e,t,r){(function(){var e
if("".trim){e=function(e,t,r){e.setAttribute(t,String(r).trim())}}else{e=function(e,t,r){e.setAttribute(t,String(r))}}function t(){if(t.is(arguments[0],O)){var e=arguments[0],r=$t[d](t,e.splice(0,3+t.is(e[0],I))),i=r.set()
for(var a=0,s=e[E];a<s;a++){var l=e[a]||{}
n[o](l.type)&&i[q](r[l.type]().attr(l))}return i}return $t[d](t,arguments)}t.version="1.5.2"
var r=/[, ]+/,n={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},i=/\{(\d+)\}/g,a="prototype",o="hasOwnProperty",s=document,l=window,p={was:Object[a][o].call(l,"Raphael"),is:l.Raphael},u=function(){this.customAttributes={}},c,h="appendChild",d="apply",f="concat",v="createTouch"in s,m="",g=" ",y=String,b="split",T="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend orientationchange touchcancel gesturestart gesturechange gestureend"[b](g),x={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},P="join",E="length",w=y[a].toLowerCase,k=Math,S=k.max,C=k.min,M=k.abs,_=k.pow,N=k.PI,I="number",R="string",O="array",A="toString",D="fill",L=Object[a][A],F={},q="push",B=/^url\(['"]?([^\)]+?)['"]?\)$/i,z=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i,U={NaN:1,Infinity:1,"-Infinity":1},H=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,W=k.round,V=parseFloat,G=parseInt,j=" progid:DXImageTransform.Microsoft",Y=y[a].toUpperCase,K={blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/",opacity:1,path:"M0,0",r:0,rotation:0,rx:0,ry:0,scale:"1 1",src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",translation:"0 0",width:0,x:0,y:0},X={along:"along",blur:I,"clip-rect":"csv",cx:I,cy:I,fill:"colour","fill-opacity":I,"font-size":I,height:I,opacity:I,path:"path",r:I,rotation:"csv",rx:I,ry:I,scale:"csv",stroke:"colour","stroke-opacity":I,"stroke-width":I,translation:"csv",width:I,x:I,y:I},Q="replace",Z=/^(from|to|\d+%?)$/,J=/\s*,\s*/,et={hs:1,rg:1},tt=/,?([achlmqrstvxz]),?/gi,rt=/([achlmqstvz])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?\s*,?\s*)+)/gi,nt=/(-?\d*\.?\d*(?:e[-+]?\d+)?)\s*,?\s*/gi,it=/^r(?:\(([^,]+?)\s*,\s*([^\)]+?)\))?/,at=function(e,t){return e.key-t.key}
t.type=l.SVGAngle||s.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML"
if(t.type=="VML"){var ot=s.createElement("div"),st
ot.innerHTML='<v:shape adj="1"/>'
st=ot.firstChild
st.style.behavior="url(#default#VML)"
if(!(st&&typeof st.adj=="object")){return t.type=null}ot=null}t.svg=!(t.vml=t.type=="VML")
u[a]=t[a]
c=u[a]
t._id=0
t._oid=0
t.fn={}
t.is=function(e,t){t=w.call(t)
if(t=="finite"){return!U[o](+e)}return t=="null"&&e===null||t==typeof e||t=="object"&&e===Object(e)||t=="array"&&Array.isArray&&Array.isArray(e)||L.call(e).slice(8,-1).toLowerCase()==t}
t.angle=function(e,r,n,i,a,o){if(a==null){var s=e-n,l=r-i
if(!s&&!l){return 0}return((s<0)*180+k.atan(-l/-s)*180/N+360)%360}else{return t.angle(e,r,a,o)-t.angle(n,i,a,o)}}
t.rad=function(e){return e%360*N/180}
t.deg=function(e){return e*180/N%360}
t.snapTo=function(e,r,n){n=t.is(n,"finite")?n:10
if(t.is(e,O)){var i=e.length
while(i--)if(M(e[i]-r)<=n){return e[i]}}else{e=+e
var a=r%e
if(a<n){return r-a}if(a>e-n){return r-a+e}}return r}
function lt(){var e=[],t=0
for(;t<32;t++){e[t]=(~~(k.random()*16))[A](16)}e[12]=4
e[16]=(e[16]&3|8)[A](16)
return"r-"+e[P]("")}t.setWindow=function(e){l=e
s=l.document}
var pt=function(e){if(t.vml){var r=/^\s+|\s+$/g
var n
try{var i=new ActiveXObject("htmlfile")
i.write("<body>")
i.close()
n=i.body}catch(a){n=createPopup().document.body}var o=n.createTextRange()
pt=dt(function(e){try{n.style.color=y(e)[Q](r,m)
var t=o.queryCommandValue("ForeColor")
t=(t&255)<<16|t&65280|(t&16711680)>>>16
return"#"+("000000"+t[A](16)).slice(-6)}catch(i){return"none"}})}else{var l=s.createElement("i")
l.title="Raphaël Colour Picker"
l.style.display="none"
s.body[h](l)
pt=dt(function(e){l.style.color=e
return s.defaultView.getComputedStyle(l,m).getPropertyValue("color")})}return pt(e)},ut=function(){return"hsb("+[this.h,this.s,this.b]+")"},ct=function(){return"hsl("+[this.h,this.s,this.l]+")"},ht=function(){return this.hex}
t.hsb2rgb=function(e,r,n,i){if(t.is(e,"object")&&"h"in e&&"s"in e&&"b"in e){n=e.b
r=e.s
e=e.h
i=e.o}return t.hsl2rgb(e,r,n/2,i)}
t.hsl2rgb=function(e,r,n,i){if(t.is(e,"object")&&"h"in e&&"s"in e&&"l"in e){n=e.l
r=e.s
e=e.h}if(e>1||r>1||n>1){e/=360
r/=100
n/=100}var a={},o=["r","g","b"],s,l,p,u,c,h
if(!r){a={r:n,g:n,b:n}}else{if(n<.5){s=n*(1+r)}else{s=n+r-n*r}l=2*n-s
for(var d=0;d<3;d++){p=e+1/3*-(d-1)
p<0&&p++
p>1&&p--
if(p*6<1){a[o[d]]=l+(s-l)*6*p}else if(p*2<1){a[o[d]]=s}else if(p*3<2){a[o[d]]=l+(s-l)*(2/3-p)*6}else{a[o[d]]=l}}}a.r*=255
a.g*=255
a.b*=255
a.hex="#"+(16777216|a.b|a.g<<8|a.r<<16).toString(16).slice(1)
t.is(i,"finite")&&(a.opacity=i)
a.toString=ht
return a}
t.rgb2hsb=function(e,r,n){if(r==null&&t.is(e,"object")&&"r"in e&&"g"in e&&"b"in e){n=e.b
r=e.g
e=e.r}if(r==null&&t.is(e,R)){var i=t.getRGB(e)
e=i.r
r=i.g
n=i.b}if(e>1||r>1||n>1){e/=255
r/=255
n/=255}var a=S(e,r,n),o=C(e,r,n),s,l,p=a
if(o==a){return{h:0,s:0,b:a,toString:ut}}else{var u=a-o
l=u/a
if(e==a){s=(r-n)/u}else if(r==a){s=2+(n-e)/u}else{s=4+(e-r)/u}s/=6
s<0&&s++
s>1&&s--}return{h:s,s:l,b:p,toString:ut}}
t.rgb2hsl=function(e,r,n){if(r==null&&t.is(e,"object")&&"r"in e&&"g"in e&&"b"in e){n=e.b
r=e.g
e=e.r}if(r==null&&t.is(e,R)){var i=t.getRGB(e)
e=i.r
r=i.g
n=i.b}if(e>1||r>1||n>1){e/=255
r/=255
n/=255}var a=S(e,r,n),o=C(e,r,n),s,l,p=(a+o)/2,u
if(o==a){u={h:0,s:0,l:p}}else{var c=a-o
l=p<.5?c/(a+o):c/(2-a-o)
if(e==a){s=(r-n)/c}else if(r==a){s=2+(n-e)/c}else{s=4+(e-r)/c}s/=6
s<0&&s++
s>1&&s--
u={h:s,s:l,l:p}}u.toString=ct
return u}
t._path2string=function(){return this.join(",")[Q](tt,"$1")}
function dt(e,t,r){function n(){var i=Array[a].slice.call(arguments,0),s=i[P]("►"),l=n.cache=n.cache||{},p=n.count=n.count||[]
if(l[o](s)){return r?r(l[s]):l[s]}p[E]>=1e3&&delete l[p.shift()]
p[q](s)
l[s]=e[d](t,i)
return r?r(l[s]):l[s]}return n}t.getRGB=dt(function(e){if(!e||!!((e=y(e)).indexOf("-")+1)){return{r:-1,g:-1,b:-1,hex:"none",error:1}}if(e=="none"){return{r:-1,g:-1,b:-1,hex:"none"}}!(et[o](e.toLowerCase().substring(0,2))||e.charAt()=="#")&&(e=pt(e))
var r,n,i,a,s,l,p,u=e.match(z)
if(u){if(u[2]){a=G(u[2].substring(5),16)
i=G(u[2].substring(3,5),16)
n=G(u[2].substring(1,3),16)}if(u[3]){a=G((l=u[3].charAt(3))+l,16)
i=G((l=u[3].charAt(2))+l,16)
n=G((l=u[3].charAt(1))+l,16)}if(u[4]){p=u[4][b](J)
n=V(p[0])
p[0].slice(-1)=="%"&&(n*=2.55)
i=V(p[1])
p[1].slice(-1)=="%"&&(i*=2.55)
a=V(p[2])
p[2].slice(-1)=="%"&&(a*=2.55)
u[1].toLowerCase().slice(0,4)=="rgba"&&(s=V(p[3]))
p[3]&&p[3].slice(-1)=="%"&&(s/=100)}if(u[5]){p=u[5][b](J)
n=V(p[0])
p[0].slice(-1)=="%"&&(n*=2.55)
i=V(p[1])
p[1].slice(-1)=="%"&&(i*=2.55)
a=V(p[2])
p[2].slice(-1)=="%"&&(a*=2.55);(p[0].slice(-3)=="deg"||p[0].slice(-1)=="°")&&(n/=360)
u[1].toLowerCase().slice(0,4)=="hsba"&&(s=V(p[3]))
p[3]&&p[3].slice(-1)=="%"&&(s/=100)
return t.hsb2rgb(n,i,a,s)}if(u[6]){p=u[6][b](J)
n=V(p[0])
p[0].slice(-1)=="%"&&(n*=2.55)
i=V(p[1])
p[1].slice(-1)=="%"&&(i*=2.55)
a=V(p[2])
p[2].slice(-1)=="%"&&(a*=2.55);(p[0].slice(-3)=="deg"||p[0].slice(-1)=="°")&&(n/=360)
u[1].toLowerCase().slice(0,4)=="hsla"&&(s=V(p[3]))
p[3]&&p[3].slice(-1)=="%"&&(s/=100)
return t.hsl2rgb(n,i,a,s)}u={r:n,g:i,b:a}
u.hex="#"+(16777216|a|i<<8|n<<16).toString(16).slice(1)
t.is(s,"finite")&&(u.opacity=s)
return u}return{r:-1,g:-1,b:-1,hex:"none",error:1}},t)
t.getColor=function(e){var t=this.getColor.start=this.getColor.start||{h:0,s:1,b:e||.75},r=this.hsb2rgb(t.h,t.s,t.b)
t.h+=.075
if(t.h>1){t.h=0
t.s-=.2
t.s<=0&&(this.getColor.start={h:0,s:1,b:t.b})}return r.hex}
t.getColor.reset=function(){delete this.start}
t.parsePathString=dt(function(e){if(!e){return null}var r={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},n=[]
if(t.is(e,O)&&t.is(e[0],O)){n=vt(e)}if(!n[E]){y(e)[Q](rt,function(e,t,i){var a=[],o=w.call(t)
i[Q](nt,function(e,t){t&&a[q](+t)})
if(o=="m"&&a[E]>2){n[q]([t][f](a.splice(0,2)))
o="l"
t=t=="m"?"l":"L"}while(a[E]>=r[o]){n[q]([t][f](a.splice(0,r[o])))
if(!r[o]){break}}})}n[A]=t._path2string
return n})
t.findDotsAtSegment=function(e,t,r,n,i,a,o,s,l){var p=1-l,u=_(p,3)*e+_(p,2)*3*l*r+p*3*l*l*i+_(l,3)*o,c=_(p,3)*t+_(p,2)*3*l*n+p*3*l*l*a+_(l,3)*s,h=e+2*l*(r-e)+l*l*(i-2*r+e),d=t+2*l*(n-t)+l*l*(a-2*n+t),f=r+2*l*(i-r)+l*l*(o-2*i+r),v=n+2*l*(a-n)+l*l*(s-2*a+n),m=(1-l)*e+l*r,g=(1-l)*t+l*n,y=(1-l)*i+l*o,b=(1-l)*a+l*s,T=90-k.atan((h-f)/(d-v))*180/N;(h>f||d<v)&&(T+=180)
return{x:u,y:c,m:{x:h,y:d},n:{x:f,y:v},start:{x:m,y:g},end:{x:y,y:b},alpha:T}}
var ft=dt(function(e){if(!e){return{x:0,y:0,width:0,height:0}}e=Et(e)
var t=0,r=0,n=[],i=[],a
for(var o=0,s=e[E];o<s;o++){a=e[o]
if(a[0]=="M"){t=a[1]
r=a[2]
n[q](t)
i[q](r)}else{var l=Pt(t,r,a[1],a[2],a[3],a[4],a[5],a[6])
n=n[f](l.min.x,l.max.x)
i=i[f](l.min.y,l.max.y)
t=a[5]
r=a[6]}}var p=C[d](0,n),u=C[d](0,i)
return{x:p,y:u,width:S[d](0,n)-p,height:S[d](0,i)-u}}),vt=function(e){var r=[]
if(!t.is(e,O)||!t.is(e&&e[0],O)){e=t.parsePathString(e)}for(var n=0,i=e[E];n<i;n++){r[n]=[]
for(var a=0,o=e[n][E];a<o;a++){r[n][a]=e[n][a]}}r[A]=t._path2string
return r},mt=dt(function(e){if(!t.is(e,O)||!t.is(e&&e[0],O)){e=t.parsePathString(e)}var r=[],n=0,i=0,a=0,o=0,s=0
if(e[0][0]=="M"){n=e[0][1]
i=e[0][2]
a=n
o=i
s++
r[q](["M",n,i])}for(var l=s,p=e[E];l<p;l++){var u=r[l]=[],c=e[l]
if(c[0]!=w.call(c[0])){u[0]=w.call(c[0])
switch(u[0]){case"a":u[1]=c[1]
u[2]=c[2]
u[3]=c[3]
u[4]=c[4]
u[5]=c[5]
u[6]=+(c[6]-n).toFixed(3)
u[7]=+(c[7]-i).toFixed(3)
break
case"v":u[1]=+(c[1]-i).toFixed(3)
break
case"m":a=c[1]
o=c[2]
default:for(var h=1,d=c[E];h<d;h++){u[h]=+(c[h]-(h%2?n:i)).toFixed(3)}}}else{u=r[l]=[]
if(c[0]=="m"){a=c[1]+n
o=c[2]+i}for(var f=0,v=c[E];f<v;f++){r[l][f]=c[f]}}var m=r[l][E]
switch(r[l][0]){case"z":n=a
i=o
break
case"h":n+=+r[l][m-1]
break
case"v":i+=+r[l][m-1]
break
default:n+=+r[l][m-2]
i+=+r[l][m-1]}}r[A]=t._path2string
return r},0,vt),gt=dt(function(e){if(!t.is(e,O)||!t.is(e&&e[0],O)){e=t.parsePathString(e)}var r=[],n=0,i=0,a=0,o=0,s=0
if(e[0][0]=="M"){n=+e[0][1]
i=+e[0][2]
a=n
o=i
s++
r[0]=["M",n,i]}for(var l=s,p=e[E];l<p;l++){var u=r[l]=[],c=e[l]
if(c[0]!=Y.call(c[0])){u[0]=Y.call(c[0])
switch(u[0]){case"A":u[1]=c[1]
u[2]=c[2]
u[3]=c[3]
u[4]=c[4]
u[5]=c[5]
u[6]=+(c[6]+n)
u[7]=+(c[7]+i)
break
case"V":u[1]=+c[1]+i
break
case"H":u[1]=+c[1]+n
break
case"M":a=+c[1]+n
o=+c[2]+i
default:for(var h=1,d=c[E];h<d;h++){u[h]=+c[h]+(h%2?n:i)}}}else{for(var f=0,v=c[E];f<v;f++){r[l][f]=c[f]}}switch(u[0]){case"Z":n=a
i=o
break
case"H":n=u[1]
break
case"V":i=u[1]
break
case"M":a=r[l][r[l][E]-2]
o=r[l][r[l][E]-1]
default:n=r[l][r[l][E]-2]
i=r[l][r[l][E]-1]}}r[A]=t._path2string
return r},null,vt),yt=function(e,t,r,n){return[e,t,r,n,r,n]},bt=function(e,t,r,n,i,a){var o=1/3,s=2/3
return[o*e+s*r,o*t+s*n,o*i+s*r,o*a+s*n,i,a]},Tt=function(e,t,r,n,i,a,o,s,l,p){var u=N*120/180,c=N/180*(+i||0),h=[],d,v=dt(function(e,t,r){var n=e*k.cos(r)-t*k.sin(r),i=e*k.sin(r)+t*k.cos(r)
return{x:n,y:i}})
if(!p){d=v(e,t,-c)
e=d.x
t=d.y
d=v(s,l,-c)
s=d.x
l=d.y
var m=k.cos(N/180*i),g=k.sin(N/180*i),y=(e-s)/2,T=(t-l)/2
var x=y*y/(r*r)+T*T/(n*n)
if(x>1){x=k.sqrt(x)
r=x*r
n=x*n}var w=r*r,S=n*n,C=(a==o?-1:1)*k.sqrt(M((w*S-w*T*T-S*y*y)/(w*T*T+S*y*y))),_=C*r*T/n+(e+s)/2,I=C*-n*y/r+(t+l)/2,R=k.asin(((t-I)/n).toFixed(9)),O=k.asin(((l-I)/n).toFixed(9))
R=e<_?N-R:R
O=s<_?N-O:O
R<0&&(R=N*2+R)
O<0&&(O=N*2+O)
if(o&&R>O){R=R-N*2}if(!o&&O>R){O=O-N*2}}else{R=p[0]
O=p[1]
_=p[2]
I=p[3]}var A=O-R
if(M(A)>u){var D=O,L=s,F=l
O=R+u*(o&&O>R?1:-1)
s=_+r*k.cos(O)
l=I+n*k.sin(O)
h=Tt(s,l,r,n,i,0,o,L,F,[O,D,_,I])}A=O-R
var q=k.cos(R),B=k.sin(R),z=k.cos(O),U=k.sin(O),H=k.tan(A/4),W=4/3*r*H,V=4/3*n*H,G=[e,t],j=[e+W*B,t-V*q],Y=[s+W*U,l-V*z],K=[s,l]
j[0]=2*G[0]-j[0]
j[1]=2*G[1]-j[1]
if(p){return[j,Y,K][f](h)}else{h=[j,Y,K][f](h)[P]()[b](",")
var X=[]
for(var Q=0,Z=h[E];Q<Z;Q++){X[Q]=Q%2?v(h[Q-1],h[Q],c).y:v(h[Q],h[Q+1],c).x}return X}},xt=function(e,t,r,n,i,a,o,s,l){var p=1-l
return{x:_(p,3)*e+_(p,2)*3*l*r+p*3*l*l*i+_(l,3)*o,y:_(p,3)*t+_(p,2)*3*l*n+p*3*l*l*a+_(l,3)*s}},Pt=dt(function(e,t,r,n,i,a,o,s){var l=i-2*r+e-(o-2*i+r),p=2*(r-e)-2*(i-r),u=e-r,c=(-p+k.sqrt(p*p-4*l*u))/2/l,h=(-p-k.sqrt(p*p-4*l*u))/2/l,f=[t,s],v=[e,o],m
M(c)>"1e12"&&(c=.5)
M(h)>"1e12"&&(h=.5)
if(c>0&&c<1){m=xt(e,t,r,n,i,a,o,s,c)
v[q](m.x)
f[q](m.y)}if(h>0&&h<1){m=xt(e,t,r,n,i,a,o,s,h)
v[q](m.x)
f[q](m.y)}l=a-2*n+t-(s-2*a+n)
p=2*(n-t)-2*(a-n)
u=t-n
c=(-p+k.sqrt(p*p-4*l*u))/2/l
h=(-p-k.sqrt(p*p-4*l*u))/2/l
M(c)>"1e12"&&(c=.5)
M(h)>"1e12"&&(h=.5)
if(c>0&&c<1){m=xt(e,t,r,n,i,a,o,s,c)
v[q](m.x)
f[q](m.y)}if(h>0&&h<1){m=xt(e,t,r,n,i,a,o,s,h)
v[q](m.x)
f[q](m.y)}return{min:{x:C[d](0,v),y:C[d](0,f)},max:{x:S[d](0,v),y:S[d](0,f)}}}),Et=dt(function(e,t){var r=gt(e),n=t&&gt(t),i={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},o=function(e,t){var r,n
if(!e){return["C",t.x,t.y,t.x,t.y,t.x,t.y]}!(e[0]in{T:1,Q:1})&&(t.qx=t.qy=null)
switch(e[0]){case"M":t.X=e[1]
t.Y=e[2]
break
case"A":e=["C"][f](Tt[d](0,[t.x,t.y][f](e.slice(1))))
break
case"S":r=t.x+(t.x-(t.bx||t.x))
n=t.y+(t.y-(t.by||t.y))
e=["C",r,n][f](e.slice(1))
break
case"T":t.qx=t.x+(t.x-(t.qx||t.x))
t.qy=t.y+(t.y-(t.qy||t.y))
e=["C"][f](bt(t.x,t.y,t.qx,t.qy,e[1],e[2]))
break
case"Q":t.qx=e[1]
t.qy=e[2]
e=["C"][f](bt(t.x,t.y,e[1],e[2],e[3],e[4]))
break
case"L":e=["C"][f](yt(t.x,t.y,e[1],e[2]))
break
case"H":e=["C"][f](yt(t.x,t.y,e[1],t.y))
break
case"V":e=["C"][f](yt(t.x,t.y,t.x,e[1]))
break
case"Z":e=["C"][f](yt(t.x,t.y,t.X,t.Y))
break}return e},s=function(e,t){if(e[t][E]>7){e[t].shift()
var i=e[t]
while(i[E]){e.splice(t++,0,["C"][f](i.splice(0,6)))}e.splice(t,1)
u=S(r[E],n&&n[E]||0)}},l=function(e,t,i,a,o){if(e&&t&&e[o][0]=="M"&&t[o][0]!="M"){t.splice(o,0,["M",a.x,a.y])
i.bx=0
i.by=0
i.x=e[o][1]
i.y=e[o][2]
u=S(r[E],n&&n[E]||0)}}
for(var p=0,u=S(r[E],n&&n[E]||0);p<u;p++){r[p]=o(r[p],i)
s(r,p)
n&&(n[p]=o(n[p],a))
n&&s(n,p)
l(r,n,i,a,p)
l(n,r,a,i,p)
var c=r[p],h=n&&n[p],v=c[E],m=n&&h[E]
i.x=c[v-2]
i.y=c[v-1]
i.bx=V(c[v-4])||i.x
i.by=V(c[v-3])||i.y
a.bx=n&&(V(h[m-4])||a.x)
a.by=n&&(V(h[m-3])||a.y)
a.x=n&&h[m-2]
a.y=n&&h[m-1]}return n?[r,n]:r},null,vt),wt=dt(function(e){var r=[]
for(var n=0,i=e[E];n<i;n++){var a={},o=e[n].match(/^([^:]*):?([\d\.]*)/)
a.color=t.getRGB(o[1])
if(a.color.error){return null}a.color=a.color.hex
o[2]&&(a.offset=o[2]+"%")
r[q](a)}for(n=1,i=r[E]-1;n<i;n++){if(!r[n].offset){var s=V(r[n-1].offset||0),l=0
for(var p=n+1;p<i;p++){if(r[p].offset){l=r[p].offset
break}}if(!l){l=100
p=i}l=V(l)
var u=(l-s)/(p-n+1)
for(;n<p;n++){s+=u
r[n].offset=s+"%"}}}return r}),kt=function(e,r,n,i){var a
if(t.is(e,R)||t.is(e,"object")){a=t.is(e,R)?s.getElementById(e):e
if(a.tagName){if(r==null){return{container:a,width:a.style.pixelWidth||a.offsetWidth,height:a.style.pixelHeight||a.offsetHeight}}else{return{container:a,width:r,height:n}}}}else{return{container:1,x:e,y:r,width:n,height:i}}},St=function(e,t){var r=this
for(var n in t){if(t[o](n)&&!(n in e)){switch(typeof t[n]){case"function":(function(t){e[n]=e===r?t:function(){return t[d](r,arguments)}})(t[n])
break
case"object":e[n]=e[n]||{}
St.call(this,e[n],t[n])
break
default:e[n]=t[n]
break}}}},Ct=function(e,t){e==t.top&&(t.top=e.prev)
e==t.bottom&&(t.bottom=e.next)
e.next&&(e.next.prev=e.prev)
e.prev&&(e.prev.next=e.next)},Mt=function(e,t){if(t.top===e){return}Ct(e,t)
e.next=null
e.prev=t.top
t.top.next=e
t.top=e},_t=function(e,t){if(t.bottom===e){return}Ct(e,t)
e.next=t.bottom
e.prev=null
t.bottom.prev=e
t.bottom=e},Nt=function(e,t,r){Ct(e,r)
t==r.top&&(r.top=e)
t.next&&(t.next.prev=e)
e.next=t.next
e.prev=t
t.next=e},It=function(e,t,r){Ct(e,r)
t==r.bottom&&(r.bottom=e)
t.prev&&(t.prev.next=e)
e.prev=t.prev
t.prev=e
e.next=t},Rt=function(e){return function(){throw new Error("Raphaël: you are calling to method “"+e+"” of removed object")}}
t.pathToRelative=mt
if(t.svg){c.svgns="http://www.w3.org/2000/svg"
c.xlink="http://www.w3.org/1999/xlink"
W=function(e){return+e+(~~e===e)*.5}
var $=function(t,r){if(r){for(var n in r){if(r[o](n)){e(t,n,y(r[n]))}}}else{t=s.createElementNS(c.svgns,t)
t.style.webkitTapHighlightColor="rgba(0,0,0,0)"
return t}}
t[A]=function(){return"Your browser supports SVG.\nYou are running Raphaël "+this.version}
var Ot=function(e,t){var r=$("path")
t.canvas&&t.canvas[h](r)
var n=new Bt(r,t)
n.type="path"
Lt(n,{fill:"none",stroke:"#000",path:e})
return n}
var At=function(e,t,r){var n="linear",i=.5,a=.5,o=e.style
t=y(t)[Q](it,function(e,t,r){n="radial"
if(t&&r){i=V(t)
a=V(r)
var o=(a>.5)*2-1
_(i-.5,2)+_(a-.5,2)>.25&&(a=k.sqrt(.25-_(i-.5,2))*o+.5)&&a!=.5&&(a=a.toFixed(5)-1e-5*o)}return m})
t=t[b](/\s*\-\s*/)
if(n=="linear"){var l=t.shift()
l=-V(l)
if(isNaN(l)){return null}var p=[0,0,k.cos(l*N/180),k.sin(l*N/180)],u=1/(S(M(p[2]),M(p[3]))||1)
p[2]*=u
p[3]*=u
if(p[2]<0){p[0]=-p[2]
p[2]=0}if(p[3]<0){p[1]=-p[3]
p[3]=0}}var c=wt(t)
if(!c){return null}var d=e.getAttribute(D)
d=d.match(/^url\(#(.*)\)$/)
d&&r.defs.removeChild(s.getElementById(d[1]))
var f=$(n+"Gradient")
f.id=lt()
$(f,n=="radial"?{fx:i,fy:a}:{x1:p[0],y1:p[1],x2:p[2],y2:p[3]})
r.defs[h](f)
for(var v=0,g=c[E];v<g;v++){var T=$("stop")
$(T,{offset:c[v].offset?c[v].offset:!v?"0%":"100%","stop-color":c[v].color||"#fff"})
f[h](T)}$(e,{fill:"url(#"+f.id+")",opacity:1,"fill-opacity":1})
o.fill=m
o.opacity=1
o.fillOpacity=1
return 1}
var Dt=function(e){var r=e.getBBox()
$(e.pattern,{patternTransform:t.format("translate({0},{1})",r.x,r.y)})}
var Lt=function(n,i){var a={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},l=n.node,p=n.attrs,u=n.rotate(),c=function(e,t){t=a[w.call(t)]
if(t){var r=e.attrs["stroke-width"]||"1",n={round:r,square:r,butt:0}[e.attrs["stroke-linecap"]||i["stroke-linecap"]]||0,o=[]
var s=t[E]
while(s--){o[s]=t[s]*r+(s%2?1:-1)*n}$(l,{"stroke-dasharray":o[P](",")})}}
i[o]("rotation")&&(u=i.rotation)
var d=y(u)[b](r)
if(!(d.length-1)){d=null}else{d[1]=+d[1]
d[2]=+d[2]}V(u)&&n.rotate(0,true)
for(var f in i){if(i[o](f)){if(!K[o](f)){continue}var v=i[f]
p[f]=v
switch(f){case"blur":n.blur(v)
break
case"rotation":n.rotate(v,true)
break
case"href":case"title":case"target":var T=l.parentNode
if(w.call(T.tagName)!="a"){var x=$("a")
T.insertBefore(x,l)
x[h](l)
T=x}if(f=="target"&&v=="blank"){T.setAttributeNS(n.paper.xlink,"show","new")}else{T.setAttributeNS(n.paper.xlink,f,v)}break
case"cursor":l.style.cursor=v
break
case"clip-rect":var k=y(v)[b](r)
if(k[E]==4){n.clip&&n.clip.parentNode.parentNode.removeChild(n.clip.parentNode)
var S=$("clipPath"),C=$("rect")
S.id=lt()
$(C,{x:k[0],y:k[1],width:k[2],height:k[3]})
S[h](C)
n.paper.defs[h](S)
$(l,{"clip-path":"url(#"+S.id+")"})
n.clip=C}if(!v){var M=s.getElementById(l.getAttribute("clip-path")[Q](/(^url\(#|\)$)/g,m))
M&&M.parentNode.removeChild(M)
$(l,{"clip-path":m})
delete n.clip}break
case"path":if(n.type=="path"){$(l,{d:v?p.path=gt(v):"M0,0"})}break
case"width":e(l,f,v)
if(p.fx){f="x"
v=p.x}else{break}case"x":if(p.fx){v=-p.x-(p.width||0)}case"rx":if(f=="rx"&&n.type=="rect"){break}case"cx":d&&(f=="x"||f=="cx")&&(d[1]+=v-p[f])
e(l,f,v)
n.pattern&&Dt(n)
break
case"height":e(l,f,v)
if(p.fy){f="y"
v=p.y}else{break}case"y":if(p.fy){v=-p.y-(p.height||0)}case"ry":if(f=="ry"&&n.type=="rect"){break}case"cy":d&&(f=="y"||f=="cy")&&(d[2]+=v-p[f])
e(l,f,v)
n.pattern&&Dt(n)
break
case"r":if(n.type=="rect"){$(l,{rx:v,ry:v})}else{e(l,f,v)}break
case"src":if(n.type=="image"){l.setAttributeNS(n.paper.xlink,"href",v)}break
case"stroke-width":l.style.strokeWidth=v
e(l,f,v)
if(p["stroke-dasharray"]){c(n,p["stroke-dasharray"])}break
case"stroke-dasharray":c(n,v)
break
case"translation":var _=y(v)[b](r)
_[0]=+_[0]||0
_[1]=+_[1]||0
if(d){d[1]+=_[0]
d[2]+=_[1]}Sr.call(n,_[0],_[1])
break
case"scale":_=y(v)[b](r)
n.scale(+_[0]||1,+_[1]||+_[0]||1,isNaN(V(_[2]))?null:+_[2],isNaN(V(_[3]))?null:+_[3])
break
case D:var N=y(v).match(B)
if(N){S=$("pattern")
var I=$("image")
S.id=lt()
$(S,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1})
$(I,{x:0,y:0})
I.setAttributeNS(n.paper.xlink,"href",N[1])
S[h](I)
var R=s.createElement("img")
R.style.cssText="position:absolute;left:-9999em;top-9999em"
R.onload=function(){$(S,{width:this.offsetWidth,height:this.offsetHeight})
$(I,{width:this.offsetWidth,height:this.offsetHeight})
s.body.removeChild(this)
n.paper.safari()}
s.body[h](R)
R.src=N[1]
n.paper.defs[h](S)
l.style.fill="url(#"+S.id+")"
$(l,{fill:"url(#"+S.id+")"})
n.pattern=S
n.pattern&&Dt(n)
break}var O=t.getRGB(v)
if(!O.error){delete i.gradient
delete p.gradient
!t.is(p.opacity,"undefined")&&t.is(i.opacity,"undefined")&&$(l,{opacity:p.opacity})
!t.is(p["fill-opacity"],"undefined")&&t.is(i["fill-opacity"],"undefined")&&$(l,{"fill-opacity":p["fill-opacity"]})}else if(({circle:1,ellipse:1}[o](n.type)||y(v).charAt()!="r")&&At(l,v,n.paper)){p.gradient=v
p.fill="none"
break}O[o]("opacity")&&$(l,{"fill-opacity":O.opacity>1?O.opacity/100:O.opacity})
case"stroke":O=t.getRGB(v)
e(l,f,O.hex)
f=="stroke"&&O[o]("opacity")&&$(l,{"stroke-opacity":O.opacity>1?O.opacity/100:O.opacity})
break
case"gradient":(({circle:1,ellipse:1})[o](n.type)||y(v).charAt()!="r")&&At(l,v,n.paper)
break
case"opacity":if(p.gradient&&!p[o]("stroke-opacity")){$(l,{"stroke-opacity":v>1?v/100:v})}case"fill-opacity":if(p.gradient){var A=s.getElementById(l.getAttribute(D)[Q](/^url\(#|\)$/g,m))
if(A){var L=A.getElementsByTagName("stop")
e(L[L[E]-1],"stop-opacity",v)}break}default:f=="font-size"&&(v=G(v,10)+"px")
var F=f[Q](/(\-.)/g,function(e){return Y.call(e.substring(1))})
l.style[F]=v
e(l,f,v)
break}}}qt(n,i)
if(d){n.rotate(d.join(g))}else{V(u)&&n.rotate(u,true)}}
var Ft=1.2,qt=function(e,r){if(e.type!="text"||!(r[o]("text")||r[o]("font")||r[o]("font-size")||r[o]("x")||r[o]("y"))){return}var n=e.attrs,i=e.node,a=i.firstChild?G(s.defaultView.getComputedStyle(i.firstChild,m).getPropertyValue("font-size"),10):10
if(r[o]("text")){n.text=r.text
while(i.firstChild){i.removeChild(i.firstChild)}var l=y(r.text)[b]("\n")
for(var p=0,u=l[E];p<u;p++)if(l[p]){var c=$("tspan")
p&&$(c,{dy:a*Ft,x:n.x})
c[h](s.createTextNode(l[p]))
i[h](c)}}else{l=i.getElementsByTagName("tspan")
for(p=0,u=l[E];p<u;p++){p&&$(l[p],{dy:a*Ft,x:n.x})}}$(i,{y:n.y})
var d=e.getBBox(),f=n.y-(d.y+d.height/2)
f&&t.is(f,"finite")&&$(i,{y:n.y+f})},Bt=function(e,r){var n=0,i=0
this[0]=e
this.id=t._oid++
this.node=e
e.raphael=this
this.paper=r
this.attrs=this.attrs||{}
this.transformations=[]
this._={tx:0,ty:0,rt:{deg:0,cx:0,cy:0},sx:1,sy:1}
!r.bottom&&(r.bottom=this)
this.prev=r.top
r.top&&(r.top.next=this)
r.top=this
this.next=null}
var zt=Bt[a]
Bt[a].rotate=function(e,n,i){if(this.removed){return this}if(e==null){if(this._.rt.cx){return[this._.rt.deg,this._.rt.cx,this._.rt.cy][P](g)}return this._.rt.deg}var a=this.getBBox()
e=y(e)[b](r)
if(e[E]-1){n=V(e[1])
i=V(e[2])}e=V(e[0])
if(n!=null&&n!==false){this._.rt.deg=e}else{this._.rt.deg+=e}i==null&&(n=null)
this._.rt.cx=n
this._.rt.cy=i
n=n==null?a.x+a.width/2:n
i=i==null?a.y+a.height/2:i
if(this._.rt.deg){this.transformations[0]=t.format("rotate({0} {1} {2})",this._.rt.deg,n,i)
this.clip&&$(this.clip,{transform:t.format("rotate({0} {1} {2})",-this._.rt.deg,n,i)})}else{this.transformations[0]=m
this.clip&&$(this.clip,{transform:m})}$(this.node,{transform:this.transformations[P](g)})
return this}
Bt[a].hide=function(){!this.removed&&(this.node.style.display="none")
return this}
Bt[a].show=function(){!this.removed&&(this.node.style.display="")
return this}
Bt[a].remove=function(){if(this.removed){return}Ct(this,this.paper)
this.node.parentNode.removeChild(this.node)
for(var e in this){delete this[e]}this.removed=true}
Bt[a].getBBox=function(){if(this.removed){return this}if(this.type=="path"){return ft(this.attrs.path)}if(this.node.style.display=="none"){this.show()
var e=true}var t={}
try{t=this.node.getBBox()}catch(r){}finally{t=t||{}}if(this.type=="text"){t={x:t.x,y:Infinity,width:0,height:0}
for(var n=0,i=this.node.getNumberOfChars();n<i;n++){var a=this.node.getExtentOfChar(n)
a.y<t.y&&(t.y=a.y)
a.y+a.height-t.y>t.height&&(t.height=a.y+a.height-t.y)
a.x+a.width-t.x>t.width&&(t.width=a.x+a.width-t.x)}}e&&this.hide()
return t}
Bt[a].attr=function(e,r){if(this.removed){return this}if(e==null){var n={}
for(var i in this.attrs)if(this.attrs[o](i)){n[i]=this.attrs[i]}this._.rt.deg&&(n.rotation=this.rotate());(this._.sx!=1||this._.sy!=1)&&(n.scale=this.scale())
n.gradient&&n.fill=="none"&&(n.fill=n.gradient)&&delete n.gradient
return n}if(r==null&&t.is(e,R)){if(e=="translation"){return Sr.call(this)}if(e=="rotation"){return this.rotate()}if(e=="scale"){return this.scale()}if(e==D&&this.attrs.fill=="none"&&this.attrs.gradient){return this.attrs.gradient}return this.attrs[e]}if(r==null&&t.is(e,O)){var a={}
for(var s=0,l=e.length;s<l;s++){a[e[s]]=this.attr(e[s])}return a}if(r!=null){var p={}
p[e]=r}else if(e!=null&&t.is(e,"object")){p=e}for(var u in this.paper.customAttributes)if(this.paper.customAttributes[o](u)&&p[o](u)&&t.is(this.paper.customAttributes[u],"function")){var c=this.paper.customAttributes[u].apply(this,[][f](p[u]))
this.attrs[u]=p[u]
for(var h in c)if(c[o](h)){p[h]=c[h]}}Lt(this,p)
return this}
Bt[a].toFront=function(){if(this.removed){return this}this.node.parentNode[h](this.node)
var e=this.paper
e.top!=this&&Mt(this,e)
return this}
Bt[a].toBack=function(){if(this.removed){return this}if(this.node.parentNode.firstChild!=this.node){this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild)
_t(this,this.paper)
var e=this.paper}return this}
Bt[a].insertAfter=function(e){if(this.removed){return this}var t=e.node||e[e.length-1].node
if(t.nextSibling){t.parentNode.insertBefore(this.node,t.nextSibling)}else{t.parentNode[h](this.node)}Nt(this,e,this.paper)
return this}
Bt[a].insertBefore=function(e){if(this.removed){return this}var t=e.node||e[0].node
t.parentNode.insertBefore(this.node,t)
It(this,e,this.paper)
return this}
Bt[a].blur=function(e){var t=this
if(+e!==0){var r=$("filter"),n=$("feGaussianBlur")
t.attrs.blur=e
r.id=lt()
$(n,{stdDeviation:+e||1.5})
r.appendChild(n)
t.paper.defs.appendChild(r)
t._blur=r
$(t.node,{filter:"url(#"+r.id+")"})}else{if(t._blur){t._blur.parentNode.removeChild(t._blur)
delete t._blur
delete t.attrs.blur}t.node.removeAttribute("filter")}}
var Ut=function(e,t,r,n){var i=$("circle")
e.canvas&&e.canvas[h](i)
var a=new Bt(i,e)
a.attrs={cx:t,cy:r,r:n,fill:"none",stroke:"#000"}
a.type="circle"
$(i,a.attrs)
return a},Ht=function(e,t,r,n,i,a){var o=$("rect")
e.canvas&&e.canvas[h](o)
var s=new Bt(o,e)
s.attrs={x:t,y:r,width:n,height:i,r:a||0,rx:a||0,ry:a||0,fill:"none",stroke:"#000"}
s.type="rect"
$(o,s.attrs)
return s},Wt=function(e,t,r,n,i){var a=$("ellipse")
e.canvas&&e.canvas[h](a)
var o=new Bt(a,e)
o.attrs={cx:t,cy:r,rx:n,ry:i,fill:"none",stroke:"#000"}
o.type="ellipse"
$(a,o.attrs)
return o},Vt=function(e,t,r,n,i,a){var o=$("image")
$(o,{x:r,y:n,width:i,height:a,preserveAspectRatio:"none"})
o.setAttributeNS(e.xlink,"href",t)
e.canvas&&e.canvas[h](o)
var s=new Bt(o,e)
s.attrs={x:r,y:n,width:i,height:a,src:t}
s.type="image"
return s},Gt=function(e,t,r,n){var i=$("text")
$(i,{x:t,y:r,"text-anchor":"middle"})
e.canvas&&e.canvas[h](i)
var a=new Bt(i,e)
a.attrs={x:t,y:r,"text-anchor":"middle",text:n,font:K.font,stroke:"none",fill:"#000"}
a.type="text"
Lt(a,a.attrs)
return a},jt=function(t,r){this.width=t||this.width
this.height=r||this.height
e(this.canvas,"width",this.width)
e(this.canvas,"height",this.height)
return this},$t=function(){var e=kt[d](0,arguments),r=e&&e.container,n=e.x,i=e.y,a=e.width,o=e.height
if(!r){throw new Error("SVG container not found.")}var l=$("svg")
n=n||0
i=i||0
a=a||512
o=o||342
$(l,{xmlns:"http://www.w3.org/2000/svg",version:1.1,width:a,height:o})
if(r==1){l.style.cssText="position:absolute;left:"+n+"px;top:"+i+"px"
s.body[h](l)}else{if(r.firstChild){r.insertBefore(l,r.firstChild)}else{r[h](l)}}r=new u
r.width=a
r.height=o
r.canvas=l
St.call(r,r,t.fn)
r.clear()
return r}
c.clear=function(){var e=this.canvas
while(e.firstChild){e.removeChild(e.firstChild)}this.bottom=this.top=null;(this.desc=$("desc"))[h](s.createTextNode("Created with Raphaël"))
e[h](this.desc)
e[h](this.defs=$("defs"))}
c.remove=function(){this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)
for(var e in this){this[e]=Rt(e)}}}if(t.vml){var Yt={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},Kt=/([clmz]),?([^clmz]*)/gi,Xt=/ progid:\S+Blur\([^\)]+\)/g,Qt=/-?[^,\s-]+/g,Zt=1e3+g+1e3,Jt=10,er={path:1,rect:1},tr=function(e){var t=/[ahqstv]/gi,r=gt
y(e).match(t)&&(r=Et)
t=/[clmz]/g
if(r==gt&&!y(e).match(t)){var n=y(e)[Q](Kt,function(e,t,r){var n=[],i=w.call(t)=="m",a=Yt[t]
r[Q](Qt,function(e){if(i&&n[E]==2){a+=n+Yt[t=="m"?"l":"L"]
n=[]}n[q](W(e*Jt))})
return a+n})
return n}var i=r(e),a,o
n=[]
for(var s=0,l=i[E];s<l;s++){a=i[s]
o=w.call(i[s][0])
o=="z"&&(o="x")
for(var p=1,u=a[E];p<u;p++){o+=W(a[p]*Jt)+(p!=u-1?",":m)}n[q](o)}return n[P](g)}
t[A]=function(){return"Your browser doesn’t support SVG. Falling down to VML.\nYou are running Raphaël "+this.version}
Ot=function(e,t){var r=nr("group")
r.style.cssText="position:absolute;left:0;top:0;width:"+t.width+"px;height:"+t.height+"px"
r.coordsize=t.coordsize
r.coordorigin=t.coordorigin
var n=nr("shape"),i=n.style
i.width=t.width+"px"
i.height=t.height+"px"
n.coordsize=Zt
n.coordorigin=t.coordorigin
r[h](n)
var a=new Bt(n,r,t),o={fill:"none",stroke:"#000"}
e&&(o.path=e)
a.type="path"
a.path=[]
a.Path=m
Lt(a,o)
t.canvas[h](r)
return a}
Lt=function(e,n){e.attrs=e.attrs||{}
var i=e.node,a=e.attrs,l=i.style,p,u=(n.x!=a.x||n.y!=a.y||n.width!=a.width||n.height!=a.height||n.r!=a.r)&&e.type=="rect",c=e
for(var d in n)if(n[o](d)){a[d]=n[d]}if(u){a.path=rr(a.x,a.y,a.width,a.height,a.r)
e.X=a.x
e.Y=a.y
e.W=a.width
e.H=a.height}n.href&&(i.href=n.href)
n.title&&(i.title=n.title)
n.target&&(i.target=n.target)
n.cursor&&(l.cursor=n.cursor)
"blur"in n&&e.blur(n.blur)
if(n.path&&e.type=="path"||u){i.path=tr(a.path)}if(n.rotation!=null){e.rotate(n.rotation,true)}if(n.translation){p=y(n.translation)[b](r)
Sr.call(e,p[0],p[1])
if(e._.rt.cx!=null){e._.rt.cx+=+p[0]
e._.rt.cy+=+p[1]
e.setBox(e.attrs,p[0],p[1])}}if(n.scale){p=y(n.scale)[b](r)
e.scale(+p[0]||1,+p[1]||+p[0]||1,+p[2]||null,+p[3]||null)}if("clip-rect"in n){var f=y(n["clip-rect"])[b](r)
if(f[E]==4){f[2]=+f[2]+ +f[0]
f[3]=+f[3]+ +f[1]
var v=i.clipRect||s.createElement("div"),g=v.style,T=i.parentNode
g.clip=t.format("rect({1}px {2}px {3}px {0}px)",f)
if(!i.clipRect){g.position="absolute"
g.top=0
g.left=0
g.width=e.paper.width+"px"
g.height=e.paper.height+"px"
T.parentNode.insertBefore(v,T)
v[h](T)
i.clipRect=v}}if(!n["clip-rect"]){i.clipRect&&(i.clipRect.style.clip=m)}}if(e.type=="image"&&n.src){i.src=n.src}if(e.type=="image"&&n.opacity){i.filterOpacity=j+".Alpha(opacity="+n.opacity*100+")"
l.filter=(i.filterMatrix||m)+(i.filterOpacity||m)}n.font&&(l.font=n.font)
n["font-family"]&&(l.fontFamily='"'+n["font-family"][b](",")[0][Q](/^['"]+|['"]+$/g,m)+'"')
n["font-size"]&&(l.fontSize=n["font-size"])
n["font-weight"]&&(l.fontWeight=n["font-weight"])
n["font-style"]&&(l.fontStyle=n["font-style"])
if(n.opacity!=null||n["stroke-width"]!=null||n.fill!=null||n.stroke!=null||n["stroke-width"]!=null||n["stroke-opacity"]!=null||n["fill-opacity"]!=null||n["stroke-dasharray"]!=null||n["stroke-miterlimit"]!=null||n["stroke-linejoin"]!=null||n["stroke-linecap"]!=null){i=e.shape||i
var x=i.getElementsByTagName(D)&&i.getElementsByTagName(D)[0],P=false
!x&&(P=x=nr(D))
if("fill-opacity"in n||"opacity"in n){var w=((+a["fill-opacity"]+1||2)-1)*((+a.opacity+1||2)-1)*((+t.getRGB(n.fill).o+1||2)-1)
w=C(S(w,0),1)
x.opacity=w}n.fill&&(x.on=true)
if(x.on==null||n.fill=="none"){x.on=false}if(x.on&&n.fill){var k=n.fill.match(B)
if(k){x.src=k[1]
x.type="tile"}else{x.color=t.getRGB(n.fill).hex
x.src=m
x.type="solid"
if(t.getRGB(n.fill).error&&(c.type in{circle:1,ellipse:1}||y(n.fill).charAt()!="r")&&At(c,n.fill)){a.fill="none"
a.gradient=n.fill}}}P&&i[h](x)
var M=i.getElementsByTagName("stroke")&&i.getElementsByTagName("stroke")[0],_=false
!M&&(_=M=nr("stroke"))
if(n.stroke&&n.stroke!="none"||n["stroke-width"]||n["stroke-opacity"]!=null||n["stroke-dasharray"]||n["stroke-miterlimit"]||n["stroke-linejoin"]||n["stroke-linecap"]){M.on=true}(n.stroke=="none"||M.on==null||n.stroke==0||n["stroke-width"]==0)&&(M.on=false)
var N=t.getRGB(n.stroke)
M.on&&n.stroke&&(M.color=N.hex)
w=((+a["stroke-opacity"]+1||2)-1)*((+a.opacity+1||2)-1)*((+N.o+1||2)-1)
var I=(V(n["stroke-width"])||1)*.75
w=C(S(w,0),1)
n["stroke-width"]==null&&(I=a["stroke-width"])
n["stroke-width"]&&(M.weight=I)
I&&I<1&&(w*=I)&&(M.weight=1)
M.opacity=w
n["stroke-linejoin"]&&(M.joinstyle=n["stroke-linejoin"]||"miter")
M.miterlimit=n["stroke-miterlimit"]||8
n["stroke-linecap"]&&(M.endcap=n["stroke-linecap"]=="butt"?"flat":n["stroke-linecap"]=="square"?"square":"round")
if(n["stroke-dasharray"]){var R={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"}
M.dashstyle=R[o](n["stroke-dasharray"])?R[n["stroke-dasharray"]]:m}_&&i[h](M)}if(c.type=="text"){l=c.paper.span.style
a.font&&(l.font=a.font)
a["font-family"]&&(l.fontFamily=a["font-family"])
a["font-size"]&&(l.fontSize=a["font-size"])
a["font-weight"]&&(l.fontWeight=a["font-weight"])
a["font-style"]&&(l.fontStyle=a["font-style"])
c.node.string&&(c.paper.span.innerHTML=y(c.node.string)[Q](/</g,"&#60;")[Q](/&/g,"&#38;")[Q](/\n/g,"<br>"))
c.W=a.w=c.paper.span.offsetWidth
c.H=a.h=c.paper.span.offsetHeight
c.X=a.x
c.Y=a.y+W(c.H/2)
switch(a["text-anchor"]){case"start":c.node.style["v-text-align"]="left"
c.bbx=W(c.W/2)
break
case"end":c.node.style["v-text-align"]="right"
c.bbx=-W(c.W/2)
break
default:c.node.style["v-text-align"]="center"
break}}}
At=function(e,t){e.attrs=e.attrs||{}
var r=e.attrs,n,i="linear",a=".5 .5"
e.attrs.gradient=t
t=y(t)[Q](it,function(e,t,r){i="radial"
if(t&&r){t=V(t)
r=V(r)
_(t-.5,2)+_(r-.5,2)>.25&&(r=k.sqrt(.25-_(t-.5,2))*((r>.5)*2-1)+.5)
a=t+g+r}return m})
t=t[b](/\s*\-\s*/)
if(i=="linear"){var o=t.shift()
o=-V(o)
if(isNaN(o)){return null}}var s=wt(t)
if(!s){return null}e=e.shape||e.node
n=e.getElementsByTagName(D)[0]||nr(D)
!n.parentNode&&e.appendChild(n)
if(s[E]){n.on=true
n.method="none"
n.color=s[0].color
n.color2=s[s[E]-1].color
var l=[]
for(var p=0,u=s[E];p<u;p++){s[p].offset&&l[q](s[p].offset+g+s[p].color)}n.colors&&(n.colors.value=l[E]?l[P]():"0% "+n.color)
if(i=="radial"){n.type="gradientradial"
n.focus="100%"
n.focussize=a
n.focusposition=a}else{n.type="gradient"
n.angle=(270-o)%360}}return 1}
Bt=function(e,r,n){var i=0,a=0,o=0,s=1
this[0]=e
this.id=t._oid++
this.node=e
e.raphael=this
this.X=0
this.Y=0
this.attrs={}
this.Group=r
this.paper=n
this._={tx:0,ty:0,rt:{deg:0},sx:1,sy:1}
!n.bottom&&(n.bottom=this)
this.prev=n.top
n.top&&(n.top.next=this)
n.top=this
this.next=null}
zt=Bt[a]
zt.rotate=function(e,t,n){if(this.removed){return this}if(e==null){if(this._.rt.cx){return[this._.rt.deg,this._.rt.cx,this._.rt.cy][P](g)}return this._.rt.deg}e=y(e)[b](r)
if(e[E]-1){t=V(e[1])
n=V(e[2])}e=V(e[0])
if(t!=null){this._.rt.deg=e}else{this._.rt.deg+=e}n==null&&(t=null)
this._.rt.cx=t
this._.rt.cy=n
this.setBox(this.attrs,t,n)
this.Group.style.rotation=this._.rt.deg
return this}
zt.setBox=function(e,t,r){if(this.removed){return this}var n=this.Group.style,i=this.shape&&this.shape.style||this.node.style
e=e||{}
for(var a in e)if(e[o](a)){this.attrs[a]=e[a]}t=t||this._.rt.cx
r=r||this._.rt.cy
var s=this.attrs,l,p,u,c
switch(this.type){case"circle":l=s.cx-s.r
p=s.cy-s.r
u=c=s.r*2
break
case"ellipse":l=s.cx-s.rx
p=s.cy-s.ry
u=s.rx*2
c=s.ry*2
break
case"image":l=+s.x
p=+s.y
u=s.width||0
c=s.height||0
break
case"text":this.textpath.v=["m",W(s.x),", ",W(s.y-2),"l",W(s.x)+1,", ",W(s.y-2)][P](m)
l=s.x-W(this.W/2)
p=s.y-this.H/2
u=this.W
c=this.H
break
case"rect":case"path":if(!this.attrs.path){l=0
p=0
u=this.paper.width
c=this.paper.height}else{var h=ft(this.attrs.path)
l=h.x
p=h.y
u=h.width
c=h.height}break
default:l=0
p=0
u=this.paper.width
c=this.paper.height
break}t=t==null?l+u/2:t
r=r==null?p+c/2:r
var d=t-this.paper.width/2,f=r-this.paper.height/2,v
n.left!=(v=d+"px")&&(n.left=v)
n.top!=(v=f+"px")&&(n.top=v)
this.X=er[o](this.type)?-d:l
this.Y=er[o](this.type)?-f:p
this.W=u
this.H=c
if(er[o](this.type)){i.left!=(v=-d*Jt+"px")&&(i.left=v)
i.top!=(v=-f*Jt+"px")&&(i.top=v)}else if(this.type=="text"){i.left!=(v=-d+"px")&&(i.left=v)
i.top!=(v=-f+"px")&&(i.top=v)}else{n.width!=(v=this.paper.width+"px")&&(n.width=v)
n.height!=(v=this.paper.height+"px")&&(n.height=v)
i.left!=(v=l-d+"px")&&(i.left=v)
i.top!=(v=p-f+"px")&&(i.top=v)
i.width!=(v=u+"px")&&(i.width=v)
i.height!=(v=c+"px")&&(i.height=v)}}
zt.hide=function(){!this.removed&&(this.Group.style.display="none")
return this}
zt.show=function(){!this.removed&&(this.Group.style.display="block")
return this}
zt.getBBox=function(){if(this.removed){return this}if(er[o](this.type)){return ft(this.attrs.path)}return{x:this.X+(this.bbx||0),y:this.Y,width:this.W,height:this.H}}
zt.remove=function(){if(this.removed){return}Ct(this,this.paper)
this.node.parentNode.removeChild(this.node)
this.Group.parentNode.removeChild(this.Group)
this.shape&&this.shape.parentNode.removeChild(this.shape)
for(var e in this){delete this[e]}this.removed=true}
zt.attr=function(e,r){if(this.removed){return this}if(e==null){var n={}
for(var i in this.attrs)if(this.attrs[o](i)){n[i]=this.attrs[i]}this._.rt.deg&&(n.rotation=this.rotate());(this._.sx!=1||this._.sy!=1)&&(n.scale=this.scale())
n.gradient&&n.fill=="none"&&(n.fill=n.gradient)&&delete n.gradient
return n}if(r==null&&t.is(e,"string")){if(e=="translation"){return Sr.call(this)}if(e=="rotation"){return this.rotate()}if(e=="scale"){return this.scale()}if(e==D&&this.attrs.fill=="none"&&this.attrs.gradient){return this.attrs.gradient}return this.attrs[e]}if(this.attrs&&r==null&&t.is(e,O)){var a,s={}
for(i=0,a=e[E];i<a;i++){s[e[i]]=this.attr(e[i])}return s}var l
if(r!=null){l={}
l[e]=r}r==null&&t.is(e,"object")&&(l=e)
if(l){for(var p in this.paper.customAttributes)if(this.paper.customAttributes[o](p)&&l[o](p)&&t.is(this.paper.customAttributes[p],"function")){var u=this.paper.customAttributes[p].apply(this,[][f](l[p]))
this.attrs[p]=l[p]
for(var c in u)if(u[o](c)){l[c]=u[c]}}if(l.text&&this.type=="text"){this.node.string=l.text}Lt(this,l)
if(l.gradient&&({circle:1,ellipse:1}[o](this.type)||y(l.gradient).charAt()!="r")){At(this,l.gradient)}(!er[o](this.type)||this._.rt.deg)&&this.setBox(this.attrs)}return this}
zt.toFront=function(){!this.removed&&this.Group.parentNode[h](this.Group)
this.paper.top!=this&&Mt(this,this.paper)
return this}
zt.toBack=function(){if(this.removed){return this}if(this.Group.parentNode.firstChild!=this.Group){this.Group.parentNode.insertBefore(this.Group,this.Group.parentNode.firstChild)
_t(this,this.paper)}return this}
zt.insertAfter=function(e){if(this.removed){return this}if(e.constructor==_r){e=e[e.length-1]}if(e.Group.nextSibling){e.Group.parentNode.insertBefore(this.Group,e.Group.nextSibling)}else{e.Group.parentNode[h](this.Group)}Nt(this,e,this.paper)
return this}
zt.insertBefore=function(e){if(this.removed){return this}if(e.constructor==_r){e=e[0]}e.Group.parentNode.insertBefore(this.Group,e.Group)
It(this,e,this.paper)
return this}
zt.blur=function(e){var r=this.node.runtimeStyle,n=r.filter
n=n.replace(Xt,m)
if(+e!==0){this.attrs.blur=e
r.filter=n+g+j+".Blur(pixelradius="+(+e||1.5)+")"
r.margin=t.format("-{0}px 0 0 -{0}px",W(+e||1.5))}else{r.filter=n
r.margin=0
delete this.attrs.blur}}
Ut=function(e,t,r,n){var i=nr("group"),a=nr("oval"),o=a.style
i.style.cssText="position:absolute;left:0;top:0;width:"+e.width+"px;height:"+e.height+"px"
i.coordsize=Zt
i.coordorigin=e.coordorigin
i[h](a)
var s=new Bt(a,i,e)
s.type="circle"
Lt(s,{stroke:"#000",fill:"none"})
s.attrs.cx=t
s.attrs.cy=r
s.attrs.r=n
s.setBox({x:t-n,y:r-n,width:n*2,height:n*2})
e.canvas[h](i)
return s}
function rr(e,r,n,i,a){if(a){return t.format("M{0},{1}l{2},0a{3},{3},0,0,1,{3},{3}l0,{5}a{3},{3},0,0,1,{4},{3}l{6},0a{3},{3},0,0,1,{4},{4}l0,{7}a{3},{3},0,0,1,{3},{4}z",e+a,r,n-a*2,a,-a,i-a*2,a*2-n,a*2-i)}else{return t.format("M{0},{1}l{2},0,0,{3},{4},0z",e,r,n,i,-n)}}Ht=function(e,t,r,n,i,a){var o=rr(t,r,n,i,a),s=e.path(o),l=s.attrs
s.X=l.x=t
s.Y=l.y=r
s.W=l.width=n
s.H=l.height=i
l.r=a
l.path=o
s.type="rect"
return s}
Wt=function(e,t,r,n,i){var a=nr("group"),o=nr("oval"),s=o.style
a.style.cssText="position:absolute;left:0;top:0;width:"+e.width+"px;height:"+e.height+"px"
a.coordsize=Zt
a.coordorigin=e.coordorigin
a[h](o)
var l=new Bt(o,a,e)
l.type="ellipse"
Lt(l,{stroke:"#000"})
l.attrs.cx=t
l.attrs.cy=r
l.attrs.rx=n
l.attrs.ry=i
l.setBox({x:t-n,y:r-i,width:n*2,height:i*2})
e.canvas[h](a)
return l}
Vt=function(e,t,r,n,i,a){var o=nr("group"),s=nr("image")
o.style.cssText="position:absolute;left:0;top:0;width:"+e.width+"px;height:"+e.height+"px"
o.coordsize=Zt
o.coordorigin=e.coordorigin
s.src=t
o[h](s)
var l=new Bt(s,o,e)
l.type="image"
l.attrs.src=t
l.attrs.x=r
l.attrs.y=n
l.attrs.w=i
l.attrs.h=a
l.setBox({x:r,y:n,width:i,height:a})
e.canvas[h](o)
return l}
Gt=function(e,r,n,i){var a=nr("group"),o=nr("shape"),s=o.style,l=nr("path"),p=l.style,u=nr("textpath")
a.style.cssText="position:absolute;left:0;top:0;width:"+e.width+"px;height:"+e.height+"px"
a.coordsize=Zt
a.coordorigin=e.coordorigin
l.v=t.format("m{0},{1}l{2},{1}",W(r*10),W(n*10),W(r*10)+1)
l.textpathok=true
s.width=e.width
s.height=e.height
u.string=y(i)
u.on=true
o[h](u)
o[h](l)
a[h](o)
var c=new Bt(u,a,e)
c.shape=o
c.textpath=l
c.type="text"
c.attrs.text=i
c.attrs.x=r
c.attrs.y=n
c.attrs.w=1
c.attrs.h=1
Lt(c,{font:K.font,stroke:"none",fill:"#000"})
c.setBox()
e.canvas[h](a)
return c}
jt=function(e,t){var r=this.canvas.style
e==+e&&(e+="px")
t==+t&&(t+="px")
r.width=e
r.height=t
r.clip="rect(0 "+e+" "+t+" 0)"
return this}
var nr
s.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)")
try{!s.namespaces.rvml&&s.namespaces.add("rvml","urn:schemas-microsoft-com:vml")
nr=function(e){return s.createElement("<rvml:"+e+' class="rvml">')}}catch(ir){nr=function(e){return s.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}$t=function(){var e=kt[d](0,arguments),r=e.container,n=e.height,i,a=e.width,o=e.x,l=e.y
if(!r){throw new Error("VML container not found.")}var p=new u,c=p.canvas=s.createElement("div"),f=c.style
o=o||0
l=l||0
a=a||512
n=n||342
a==+a&&(a+="px")
n==+n&&(n+="px")
p.width=1e3
p.height=1e3
p.coordsize=Jt*1e3+g+Jt*1e3
p.coordorigin="0 0"
p.span=s.createElement("span")
p.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;"
c[h](p.span)
f.cssText=t.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",a,n)
if(r==1){s.body[h](c)
f.left=o+"px"
f.top=l+"px"
f.position="absolute"}else{if(r.firstChild){r.insertBefore(c,r.firstChild)}else{r[h](c)}}St.call(p,p,t.fn)
return p}
c.clear=function(){this.canvas.innerHTML=m
this.span=s.createElement("span")
this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;"
this.canvas[h](this.span)
this.bottom=this.top=null}
c.remove=function(){this.canvas.parentNode.removeChild(this.canvas)
for(var e in this){this[e]=Rt(e)}return true}}var ar=navigator.userAgent.match(/Version\/(.*?)\s/)
if(navigator.vendor=="Apple Computer, Inc."&&(ar&&ar[1]<4||navigator.platform.slice(0,2)=="iP")){c.safari=function(){var e=this.rect(-99,-99,this.width+99,this.height+99).attr({stroke:"none"})
l.setTimeout(function(){e.remove()})}}else{c.safari=function(){}}var or=function(){this.returnValue=false},sr=function(){return this.originalEvent.preventDefault()},lr=function(){this.cancelBubble=true},pr=function(){return this.originalEvent.stopPropagation()},ur=function(){if(s.addEventListener){return function(e,t,r,n){var i=v&&x[t]?x[t]:t
var a=function(i){if(v&&x[o](t)){for(var a=0,s=i.targetTouches&&i.targetTouches.length;a<s;a++){if(i.targetTouches[a].target==e){var l=i
i=i.targetTouches[a]
i.originalEvent=l
i.preventDefault=sr
i.stopPropagation=pr
break}}}return r.call(n,i)}
e.addEventListener(i,a,false)
return function(){e.removeEventListener(i,a,false)
return true}}}else if(s.attachEvent){return function(e,t,r,n){var i=function(e){e=e||l.event
e.preventDefault=e.preventDefault||or
e.stopPropagation=e.stopPropagation||lr
return r.call(n,e)}
e.attachEvent("on"+t,i)
var a=function(){e.detachEvent("on"+t,i)
return true}
return a}}}(),cr=[],hr=function(e){var t=e.clientX,r=e.clientY,n=s.documentElement.scrollTop||s.body.scrollTop,i=s.documentElement.scrollLeft||s.body.scrollLeft,a,o=cr.length
while(o--){a=cr[o]
if(v){var l=e.touches.length,p
while(l--){p=e.touches[l]
if(p.identifier==a.el._drag.id){t=p.clientX
r=p.clientY;(e.originalEvent?e.originalEvent:e).preventDefault()
break}}}else{e.preventDefault()}t+=i
r+=n
a.move&&a.move.call(a.move_scope||a.el,t-a.el._drag.x,r-a.el._drag.y,t,r,e)}},dr=function(e){t.unmousemove(hr).unmouseup(dr)
var r=cr.length,n
while(r--){n=cr[r]
n.el._drag={}
n.end&&n.end.call(n.end_scope||n.start_scope||n.move_scope||n.el,e)}cr=[]}
for(var fr=T[E];fr--;){(function(e){t[e]=Bt[a][e]=function(r,n){if(t.is(r,"function")){this.events=this.events||[]
this.events.push({name:e,f:r,unbind:ur(this.shape||this.node||s,e,r,n||this)})}return this}
t["un"+e]=Bt[a]["un"+e]=function(t){var r=this.events,n=r[E]
while(n--)if(r[n].name==e&&r[n].f==t){r[n].unbind()
r.splice(n,1)
!r.length&&delete this.events
return this}return this}})(T[fr])}zt.hover=function(e,t,r,n){return this.mouseover(e,r).mouseout(t,n||r)}
zt.unhover=function(e,t){return this.unmouseover(e).unmouseout(t)}
zt.drag=function(e,r,n,i,a,o){this._drag={}
this.mousedown(function(l){(l.originalEvent||l).preventDefault()
var p=s.documentElement.scrollTop||s.body.scrollTop,u=s.documentElement.scrollLeft||s.body.scrollLeft
this._drag.x=l.clientX+u
this._drag.y=l.clientY+p
this._drag.id=l.identifier
r&&r.call(a||i||this,l.clientX+u,l.clientY+p,l)
!cr.length&&t.mousemove(hr).mouseup(dr)
cr.push({el:this,move:e,end:n,move_scope:i,start_scope:a,end_scope:o})})
return this}
zt.undrag=function(e,r,n){var i=cr.length
while(i--){cr[i].el==this&&(cr[i].move==e&&cr[i].end==n)&&cr.splice(i++,1)}!cr.length&&t.unmousemove(hr).unmouseup(dr)}
c.circle=function(e,t,r){return Ut(this,e||0,t||0,r||0)}
c.rect=function(e,t,r,n,i){return Ht(this,e||0,t||0,r||0,n||0,i||0)}
c.ellipse=function(e,t,r,n){return Wt(this,e||0,t||0,r||0,n||0)}
c.path=function(e){e&&!t.is(e,R)&&!t.is(e[0],O)&&(e+=m)
return Ot(t.format[d](t,arguments),this)}
c.image=function(e,t,r,n,i){return Vt(this,e||"about:blank",t||0,r||0,n||0,i||0)}
c.text=function(e,t,r){return Gt(this,e||0,t||0,y(r))}
c.set=function(e){arguments[E]>1&&(e=Array[a].splice.call(arguments,0,arguments[E]))
return new _r(e)}
c.setSize=jt
c.top=c.bottom=null
c.raphael=t
function vr(){return this.x+g+this.y}zt.resetScale=function(){if(this.removed){return this}this._.sx=1
this._.sy=1
this.attrs.scale="1 1"}
zt.scale=function(t,r,n,i){if(this.removed){return this}if(t==null&&r==null){return{x:this._.sx,y:this._.sy,toString:vr}}r=r||t
!+r&&(r=t)
var a,o,s,l,p=this.attrs
if(t!=0){var u=this.getBBox(),c=u.x+u.width/2,h=u.y+u.height/2,d=M(t/this._.sx),v=M(r/this._.sy)
n=+n||n==0?n:c
i=+i||i==0?i:h
var y=this._.sx>0,b=this._.sy>0,T=~~(t/M(t)),x=~~(r/M(r)),w=d*T,k=v*x,S=this.node.style,C=n+M(c-n)*w*(c>n==y?1:-1),_=i+M(h-i)*k*(h>i==b?1:-1),N=t*T>r*x?v:d
switch(this.type){case"rect":case"image":var I=p.width*d,R=p.height*v
this.attr({height:R,r:p.r*N,width:I,x:C-I/2,y:_-R/2})
break
case"circle":case"ellipse":this.attr({rx:p.rx*d,ry:p.ry*v,r:p.r*N,cx:C,cy:_})
break
case"text":this.attr({x:C,y:_})
break
case"path":var O=mt(p.path),A=true,D=y?w:d,L=b?k:v
for(var F=0,q=O[E];F<q;F++){var B=O[F],z=Y.call(B[0])
if(z=="M"&&A){continue}else{A=false}if(z=="A"){B[O[F][E]-2]*=D
B[O[F][E]-1]*=L
B[1]*=d
B[2]*=v
B[5]=+(T+x?!!+B[5]:!+B[5])}else if(z=="H"){for(var U=1,H=B[E];U<H;U++){B[U]*=D}}else if(z=="V"){for(U=1,H=B[E];U<H;U++){B[U]*=L}}else{for(U=1,H=B[E];U<H;U++){B[U]*=U%2?D:L}}}var W=ft(O)
a=C-W.x-W.width/2
o=_-W.y-W.height/2
O[0][1]+=a
O[0][2]+=o
this.attr({path:O})
break}if(this.type in{text:1,image:1}&&(T!=1||x!=1)){if(this.transformations){this.transformations[2]="scale("[f](T,",",x,")")
e(this.node,"transform",this.transformations[P](g))
a=T==-1?-p.x-(I||0):p.x
o=x==-1?-p.y-(R||0):p.y
this.attr({x:a,y:o})
p.fx=T-1
p.fy=x-1}else{this.node.filterMatrix=j+".Matrix(M11="[f](T,", M12=0, M21=0, M22=",x,", Dx=0, Dy=0, sizingmethod='auto expand', filtertype='bilinear')")
S.filter=(this.node.filterMatrix||m)+(this.node.filterOpacity||m)}}else{if(this.transformations){this.transformations[2]=m
e(this.node,"transform",this.transformations[P](g))
p.fx=0
p.fy=0}else{this.node.filterMatrix=m
S.filter=(this.node.filterMatrix||m)+(this.node.filterOpacity||m)}}p.scale=[t,r,n,i][P](g)
this._.sx=t
this._.sy=r}return this}
zt.clone=function(){if(this.removed){return null}var e=this.attr()
delete e.scale
delete e.translation
return this.paper[this.type]().attr(e)}
var mr={},gr=function(e,r,n,i,a,o,s,l,p){if(e===n&&r===i&&a===s&&o==l){var u=s-e,c=l-r
var h=Math.sqrt(u*u+c*c)
if(p==null){return h}else{var d=p/h
return{start:{x:e,y:r},m:{x:e,y:r},n:{x:s,y:l},end:{x:s,y:l},x:e+d*u,y:r+d*c,alpha:90-k.atan(u/c)*180/N}}}var f=0,v=100,m=[e,r,n,i,a,o,s,l].join(),g=mr[m],y,b
!g&&(mr[m]=g={data:[]})
g.timer&&clearTimeout(g.timer)
g.timer=setTimeout(function(){delete mr[m]},2e3)
if(p!=null){var T=gr(e,r,n,i,a,o,s,l)
v=~~T*10}for(var x=0;x<v+1;x++){if(g.data[p]>x){b=g.data[x*v]}else{b=t.findDotsAtSegment(e,r,n,i,a,o,s,l,x/v)
g.data[x]=b}x&&(f+=_(_(y.x-b.x,2)+_(y.y-b.y,2),.5))
if(p!=null&&f>=p){return b}y=b}if(p==null){return f}},yr=function(e,r){return function(n,i,a){n=Et(n)
var o,s,l,p,u="",c={},h,d=0
for(var f=0,v=n.length;f<v;f++){l=n[f]
if(l[0]=="M"){o=+l[1]
s=+l[2]}else{p=gr(o,s,l[1],l[2],l[3],l[4],l[5],l[6])
if(d+p>i){if(r&&!c.start){h=gr(o,s,l[1],l[2],l[3],l[4],l[5],l[6],i-d)
u+=["C",h.start.x,h.start.y,h.m.x,h.m.y,h.x,h.y]
if(a){return u}c.start=u
u=["M",h.x,h.y+"C",h.n.x,h.n.y,h.end.x,h.end.y,l[5],l[6]][P]()
d+=p
o=+l[5]
s=+l[6]
continue}if(!e&&!r){h=gr(o,s,l[1],l[2],l[3],l[4],l[5],l[6],i-d)
return{x:h.x,y:h.y,alpha:h.alpha}}}d+=p
o=+l[5]
s=+l[6]}u+=l}c.end=u
h=e?d:r?c:t.findDotsAtSegment(o,s,l[1],l[2],l[3],l[4],l[5],l[6],1)
h.alpha&&(h={x:h.x,y:h.y,alpha:h.alpha})
return h}}
var br=yr(1),Tr=yr(),xr=yr(0,1)
zt.getTotalLength=function(){if(this.type!="path"){return}if(this.node.getTotalLength){return this.node.getTotalLength()}return br(this.attrs.path)}
zt.getPointAtLength=function(e){if(this.type!="path"){return}return Tr(this.attrs.path,e)}
zt.getSubpath=function(e,t){if(this.type!="path"){return}if(M(this.getTotalLength()-t)<"1e-6"){return xr(this.attrs.path,e).end}var r=xr(this.attrs.path,t,1)
return e?xr(r,e).end:r}
t.easing_formulas={linear:function(e){return e},"<":function(e){return _(e,3)},">":function(e){return _(e-1,3)+1},"<>":function(e){e=e*2
if(e<1){return _(e,3)/2}e-=2
return(_(e,3)+2)/2},backIn:function(e){var t=1.70158
return e*e*((t+1)*e-t)},backOut:function(e){e=e-1
var t=1.70158
return e*e*((t+1)*e+t)+1},elastic:function(e){if(e==0||e==1){return e}var t=.3,r=t/4
return _(2,-10*e)*k.sin((e-r)*(2*N)/t)+1},bounce:function(e){var t=7.5625,r=2.75,n
if(e<1/r){n=t*e*e}else{if(e<2/r){e-=1.5/r
n=t*e*e+.75}else{if(e<2.5/r){e-=2.25/r
n=t*e*e+.9375}else{e-=2.625/r
n=t*e*e+.984375}}}return n}}
var Pr=[],Er=function(){var e=+new Date
for(var r=0;r<Pr[E];r++){var n=Pr[r]
if(n.stop||n.el.removed){continue}var i=e-n.start,a=n.ms,s=n.easing,l=n.from,p=n.diff,u=n.to,c=n.t,h=n.el,d={},f
if(i<a){var v=s(i/a)
for(var y in l)if(l[o](y)){switch(X[y]){case"along":f=v*a*p[y]
u.back&&(f=u.len-f)
var b=Tr(u[y],f)
h.translate(p.sx-p.x||0,p.sy-p.y||0)
p.x=b.x
p.y=b.y
h.translate(b.x-p.sx,b.y-p.sy)
u.rot&&h.rotate(p.r+b.alpha,b.x,b.y)
break
case I:f=+l[y]+v*a*p[y]
break
case"colour":f="rgb("+[kr(W(l[y].r+v*a*p[y].r)),kr(W(l[y].g+v*a*p[y].g)),kr(W(l[y].b+v*a*p[y].b))][P](",")+")"
break
case"path":f=[]
for(var T=0,x=l[y][E];T<x;T++){f[T]=[l[y][T][0]]
for(var w=1,k=l[y][T][E];w<k;w++){f[T][w]=+l[y][T][w]+v*a*p[y][T][w]}f[T]=f[T][P](g)}f=f[P](g)
break
case"csv":switch(y){case"translation":var S=v*a*p[y][0]-c.x,C=v*a*p[y][1]-c.y
c.x+=S
c.y+=C
f=S+g+C
break
case"rotation":f=+l[y][0]+v*a*p[y][0]
l[y][1]&&(f+=","+l[y][1]+","+l[y][2])
break
case"scale":f=[+l[y][0]+v*a*p[y][0],+l[y][1]+v*a*p[y][1],2 in u[y]?u[y][2]:m,3 in u[y]?u[y][3]:m][P](g)
break
case"clip-rect":f=[]
T=4
while(T--){f[T]=+l[y][T]+v*a*p[y][T]}break}break
default:var M=[].concat(l[y])
f=[]
T=h.paper.customAttributes[y].length
while(T--){f[T]=+M[T]+v*a*p[y][T]}break}d[y]=f}h.attr(d)
h._run&&h._run.call(h)}else{if(u.along){b=Tr(u.along,u.len*!u.back)
h.translate(p.sx-(p.x||0)+b.x-p.sx,p.sy-(p.y||0)+b.y-p.sy)
u.rot&&h.rotate(p.r+b.alpha,b.x,b.y)}(c.x||c.y)&&h.translate(-c.x,-c.y)
u.scale&&(u.scale+=m)
h.attr(u)
Pr.splice(r--,1)}}t.svg&&h&&h.paper&&h.paper.safari()
Pr[E]&&setTimeout(Er)},wr=function(e,r,n,i,a){var o=n-i
r.timeouts.push(setTimeout(function(){t.is(a,"function")&&a.call(r)
r.animate(e,o,e.easing)},i))},kr=function(e){return S(C(e,255),0)},Sr=function(e,t){if(e==null){return{x:this._.tx,y:this._.ty,toString:vr}}this._.tx+=+e
this._.ty+=+t
switch(this.type){case"circle":case"ellipse":this.attr({cx:+e+this.attrs.cx,cy:+t+this.attrs.cy})
break
case"rect":case"image":case"text":this.attr({x:+e+this.attrs.x,y:+t+this.attrs.y})
break
case"path":var r=mt(this.attrs.path)
r[0][1]+=+e
r[0][2]+=+t
this.attr({path:r})
break}return this}
zt.animateWith=function(e,t,r,n,i){for(var a=0,o=Pr.length;a<o;a++){if(Pr[a].el.id==e.id){t.start=Pr[a].start}}return this.animate(t,r,n,i)}
zt.animateAlong=Cr()
zt.animateAlongBack=Cr(1)
function Cr(e){return function(r,n,i,a){var o={back:e}
t.is(i,"function")?a=i:o.rot=i
r&&r.constructor==Bt&&(r=r.attrs.path)
r&&(o.along=r)
return this.animate(o,n,a)}}function Mr(e,t,r,n,i,a){var o=3*t,s=3*(n-t)-o,l=1-o-s,p=3*r,u=3*(i-r)-p,c=1-p-u
function h(e){return((l*e+s)*e+o)*e}function d(e,t){var r=f(e,t)
return((c*r+u)*r+p)*r}function f(e,t){var r,n,i,a,p,u
for(i=e,u=0;u<8;u++){a=h(i)-e
if(M(a)<t){return i}p=(3*l*i+2*s)*i+o
if(M(p)<1e-6){break}i=i-a/p}r=0
n=1
i=e
if(i<r){return r}if(i>n){return n}while(r<n){a=h(i)
if(M(a-e)<t){return i}if(e>a){r=i}else{n=i}i=(n-r)/2+r}return i}return d(e,1/(200*a))}zt.onAnimation=function(e){this._run=e||0
return this}
zt.animate=function(e,n,i,a){var s=this
s.timeouts=s.timeouts||[]
if(t.is(i,"function")||!i){a=i||null}if(s.removed){a&&a.call(s)
return s}var l={},p={},u=false,c={}
for(var h in e)if(e[o](h)){if(X[o](h)||s.paper.customAttributes[o](h)){u=true
l[h]=s.attr(h)
l[h]==null&&(l[h]=K[h])
p[h]=e[h]
switch(X[h]){case"along":var d=br(e[h])
var f=Tr(e[h],d*!!e.back)
var v=s.getBBox()
c[h]=d/n
c.tx=v.x
c.ty=v.y
c.sx=f.x
c.sy=f.y
p.rot=e.rot
p.back=e.back
p.len=d
e.rot&&(c.r=V(s.rotate())||0)
break
case I:c[h]=(p[h]-l[h])/n
break
case"colour":l[h]=t.getRGB(l[h])
var m=t.getRGB(p[h])
c[h]={r:(m.r-l[h].r)/n,g:(m.g-l[h].g)/n,b:(m.b-l[h].b)/n}
break
case"path":var g=Et(l[h],p[h])
l[h]=g[0]
var T=g[1]
c[h]=[]
for(var x=0,P=l[h][E];x<P;x++){c[h][x]=[0]
for(var w=1,k=l[h][x][E];w<k;w++){c[h][x][w]=(T[x][w]-l[h][x][w])/n}}break
case"csv":var S=y(e[h])[b](r),C=y(l[h])[b](r)
switch(h){case"translation":l[h]=[0,0]
c[h]=[S[0]/n,S[1]/n]
break
case"rotation":l[h]=C[1]==S[1]&&C[2]==S[2]?C:[0,S[1],S[2]]
c[h]=[(S[0]-l[h][0])/n,0,0]
break
case"scale":e[h]=S
l[h]=y(l[h])[b](r)
c[h]=[(S[0]-l[h][0])/n,(S[1]-l[h][1])/n,0,0]
break
case"clip-rect":l[h]=y(l[h])[b](r)
c[h]=[]
x=4
while(x--){c[h][x]=(S[x]-l[h][x])/n}break}p[h]=S
break
default:S=[].concat(e[h])
C=[].concat(l[h])
c[h]=[]
x=s.paper.customAttributes[h][E]
while(x--){c[h][x]=((S[x]||0)-(C[x]||0))/n}break}}}if(!u){var M=[],_
for(var N in e)if(e[o](N)&&Z.test(N)){h={value:e[N]}
N=="from"&&(N=0)
N=="to"&&(N=100)
h.key=G(N,10)
M.push(h)}M.sort(at)
if(M[0].key){M.unshift({key:0,value:s.attrs})}for(x=0,P=M[E];x<P;x++){wr(M[x].value,s,n/100*M[x].key,n/100*(M[x-1]&&M[x-1].key||0),M[x-1]&&M[x-1].value.callback)}_=M[M[E]-1].value.callback
if(_){s.timeouts.push(setTimeout(function(){_.call(s)},n))}}else{var R=t.easing_formulas[i]
if(!R){R=y(i).match(H)
if(R&&R[E]==5){var O=R
R=function(e){return Mr(e,+O[1],+O[2],+O[3],+O[4],n)}}else{R=function(e){return e}}}Pr.push({start:e.start||+new Date,ms:n,easing:R,from:l,diff:c,to:p,el:s,t:{x:0,y:0}})
t.is(a,"function")&&(s._ac=setTimeout(function(){a.call(s)},n))
Pr[E]==1&&setTimeout(Er)}return this}
zt.stop=function(){for(var e=0;e<Pr.length;e++){Pr[e].el.id==this.id&&Pr.splice(e--,1)}for(e=0,ii=this.timeouts&&this.timeouts.length;e<ii;e++){clearTimeout(this.timeouts[e])}this.timeouts=[]
clearTimeout(this._ac)
delete this._ac
return this}
zt.translate=function(e,t){return this.attr({translation:e+" "+t})}
zt[A]=function(){return"Raphaël’s object"}
t.ae=Pr
var _r=function(e){this.items=[]
this[E]=0
this.type="set"
if(e){for(var t=0,r=e[E];t<r;t++){if(e[t]&&(e[t].constructor==Bt||e[t].constructor==_r)){this[this.items[E]]=this.items[this.items[E]]=e[t]
this[E]++}}}}
_r[a][q]=function(){var e,t
for(var r=0,n=arguments[E];r<n;r++){e=arguments[r]
if(e&&(e.constructor==Bt||e.constructor==_r)){t=this.items[E]
this[t]=this.items[t]=e
this[E]++}}return this}
_r[a].pop=function(){delete this[this[E]--]
return this.items.pop()}
for(var Nr in zt)if(zt[o](Nr)){_r[a][Nr]=function(e){return function(){for(var t=0,r=this.items[E];t<r;t++){this.items[t][e][d](this.items[t],arguments)}return this}}(Nr)}_r[a].attr=function(e,r){if(e&&t.is(e,O)&&t.is(e[0],"object")){for(var n=0,i=e[E];n<i;n++){this.items[n].attr(e[n])}}else{for(var a=0,o=this.items[E];a<o;a++){this.items[a].attr(e,r)}}return this}
_r[a].animate=function(e,r,n,i){(t.is(n,"function")||!n)&&(i=n||null)
var a=this.items[E],o=a,s,l=this,p
i&&(p=function(){!--a&&i.call(l)})
n=t.is(n,R)?n:p
s=this.items[--o].animate(e,r,n,p)
while(o--){this.items[o]&&!this.items[o].removed&&this.items[o].animateWith(s,e,r,n,p)}return this}
_r[a].insertAfter=function(e){var t=this.items[E]
while(t--){this.items[t].insertAfter(e)}return this}
_r[a].getBBox=function(){var e=[],t=[],r=[],n=[]
for(var i=this.items[E];i--;){var a=this.items[i].getBBox()
e[q](a.x)
t[q](a.y)
r[q](a.x+a.width)
n[q](a.y+a.height)}e=C[d](0,e)
t=C[d](0,t)
return{x:e,y:t,width:S[d](0,r)-e,height:S[d](0,n)-t}}
_r[a].clone=function(e){e=new _r
for(var t=0,r=this.items[E];t<r;t++){e[q](this.items[t].clone())}return e}
t.registerFont=function(e){if(!e.face){return e}this.fonts=this.fonts||{}
var t={w:e.w,face:{},glyphs:{}},r=e.face["font-family"]
for(var n in e.face)if(e.face[o](n)){t.face[n]=e.face[n]}if(this.fonts[r]){this.fonts[r][q](t)}else{this.fonts[r]=[t]}if(!e.svg){t.face["units-per-em"]=G(e.face["units-per-em"],10)
for(var i in e.glyphs)if(e.glyphs[o](i)){var a=e.glyphs[i]
t.glyphs[i]={w:a.w,k:{},d:a.d&&"M"+a.d[Q](/[mlcxtrv]/g,function(e){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[e]||"M"})+"z"}
if(a.k){for(var s in a.k)if(a[o](s)){t.glyphs[i].k[s]=a.k[s]}}}}return e}
c.getFont=function(e,r,n,i){i=i||"normal"
n=n||"normal"
r=+r||{normal:400,bold:700,lighter:300,bolder:800}[r]||400
if(!t.fonts){return}var a=t.fonts[e]
if(!a){var s=new RegExp("(^|\\s)"+e[Q](/[^\w\d\s+!~.:_-]/g,m)+"(\\s|$)","i")
for(var l in t.fonts)if(t.fonts[o](l)){if(s.test(l)){a=t.fonts[l]
break}}}var p
if(a){for(var u=0,c=a[E];u<c;u++){p=a[u]
if(p.face["font-weight"]==r&&(p.face["font-style"]==n||!p.face["font-style"])&&p.face["font-stretch"]==i){break}}}return p}
c.print=function(e,n,i,a,o,s,l){s=s||"middle"
l=S(C(l||0,1),-1)
var p=this.set(),u=y(i)[b](m),c=0,h=m,d
t.is(a,i)&&(a=this.getFont(a))
if(a){d=(o||16)/a.face["units-per-em"]
var f=a.face.bbox.split(r),v=+f[0],g=+f[1]+(s=="baseline"?f[3]-f[1]+ +a.face.descent:(f[3]-f[1])/2)
for(var T=0,x=u[E];T<x;T++){var P=T&&a.glyphs[u[T-1]]||{},w=a.glyphs[u[T]]
c+=T?(P.w||a.w)+(P.k&&P.k[u[T]]||0)+a.w*l:0
w&&w.d&&p[q](this.path(w.d).attr({fill:"#000",stroke:"none",translation:[c,0]}))}p.scale(d,d,v,g).translate(e-v,n-g)}return p}
t.format=function(e,r){var n=t.is(r,O)?[0][f](r):arguments
e&&t.is(e,R)&&n[E]-1&&(e=e[Q](i,function(e,t){return n[++t]==null?m:n[t]}))
return e||m}
t.ninja=function(){p.was?l.Raphael=p.is:delete Raphael
return t}
t.el=zt
t.st=_r[a]
p.was?l.Raphael=t:Raphael=t})()},function(e,t,r){(function($,e,t,r){var n="virtualMouseBindings",i="virtualTouchID",a="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" "),o="clientX clientY pageX pageY screenX screenY".split(" "),s=$.event.mouseHooks?$.event.mouseHooks.props:[],l=$.event.props.concat(s),p={},u=0,c=0,h=0,d=false,f=[],v=false,m=false,g="addEventListener"in t,y=$(t),b=1,T=0
$.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500}
function x(e){while(e&&typeof e.originalEvent!=="undefined"){e=e.originalEvent}return e}function P(e,t){var n=e.type,i,a,s,p,u,c,h,d
e=$.Event(e)
e.type=t
i=e.originalEvent
a=$.event.props
if(n.search(/mouse/)>-1){a=l}if(i){for(h=a.length,p;h;){p=a[--h]
e[p]=i[p]}}if(n.search(/mouse(down|up)|click/)>-1&&!e.which){e.which=1}if(n.search(/^touch/)!==-1){s=x(i)
n=s.touches
u=s.changedTouches
c=n&&n.length?n[0]:u&&u.length?u[0]:r
if(c){for(d=0,len=o.length;d<len;d++){p=o[d]
e[p]=c[p]}}}return e}function E(e){var t={},r,i
while(e){r=$.data(e,n)
for(i in r){if(r[i]){t[i]=t.hasVirtualBinding=true}}e=e.parentNode}return t}function w(e,t){var r
while(e){r=$.data(e,n)
if(r&&(!t||r[t])){return e}e=e.parentNode}return null}function k(){m=false}function S(){m=true}function C(){T=0
f.length=0
v=false
S()}function M(){k()}function _(){N()
u=setTimeout(function(){u=0
C()},$.vmouse.resetTimerDuration)}function N(){if(u){clearTimeout(u)
u=0}}function I(e,t,r){var n
if(r&&r[e]||!r&&w(t.target,e)){n=P(t,e)
$(t.target).trigger(n)}return n}function R(e){var t=$.data(e.target,i)
if(!v&&(!T||T!==t)){var r=I("v"+e.type,e)
if(r){if(r.isDefaultPrevented()){e.preventDefault()}if(r.isPropagationStopped()){e.stopPropagation()}if(r.isImmediatePropagationStopped()){e.stopImmediatePropagation()}}}}function O(e){var t=x(e).touches,r,n
if(t&&t.length===1){r=e.target
n=E(r)
if(n.hasVirtualBinding){T=b++
$.data(r,i,T)
N()
M()
d=false
var a=x(e).touches[0]
c=a.pageX
h=a.pageY
I("vmouseover",e,n)
I("vmousedown",e,n)}}}function A(e){if(m){return}if(!d){I("vmousecancel",e,E(e.target))}d=true
_()}function D(e){if(m){return}var t=x(e).touches[0],r=d,n=$.vmouse.moveDistanceThreshold
d=d||(Math.abs(t.pageX-c)>n||Math.abs(t.pageY-h)>n),flags=E(e.target)
if(d&&!r){I("vmousecancel",e,flags)}I("vmousemove",e,flags)
_()}function L(e){if(m){return}S()
var t=E(e.target),r
I("vmouseup",e,t)
if(!d){var n=I("vclick",e,t)
if(n&&n.isDefaultPrevented()){r=x(e).changedTouches[0]
f.push({touchID:T,x:r.clientX,y:r.clientY})
v=true}}I("vmouseout",e,t)
d=false
_()}function F(e){var t=$.data(e,n),r
if(t){for(r in t){if(t[r]){return true}}}return false}function q(){}function B(e){var t=e.substr(1)
return{setup:function(r,i){if(!F(this)){$.data(this,n,{})}var a=$.data(this,n)
a[e]=true
p[e]=(p[e]||0)+1
if(p[e]===1){y.bind(t,R)}$(this).bind(t,q)
if(g){p["touchstart"]=(p["touchstart"]||0)+1
if(p["touchstart"]===1){y.bind("touchstart",O).bind("touchend",L).bind("touchmove",D).bind("scroll",A)}}},teardown:function(r,i){--p[e]
if(!p[e]){y.unbind(t,R)}if(g){--p["touchstart"]
if(!p["touchstart"]){y.unbind("touchstart",O).unbind("touchmove",D).unbind("touchend",L).unbind("scroll",A)}}var a=$(this),o=$.data(this,n)
if(o){o[e]=false}a.unbind(t,q)
if(!F(this)){a.removeData(n)}}}}for(var z=0;z<a.length;z++){$.event.special[a[z]]=B(a[z])}if(g){t.addEventListener("click",function(e){var t=f.length,r=e.target,n,a,o,s,l,p
if(t){n=e.clientX
a=e.clientY
threshold=$.vmouse.clickDistanceThreshold
o=r
while(o){for(s=0;s<t;s++){l=f[s]
p=0
if(o===r&&Math.abs(l.x-n)<threshold&&Math.abs(l.y-a)<threshold||$.data(o,i)===l.touchID){e.preventDefault()
e.stopPropagation()
return}}o=o.parentNode}}},true)}})(jQuery,window,document)},function(e,t,r){"use strict"
var n=r(12)
var i=r(178),a=i.connect
var o=r(151),s=o.View
var l=r(179)
var p=r(180)
var u=r(169),c=u.row,h=u.roundedTopLeft,d=u.roundedTopRight
var f=r(116),v=f.BorderStyles
var m=r(141)
var g=r(126),y=g.cursorContextPropType
var b=r(150)
var T=n.createClass({displayName:"FractionKeypad",propTypes:{cursorContext:y.isRequired,dynamicJumpOut:n.PropTypes.bool,roundTopLeft:n.PropTypes.bool,roundTopRight:n.PropTypes.bool},statics:{rows:4,columns:4,maxVisibleRows:5,numPages:1},render:function P(){var e=this.props,t=e.cursorContext,r=e.dynamicJumpOut,i=e.roundTopLeft,a=e.roundTopRight
var o=void 0
if(r)switch(t){case m.IN_PARENS:o=b.JUMP_OUT_PARENTHESES
break
case m.IN_SUPER_SCRIPT:o=b.JUMP_OUT_EXPONENT
break
case m.IN_SUB_SCRIPT:o=b.JUMP_OUT_BASE
break
case m.BEFORE_FRACTION:o=b.JUMP_INTO_NUMERATOR
break
case m.IN_NUMERATOR:o=b.JUMP_OUT_NUMERATOR
break
case m.IN_DENOMINATOR:o=b.JUMP_OUT_DENOMINATOR
break
case m.NONE:default:o=b.DISMISS}else o=b.DISMISS
return n.createElement(l,null,n.createElement(s,{style:c},n.createElement(p,{keyConfig:b.NUM_7,borders:v.NONE,style:i&&h}),n.createElement(p,{keyConfig:b.NUM_8,borders:v.NONE}),n.createElement(p,{keyConfig:b.NUM_9,borders:v.NONE}),n.createElement(p,{keyConfig:b.FRAC_MULTI,disabled:t===m.IN_NUMERATOR||t===m.IN_DENOMINATOR,style:a&&d})),n.createElement(s,{style:c},n.createElement(p,{keyConfig:b.NUM_4,borders:v.NONE}),n.createElement(p,{keyConfig:b.NUM_5,borders:v.NONE}),n.createElement(p,{keyConfig:b.NUM_6,borders:v.NONE}),n.createElement(p,{keyConfig:b.PERCENT})),n.createElement(s,{style:c},n.createElement(p,{keyConfig:b.NUM_1,borders:v.BOTTOM}),n.createElement(p,{keyConfig:b.NUM_2,borders:v.NONE}),n.createElement(p,{keyConfig:b.NUM_3,borders:v.BOTTOM}),n.createElement(p,{keyConfig:b.BACKSPACE,borders:v.LEFT})),n.createElement(s,{style:c},n.createElement(p,{keyConfig:b.NEGATIVE,borders:v.NONE}),n.createElement(p,{keyConfig:b.NUM_0,borders:v.LEFT}),n.createElement(p,{keyConfig:b.DECIMAL,borders:v.LEFT}),n.createElement(p,{keyConfig:o,borders:v.LEFT})))}})
var x=function E(e){return{cursorContext:e.input.cursor.context,dynamicJumpOut:!e.layout.navigationPadEnabled}}
e.exports=a(x)(T)},function(e,t,r){"use strict"
var n=r(12)
var i=r(178),a=i.connect
var o=r(15),s=o.StyleSheet
var l=r(151),p=l.View
var u=r(181)
var c=r(182)
var h=r(180)
var d=r(169),f=d.row,v=d.column,m=d.oneColumn,g=d.fullWidth,y=d.roundedTopLeft,b=d.roundedTopRight
var T=r(116),x=T.BorderStyles
var P=r(146),E=P.valueGrey,w=P.controlGrey
var k=r(126),S=k.cursorContextPropType,C=k.keyIdPropType
var M=r(150)
var _=r(141)
var N=n.createClass({displayName:"ExpressionKeypad",propTypes:{currentPage:n.PropTypes.number.isRequired,cursorContext:S.isRequired,dynamicJumpOut:n.PropTypes.bool,extraKeys:n.PropTypes.arrayOf(C),roundTopLeft:n.PropTypes.bool,roundTopRight:n.PropTypes.bool},statics:{rows:4,columns:5,maxVisibleRows:4,numPages:2},render:function O(){var e=this.props,t=e.currentPage,r=e.cursorContext,i=e.dynamicJumpOut,a=e.extraKeys,o=e.roundTopLeft,s=e.roundTopRight
var l=void 0
if(i)switch(r){case _.IN_PARENS:l=M.JUMP_OUT_PARENTHESES
break
case _.IN_SUPER_SCRIPT:l=M.JUMP_OUT_EXPONENT
break
case _.IN_SUB_SCRIPT:l=M.JUMP_OUT_BASE
break
case _.BEFORE_FRACTION:l=M.JUMP_INTO_NUMERATOR
break
case _.IN_NUMERATOR:l=M.JUMP_OUT_NUMERATOR
break
case _.IN_DENOMINATOR:l=M.JUMP_OUT_DENOMINATOR
break
case _.NONE:default:l=M.DISMISS}else l=M.DISMISS
var d=[f,g,I.rightPage,s&&b]
var T=n.createElement(p,{style:d},n.createElement(p,{style:[v,m]},n.createElement(h,{keyConfig:M.NUM_7,borders:x.NONE}),n.createElement(h,{keyConfig:M.NUM_4,borders:x.NONE}),n.createElement(h,{keyConfig:M.NUM_1,borders:x.BOTTOM}),n.createElement(c,{keys:a,borders:x.NONE})),n.createElement(p,{style:[v,m]},n.createElement(h,{keyConfig:M.NUM_8,borders:x.NONE}),n.createElement(h,{keyConfig:M.NUM_5,borders:x.NONE}),n.createElement(h,{keyConfig:M.NUM_2,borders:x.NONE}),n.createElement(h,{keyConfig:M.NUM_0,borders:x.LEFT})),n.createElement(p,{style:[v,m]},n.createElement(h,{keyConfig:M.NUM_9,borders:x.NONE}),n.createElement(h,{keyConfig:M.NUM_6,borders:x.NONE}),n.createElement(h,{keyConfig:M.NUM_3,borders:x.BOTTOM}),n.createElement(h,{keyConfig:M.DECIMAL,borders:x.LEFT})),n.createElement(p,{style:[v,m]},n.createElement(h,{keyConfig:M.DIVIDE,borders:x.LEFT}),n.createElement(h,{keyConfig:M.TIMES,borders:x.LEFT}),n.createElement(h,{keyConfig:M.MINUS,borders:x.LEFT}),n.createElement(h,{keyConfig:M.PLUS,borders:x.LEFT})),n.createElement(p,{style:[v,m]},n.createElement(h,{keyConfig:M.FRAC_INCLUSIVE,style:s&&b}),n.createElement(h,{keyConfig:M.CDOT}),n.createElement(h,{keyConfig:M.BACKSPACE,borders:x.LEFT}),n.createElement(h,{keyConfig:l,borders:x.LEFT})))
var P=[f,g,I.leftPage,o&&y]
var E=n.createElement(p,{style:P},n.createElement(p,{style:[v,m]},n.createElement(h,{keyConfig:M.EXP_2,borders:x.NONE,style:o&&y}),n.createElement(h,{keyConfig:M.SQRT,borders:x.NONE}),n.createElement(h,{keyConfig:M.LOG,borders:x.BOTTOM}),n.createElement(h,{keyConfig:M.SIN,borders:x.NONE})),n.createElement(p,{style:[v,m]},n.createElement(h,{keyConfig:M.EXP_3,borders:x.NONE}),n.createElement(h,{keyConfig:M.CUBE_ROOT,borders:x.NONE}),n.createElement(h,{keyConfig:M.LN,borders:x.BOTTOM}),n.createElement(h,{keyConfig:M.COS,borders:x.NONE})),n.createElement(p,{style:[v,m]},n.createElement(h,{keyConfig:M.EXP,borders:x.NONE}),n.createElement(h,{keyConfig:M.RADICAL,borders:x.NONE}),n.createElement(h,{keyConfig:M.LOG_N,borders:x.BOTTOM}),n.createElement(h,{keyConfig:M.TAN,borders:x.NONE})),n.createElement(p,{style:[v,m]},n.createElement(h,{keyConfig:M.GEQ,borders:x.LEFT}),n.createElement(h,{keyConfig:M.EQUAL,borders:x.LEFT}),n.createElement(h,{keyConfig:M.LEQ}),n.createElement(h,{keyConfig:M.LEFT_PAREN,borders:x.LEFT})),n.createElement(p,{style:[v,m]},n.createElement(h,{keyConfig:M.GT,borders:x.NONE}),n.createElement(h,{keyConfig:M.NEQ,borders:x.NONE}),n.createElement(h,{keyConfig:M.LT,borders:x.BOTTOM}),n.createElement(h,{keyConfig:M.RIGHT_PAREN,borders:x.NONE})))
return n.createElement(u,{currentPage:t,rightPage:T,leftPage:E})}})
var I=s.create({rightPage:{backgroundColor:E},leftPage:{backgroundColor:w}})
var R=function A(e){return{currentPage:e.pager.currentPage,cursorContext:e.input.cursor.context,dynamicJumpOut:!e.layout.navigationPadEnabled}}
e.exports=a(R)(N)},function(e,t,r){"use strict"
var n=r(12)
var i=r(15),a=i.StyleSheet
var o=r(151),s=o.View
var l=r(180)
var p=r(169),u=p.row,c=p.column,h=p.centered,d=p.stretch,f=p.roundedTopLeft
var v=r(146),m=v.navigationPadWidthPx,g=v.controlGrey,y=v.valueGrey,b=v.gray85
var T=r(116),x=T.BorderStyles
var P=r(150)
var E=n.createClass({displayName:"NavigationPad",propTypes:{roundTopLeft:n.PropTypes.bool,style:n.PropTypes.any},render:function M(){var e=this.props,t=e.roundTopLeft,r=e.style
var i=[c,h,C.container,t&&f].concat(Array.isArray(r)?r:[r])
return n.createElement(s,{style:i},n.createElement(s,{style:[u,h]},n.createElement(l,{keyConfig:P.UP,borders:x.NONE,style:[C.navigationKey,C.topArrow]})),n.createElement(s,{style:[u,h,d]},n.createElement(l,{keyConfig:P.LEFT,borders:x.NONE,style:[C.navigationKey,C.leftArrow]}),n.createElement(s,{style:C.horizontalSpacer}),n.createElement(l,{keyConfig:P.RIGHT,borders:x.NONE,style:[C.navigationKey,C.rightArrow]})),n.createElement(s,{style:[u,h]},n.createElement(l,{keyConfig:P.DOWN,borders:x.NONE,style:[C.navigationKey,C.bottomArrow]})))}})
var w=48
var k=4
var S=1
var C=a.create({container:{backgroundColor:g,width:m},navigationKey:{borderColor:b,backgroundColor:y,width:w,height:w,boxSizing:"content-box"},topArrow:{borderTopWidth:S,borderLeftWidth:S,borderRightWidth:S,borderTopLeftRadius:k,borderTopRightRadius:k},rightArrow:{borderTopWidth:S,borderRightWidth:S,borderBottomWidth:S,borderTopRightRadius:k,borderBottomRightRadius:k},bottomArrow:{borderBottomWidth:S,borderLeftWidth:S,borderRightWidth:S,borderBottomLeftRadius:k,borderBottomRightRadius:k},leftArrow:{borderTopWidth:S,borderBottomWidth:S,borderLeftWidth:S,borderTopLeftRadius:k,borderBottomLeftRadius:k},horizontalSpacer:{background:y,width:w}})
e.exports=E},function(e,t,r){"use strict"
e.exports={popover:1,echo:2,keypad:1060}},function(e,t,r){"use strict"
var n=r(15),i=n.StyleSheet
var a=r(146),o=a.compactKeypadBorderRadiusPx
e.exports=i.create({row:{flexDirection:"row"},column:{flexDirection:"column"},oneColumn:{flexGrow:1},fullWidth:{width:"100%"},stretch:{alignItems:"stretch"},centered:{justifyContent:"center",alignItems:"center"},centeredText:{textAlign:"center"},roundedTopLeft:{borderTopLeftRadius:o},roundedTopRight:{borderTopRightRadius:o}})},function(e,t,r){"use strict"
var n={PLUS:"PLUS",MINUS:"MINUS",NEGATIVE:"NEGATIVE",TIMES:"TIMES",DIVIDE:"DIVIDE",DECIMAL:"DECIMAL",PERIOD:"PERIOD",PERCENT:"PERCENT",CDOT:"CDOT",EQUAL:"EQUAL",NEQ:"NEQ",GT:"GT",LT:"LT",GEQ:"GEQ",LEQ:"LEQ",FRAC_INCLUSIVE:"FRAC_INCLUSIVE",FRAC_EXCLUSIVE:"FRAC_EXCLUSIVE",EXP:"EXP",EXP_2:"EXP_2",EXP_3:"EXP_3",SQRT:"SQRT",CUBE_ROOT:"CUBE_ROOT",RADICAL:"RADICAL",LEFT_PAREN:"LEFT_PAREN",RIGHT_PAREN:"RIGHT_PAREN",LN:"LN",LOG:"LOG",LOG_N:"LOG_N",SIN:"SIN",COS:"COS",TAN:"TAN",PI:"PI",THETA:"THETA",UP:"UP",RIGHT:"RIGHT",DOWN:"DOWN",LEFT:"LEFT",BACKSPACE:"BACKSPACE",DISMISS:"DISMISS",JUMP_OUT_PARENTHESES:"JUMP_OUT_PARENTHESES",JUMP_OUT_EXPONENT:"JUMP_OUT_EXPONENT",JUMP_OUT_BASE:"JUMP_OUT_BASE",JUMP_INTO_NUMERATOR:"JUMP_INTO_NUMERATOR",JUMP_OUT_NUMERATOR:"JUMP_OUT_NUMERATOR",JUMP_OUT_DENOMINATOR:"JUMP_OUT_DENOMINATOR",NOOP:"NOOP",FRAC_MULTI:"FRAC_MULTI",MANY:"MANY"}
e.exports=n},function(e,t,r){"use strict"
var n=r(116),i=n.DecimalSeparators
var a=void 0
a="undefined"!==typeof window&&window.icu&&","===window.icu.getDecimalFormatSymbols().decimal_separator?i.COMMA:i.PERIOD
e.exports={decimalSeparator:a}},function(e,t,r){"use strict"
var n=r(12)
var i=r(11)
var a=n.createClass({displayName:"ToggleableRadioButton",propTypes:{checked:n.PropTypes.bool.isRequired,inputRef:n.PropTypes.func,onChecked:n.PropTypes.func.isRequired},handleClick:function o(e){this.props.onChecked(!this.props.checked)},handleKeyUp:function s(e){if(" "===e.key){this.props.onChecked(!this.props.checked)
e.preventDefault()}},handleChange:function l(e){!this.props.checked&&e.target.checked&&this.props.onChecked(true)},handleKeyDown:function p(e){" "===e.key&&e.preventDefault()},render:function u(){var e=i.extend({},this.props,{type:"radio",onChange:this.handleChange,onClick:this.handleClick,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,ref:this.props.inputRef})
return n.createElement("input",e)}})
e.exports=a},function(e,t,r){"use strict"
var n=r(116),i=n.DeviceTypes,a=n.DeviceOrientations,o=n.LayoutModes
var s=r(146),l=s.pageIndicatorHeightPx,p=s.toolbarHeightPx,u=s.navigationPadWidthPx,c=s.innerBorderWidthPx
var h=48
var d=64
var f=32
var v=44
var m=64
var g=44
var y=v+g
var b=g+(m-v)
var T=320/(480-v)
var x=function P(e,t,r,n){var s=e.numColumns,v=e.numMaxVisibleRows,m=e.numPages
var g=t.pageWidthPx,x=t.pageHeightPx
var P=r.deviceOrientation,E=r.deviceType
var w=n.navigationPadEnabled,k=n.paginationEnabled,S=n.toolbarEnabled
var C=k?s:s*m
var M=void 0
if(E===i.PHONE){var _=P===a.LANDSCAPE
var N=_?y:b
var I=f+N+(S?p:0)+(k?l:0)
var R=g
var O=_?x:g/T
var A=O-I
var D=Math.max(Math.min(A/v,d),h)
var L=void 0
if(m>1){var F=k?s:s*m
L=R/F}else L=_?d:R/s
M={widthPx:L,heightPx:D}}else{if(E!==i.TABLET)throw new Error("Invalid device type: "+E)
M={widthPx:d,heightPx:d}}var q=(w?1:0)+(k?0:m-1)
var B=C*M.widthPx+(w?u:0)+q*c
return{buttonDimensions:M,layoutMode:B>=g?o.FULLSCREEN:o.COMPACT}}
e.exports=x},function(e,t,r){"use strict"
var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]
for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}
function i(e,t){var r={}
for(var n in e){if(t.indexOf(n)>=0)continue
if(!Object.prototype.hasOwnProperty.call(e,n))continue
r[n]=e[n]}return r}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=r(183)
var s=r(184)
var l=r(185)
var p=function c(e){return[e.changedTouches[0].clientX,e.changedTouches[0].clientY]}
var u=function(){function e(t,r,p,u){var c=this
a(this,e)
var h=t.swipeEnabled
this.swipeEnabled=h
this.trackEvents=false
this.nodeManager=new o
this.popoverStateMachine=new s({onActiveNodesChanged:function d(e){var t=e.popover,a=i(e,["popover"])
r.onActiveNodesChanged(n({popover:t&&{parentId:t.parentId,bounds:c.nodeManager.layoutPropsForId(t.parentId).initialBounds,childKeyIds:t.childIds}},a))},onClick:function f(e,t,n){r.onClick(e,c.nodeManager.layoutPropsForId(t),n)}})
this.gestureStateMachine=new l({onFocus:function v(e){c.popoverStateMachine.onFocus(e)},onLongPress:function m(e){c.popoverStateMachine.onLongPress(e)},onTouchEnd:function g(e){c.popoverStateMachine.onTouchEnd(e)},onBlur:function y(){c.popoverStateMachine.onBlur()},onSwipeChange:r.onSwipeChange,onSwipeEnd:r.onSwipeEnd,onTrigger:function b(e){c.popoverStateMachine.onTrigger(e)}},{},p,u)}e.prototype.onTouchStart=function t(e,r){if(!this.trackEvents)return
var n=p(e),i=n[0]
for(var a=0;a<e.changedTouches.length;a++)this.gestureStateMachine.onTouchStart(function(){return r},e.changedTouches[a].identifier,i)
e.preventDefault()}
e.prototype.onTouchMove=function r(e){var t=this
if(!this.trackEvents)return
var r=this.popoverStateMachine.isPopoverVisible()
var n=this.swipeEnabled&&!r
var i=p(e),a=i[0],o=i[1]
for(var s=0;s<e.changedTouches.length;s++)this.gestureStateMachine.onTouchMove(function(){return t.nodeManager.idForCoords(a,o)},e.changedTouches[s].identifier,a,n)}
e.prototype.onTouchEnd=function u(e){var t=this
if(!this.trackEvents)return
var r=p(e),n=r[0],i=r[1]
for(var a=0;a<e.changedTouches.length;a++)this.gestureStateMachine.onTouchEnd(function(){return t.nodeManager.idForCoords(n,i)},e.changedTouches[a].identifier,n)}
e.prototype.onTouchCancel=function c(e){if(!this.trackEvents)return
for(var t=0;t<e.changedTouches.length;t++)this.gestureStateMachine.onTouchCancel(e.changedTouches[t].identifier)}
e.prototype.registerDOMNode=function h(e,t,r,n){this.nodeManager.registerDOMNode(e,t,r,n)
this.popoverStateMachine.registerPopover(e,r)}
e.prototype.unregisterDOMNode=function d(e){this.nodeManager.unregisterDOMNode(e)
this.popoverStateMachine.unregisterPopover(e)}
e.prototype.enableEventTracking=function f(){this.trackEvents=true}
e.prototype.disableEventTracking=function v(){this.trackEvents=false}
return e}()
e.exports=u},function(e,t,r){"use strict"
var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]
for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}
function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=r(200)
var o=function(){function e(t){i(this,e)
this.options=n({velocityTimeout:100},t)
this._events=[]}e.prototype.push=function t(e){this._events.push({x:e,t:a()})}
e.prototype.getVelocity=function r(){var e=this._getEvents()
if(e.length<2)return 0
var t=e[e.length-1]
var r=e[0]
var n=t.t-r.t
return(t.x-r.x)/n}
e.prototype._getEvents=function o(){var e=a()-this.options.velocityTimeout
var t=this._events.filter(function(t){return t.t>e})
this._events=[]
return t}
return e}()
e.exports=o},function(e,t,r){"use strict"
var n=r(12)
var i=r(15),a=i.StyleSheet,o=i.css
var s=n.createClass({displayName:"Text",propTypes:{children:n.PropTypes.oneOfType([n.PropTypes.arrayOf(n.PropTypes.node),n.PropTypes.node]),dynamicStyle:n.PropTypes.any,numberOfLines:n.PropTypes.number,style:n.PropTypes.any},render:function p(){var e=this.props,t=e.numberOfLines,r=e.style
var i=o.apply(void 0,[l.initial].concat(Array.isArray(r)?r:[r],[1===t&&l.singleLineStyle]))
return n.createElement("span",{className:i,style:this.props.dynamicStyle},this.props.children)}})
var l=a.create({initial:{color:"inherit",display:"inline",font:"inherit",margin:0,padding:0,textDecorationLine:"none",wordWrap:"break-word"},singleLineStyle:{maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}})
e.exports=s},function(e,t,r){"use strict"
var n=r(12)
var i=r(15),a=i.StyleSheet,o=i.css
var s=n.createClass({displayName:"View",propTypes:{ariaLabel:n.PropTypes.string,children:n.PropTypes.oneOfType([n.PropTypes.arrayOf(n.PropTypes.node),n.PropTypes.node]),dynamicStyle:n.PropTypes.any,numberOfLines:n.PropTypes.number,onClick:n.PropTypes.func,onTouchCancel:n.PropTypes.func,onTouchEnd:n.PropTypes.func,onTouchMove:n.PropTypes.func,onTouchStart:n.PropTypes.func,role:n.PropTypes.string,style:n.PropTypes.any},statics:{styles:a.create({initial:{alignItems:"stretch",borderWidth:0,borderStyle:"solid",boxSizing:"border-box",display:"flex",flexBasis:"auto",flexDirection:"column",margin:0,padding:0,position:"relative",backgroundColor:"transparent",color:"inherit",font:"inherit",textAlign:"inherit",textDecorationLine:"none",listStyle:"none",maxWidth:"100%",minHeight:0,minWidth:0}})},render:function l(){var e=o.apply(void 0,[s.styles.initial].concat(Array.isArray(this.props.style)?this.props.style:[this.props.style]))
return n.createElement("div",{className:e,style:this.props.dynamicStyle,onClick:this.props.onClick,onTouchCancel:this.props.onTouchCancel,onTouchEnd:this.props.onTouchEnd,onTouchMove:this.props.onTouchMove,onTouchStart:this.props.onTouchStart,"aria-label":this.props.ariaLabel,role:this.props.role},this.props.children)}})
e.exports=s},function(e,t,r){"use strict"
t.__esModule=true
t.connect=t.Provider=void 0
var n=r(187)
var i=s(n)
var a=r(188)
var o=s(a)
function s(e){return e&&e.__esModule?e:{"default":e}}t.Provider=i["default"]
t.connect=o["default"]},function(e,t,r){"use strict"
var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]
for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}
function i(e,t){var r={}
for(var n in e){if(t.indexOf(n)>=0)continue
if(!Object.prototype.hasOwnProperty.call(e,n))continue
r[n]=e[n]}return r}var a=r(12)
var o=r(13)
var s=r(178),l=s.connect
var p=r(148),u=p.removeEcho
var c=r(151),h=c.View
var d=r(193)
var f=r(194)
var v=r(126),m=v.echoPropType,g=v.popoverPropType
var y=a.createClass({displayName:"Keypad",propTypes:{active:a.PropTypes.bool,children:a.PropTypes.oneOfType([a.PropTypes.arrayOf(a.PropTypes.node),a.PropTypes.node]),echoes:a.PropTypes.arrayOf(m).isRequired,popover:g,removeEcho:a.PropTypes.func.isRequired,style:a.PropTypes.any},componentDidMount:function x(){window.addEventListener("resize",this._onResize)
this._updateSizeAndPosition()},componentWillReceiveProps:function P(e){this._container||!e.popover&&!e.echoes.length||this._computeContainer()},componentWillUnmount:function E(){window.removeEventListener("resize",this._onResize)},_computeContainer:function w(){var e=o.findDOMNode(this)
this._container=e.getBoundingClientRect()},_updateSizeAndPosition:function k(){this._container=null},_onResize:function S(){var e=this
null==this._resizeTimeout&&(this._resizeTimeout=setTimeout(function(){e._resizeTimeout=null
e.isMounted()&&e._updateSizeAndPosition()},66))},render:function C(){var e=this
var t=this.props,r=t.children,o=t.echoes,s=t.removeEcho,l=t.popover,p=t.style
var u=o.map(function(t){var r=t.initialBounds,a=i(t,["initialBounds"])
return n({},a,{initialBounds:{top:r.top-e._container.top,right:r.right-e._container.left,bottom:r.bottom-e._container.top,left:r.left-e._container.left,width:r.width,height:r.height}})})
var c=l&&n({},l,{bounds:{bottom:this._container.height-(l.bounds.bottom-this._container.top),left:l.bounds.left-this._container.left,width:l.bounds.width}})
return a.createElement(h,{style:p},r,a.createElement(d,{echoes:u,onAnimationFinish:s}),a.createElement(f,{popover:c}))}})
var b=function M(e){return n({},e.echoes,{active:e.keypad.active,popover:e.gestures.popover})}
var T=function _(e){return{removeEcho:function t(r){e(u(r))}}}
e.exports=l(b,T)(y)},function(e,t,r){"use strict"
var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]
for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}
function i(e,t){var r={}
for(var n in e){if(t.indexOf(n)>=0)continue
if(!Object.prototype.hasOwnProperty.call(e,n))continue
r[n]=e[n]}return r}var a=r(12)
var o=r(13)
var s=r(178),l=s.connect
var p=r(189)
var u=r(150)
var c=r(174)
var h=r(126),d=h.bordersPropType,f=h.keyIdPropType
var v=r(116),m=v.KeyTypes
var g=a.createClass({displayName:"TouchableKeypadButton",propTypes:{borders:d,childKeyIds:a.PropTypes.arrayOf(f),disabled:a.PropTypes.bool,focused:a.PropTypes.bool,gestureManager:a.PropTypes.instanceOf(c),id:f.isRequired,popoverEnabled:a.PropTypes.bool,style:a.PropTypes.any,type:a.PropTypes.oneOf(Object.keys(m)).isRequired},shouldComponentUpdate:function T(e){return e.id!==this.props.id||e.gestureManager!==this.props.gestureManager||e.focused!==this.props.focused||e.disabled!==this.props.disabled||e.popoverEnabled!==this.props.popoverEnabled||e.type!==this.props.type||!!e.style},componentWillUnmount:function x(){var e=this.props,t=e.gestureManager,r=e.id
t.unregisterDOMNode(r)},render:function P(){var e=this.props,t=e.borders,r=e.childKeyIds,s=e.disabled,l=e.gestureManager,u=e.id,c=i(e,["borders","childKeyIds","disabled","gestureManager","id"])
var h=s?{onTouchStart:function d(e){return e.preventDefault()}}:{onTouchStart:function f(e){return l.onTouchStart(e,u)},onTouchEnd:function v(e){return l.onTouchEnd(e)},onTouchMove:function m(e){return l.onTouchMove(e)},onTouchCancel:function g(e){return l.onTouchCancel(e)}}
return a.createElement(p,n({ref:function y(e){return l.registerDOMNode(u,o.findDOMNode(e),r,t)},borders:t,disabled:s},h,c))}})
var y=function E(e){var t=e.ariaLabel,r=e.icon,n=e.type
return{ariaLabel:t,icon:r,type:n}}
var b=function w(e,t){var r=e.gestures
var a=t.keyConfig,o=i(t,["keyConfig"])
var s=a.id,l=a.childKeyIds,p=a.type
var c=l&&l.map(function(e){return u[e]})
var h=p!==m.MANY&&c&&c.length>0
return n({},o,{childKeyIds:l,gestureManager:r.gestureManager,id:s,focused:r.focus===s,popoverEnabled:r.popover&&r.popover.parentId===s,childKeys:c},y(h?c[0]:a))}
e.exports=l(b)(g)},function(e,t,r){"use strict"
var n=r(12)
var i=r(178),a=i.connect
var o=r(15),s=o.StyleSheet
var l=r(179)
var p=r(190)
var u=r(191)
var c=r(151),h=c.View
var d=r(169),f=d.column,v=d.row,m=d.fullWidth
var g=r(146),y=g.innerBorderColor,b=g.innerBorderStyle,T=g.innerBorderWidthPx,x=g.gray85
var P=n.createClass({displayName:"TwoPageKeypad",propTypes:{currentPage:n.PropTypes.oneOf([0,1]).isRequired,leftPage:n.PropTypes.node.isRequired,paginationEnabled:n.PropTypes.bool.isRequired,rightPage:n.PropTypes.node.isRequired},render:function k(){var e=this.props,t=e.currentPage,r=e.leftPage,i=e.paginationEnabled,a=e.rightPage
return i?n.createElement(l,{style:[f,E.keypad]},n.createElement(u,{numPages:2,currentPage:t}),n.createElement(h,{style:E.borderTop},n.createElement(p,null,r,a))):n.createElement(l,{style:E.keypad},n.createElement(h,{style:v},n.createElement(h,{style:m},r),n.createElement(h,{style:[E.borderLeft,m]},a)))}})
var E=s.create({keypad:{backgroundColor:x},borderTop:{borderTop:T+"px "+b+" "+y},borderLeft:{borderLeft:T+"px "+b+" "+y,boxSizing:"content-box"}})
var w=function S(e){return{paginationEnabled:e.layout.paginationEnabled}}
e.exports=a(w)(P)},function(e,t,r){"use strict"
var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]
for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}
function i(e,t){var r={}
for(var n in e){if(t.indexOf(n)>=0)continue
if(!Object.prototype.hasOwnProperty.call(e,n))continue
r[n]=e[n]}return r}var a=r(12)
var o=r(192)
var s=r(180)
var l=r(170)
var p=r(150)
var u=r(116),c=u.KeyTypes
var h=r(126),d=h.keyIdPropType
var f=a.createClass({displayName:"ManyKeypadButton",propTypes:{keys:a.PropTypes.arrayOf(d).isRequired},render:function v(){var e=this.props,t=e.keys,r=i(e,["keys"])
if(0===t.length)return a.createElement(o,r)
if(1===t.length){var u=p[t[0]]
return a.createElement(s,n({keyConfig:u},r))}var h={id:l.MANY,type:c.MANY,childKeyIds:t}
return a.createElement(s,n({keyConfig:h},r))}})
e.exports=f},function(e,t,r){"use strict"
function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(){var t=this
n(this,e)
this._nodesById={}
this._bordersById={}
this._orderedIds=[]
this._cachedBoundingBoxesById={}
window.addEventListener("resize",function(){t._cachedBoundingBoxesById={}})}e.prototype.registerDOMNode=function t(e,r,n,i){this._nodesById[e]=r
this._bordersById[e]=i
var a=[].concat(n||[],[e],this._orderedIds)
var o=[]
var s={}
for(var l=a,p=Array.isArray(l),u=0,l=p?l:l[Symbol.iterator]();;){var c
if(p){if(u>=l.length)break
c=l[u++]}else{u=l.next()
if(u.done)break
c=u.value}var h=c
if(!s[h]){o.push(h)
s[h]=true}}this._orderedIds=o}
e.prototype.unregisterDOMNode=function r(e){delete this._nodesById[e]}
e.prototype.idForCoords=function i(e,t){for(var r=this._orderedIds,n=Array.isArray(r),i=0,r=n?r:r[Symbol.iterator]();;){var a
if(n){if(i>=r.length)break
a=r[i++]}else{i=r.next()
if(i.done)break
a=i.value}var o=a
var s=this._nodesById[o]
if(s){var l=s.getBoundingClientRect()
if(l.left<=e&&l.right>e&&l.top<=t&&l.bottom>t){this._cachedBoundingBoxesById[o]=l
return o}}}}
e.prototype.layoutPropsForId=function a(e){this._cachedBoundingBoxesById[e]||(this._cachedBoundingBoxesById[e]=this._nodesById[e].getBoundingClientRect())
return{initialBounds:this._cachedBoundingBoxesById[e],borders:this._bordersById[e]}}
return e}()
e.exports=i},function(e,t,r){"use strict"
function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(t){n(this,e)
this.handlers=t
this.activePopover=null
this.popovers={}}e.prototype.registerPopover=function t(e,r){this.popovers[e]=r}
e.prototype.unregisterPopover=function r(e){delete this.popovers[e]}
e.prototype.isPopoverVisible=function i(){return null!=this.activePopover}
e.prototype.onBlur=function a(){this.activePopover=null
this.handlers.onActiveNodesChanged({popover:null,focus:null})}
e.prototype.onFocus=function o(e){if(this.activePopover)this._isNodeInsidePopover(this.activePopover,e)?this.handlers.onActiveNodesChanged({popover:{parentId:this.activePopover,childIds:this.popovers[this.activePopover]},focus:e}):this.handlers.onActiveNodesChanged({popover:{parentId:this.activePopover,childIds:this.popovers[this.activePopover]},focus:null})
else{this.activePopover=null
this.handlers.onActiveNodesChanged({popover:null,focus:e})}}
e.prototype.onLongPress=function s(e){if(!this.activePopover&&this.popovers[e]){this.activePopover=e
this.handlers.onActiveNodesChanged({popover:{parentId:this.activePopover,childIds:this.popovers[this.activePopover]},focus:this._defaultNodeForPopover(this.activePopover)})}}
e.prototype.onTrigger=function l(e){this.handlers.onClick(e,e,false)}
e.prototype.onTouchEnd=function p(e){var t=!!this.activePopover
if(t){if(this._isNodeInsidePopover(this.activePopover,e))this.handlers.onClick(e,e,t)
else if(this.activePopover===e){var r=this._defaultNodeForPopover(e)
this.handlers.onClick(r,r,t)}}else if(this.popovers[e]){var n=this._defaultNodeForPopover(e)
var i=e
this.handlers.onClick(n,i,t)}else null!=e&&this.onTrigger(e)
this.onBlur()}
e.prototype._isNodeInsidePopover=function u(e,t){return this.popovers[e].includes(t)}
e.prototype._defaultNodeForPopover=function c(e){return this.popovers[e][0]}
return e}()
e.exports=i},function(e,t,r){"use strict"
var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]
for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}
function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a={longPressWaitTimeMs:50,swipeThresholdPx:20,holdIntervalMs:250}
var o=function(){function e(t,r,o,s){i(this,e)
this.handlers=t
this.options=n({},a,r)
this.swipeDisabledNodeIds=o||[]
this.multiPressableKeys=s||[]
this.touchState={}
this.swipeState=null}e.prototype._maybeCancelLongPressForTouch=function t(e){var t=this.touchState[e].longPressTimeoutId
if(t){clearTimeout(t)
this.touchState[e]=n({},this.touchState[e],{longPressTimeoutId:null})}}
e.prototype._maybeCancelPressAndHoldForTouch=function r(e){var t=this.touchState[e].pressAndHoldIntervalId
if(t){clearInterval(t)
this.touchState[e]=n({},this.touchState[e],{pressAndHoldIntervalId:null})}}
e.prototype._cleanupTouchEvent=function o(e){this._maybeCancelLongPressForTouch(e)
this._maybeCancelPressAndHoldForTouch(e)
delete this.touchState[e]}
e.prototype._onFocus=function s(e,t){var r=this
this._maybeCancelLongPressForTouch(t)
this._maybeCancelPressAndHoldForTouch(t)
this.touchState[t]=n({},this.touchState[t],{activeNodeId:e})
this.handlers.onFocus(e)
if(e)if(this.multiPressableKeys.includes(e)){this.handlers.onTrigger(e)
this.touchState[t]=n({},this.touchState[t],{pressAndHoldIntervalId:setInterval(function(){r.handlers.onTrigger(e)},this.options.holdIntervalMs)})}else this.touchState[t]=n({},this.touchState[t],{longPressTimeoutId:setTimeout(function(){r.handlers.onLongPress(e)
r.touchState[t]=n({},r.touchState[t],{longPressTimeoutId:null})},this.options.longPressWaitTimeMs)})}
e.prototype._onSwipeStart=function l(){for(var e=Object.keys(this.touchState),t=Array.isArray(e),r=0,e=t?e:e[Symbol.iterator]();;){var n
if(t){if(r>=e.length)break
n=e[r++]}else{r=e.next()
if(r.done)break
n=r.value}var i=n
this._maybeCancelLongPressForTouch(i)
this._maybeCancelPressAndHoldForTouch(i)}this.touchState={}
this.handlers.onBlur()}
e.prototype.onTouchStart=function p(e,t,r){if(this.swipeState)return
if(this.touchState[t])return
var n=e()
this.touchState[t]={swipeLocked:this.swipeDisabledNodeIds.includes(n),startX:r}
this._onFocus(n,t)}
e.prototype.onTouchMove=function u(e,t,r,n){if(this.swipeState)this.swipeState.touchId===t&&this.handlers.onSwipeChange(r-this.swipeState.startX)
else if(this.touchState[t]){var i=this.touchState[t],a=i.activeNodeId,o=i.startX,s=i.swipeLocked
var l=r-o
var p=n&&!s&&Math.abs(l)>this.options.swipeThresholdPx
if(p){this._onSwipeStart()
this.swipeState={touchId:t,startX:o}
this.handlers.onSwipeChange(r-this.swipeState.startX)}else{var u=e()
u!==a&&this._onFocus(u,t)}}}
e.prototype.onTouchEnd=function c(e,t,r){if(this.swipeState){if(this.swipeState.touchId===t){this.handlers.onSwipeEnd(r-this.swipeState.startX)
this.swipeState=null}}else if(this.touchState[t]){var n=this.touchState[t],i=n.activeNodeId,a=n.pressAndHoldIntervalId
this._cleanupTouchEvent(t)
var o=!!a
o?this.handlers.onBlur():this.handlers.onTouchEnd(i)}}
e.prototype.onTouchCancel=function h(e){if(this.swipeState){if(this.swipeState.touchId===e){this.handlers.onSwipeEnd(0)
this.swipeState=null}}else if(this.touchState[e]){this._cleanupTouchEvent(e)
this.handlers.onBlur()}}
return e}()
e.exports=o},function(e,t,r){"use strict"
t.__esModule=true
t.compose=t.applyMiddleware=t.bindActionCreators=t.combineReducers=t.createStore=void 0
var n=r(195)
var i=v(n)
var a=r(196)
var o=v(a)
var s=r(197)
var l=v(s)
var p=r(198)
var u=v(p)
var c=r(199)
var h=v(c)
var d=r(201)
var f=v(d)
function v(e){return e&&e.__esModule?e:{"default":e}}function m(){}"production"!=="production"&&"string"===typeof m.name&&"isCrushed"!==m.name&&(0,f["default"])("You are currently using minified code outside of NODE_ENV === 'production'. This means that you are running a slower development build of Redux. You can use loose-envify (https://github.com/zertosh/loose-envify) for browserify or DefinePlugin for webpack (http://stackoverflow.com/questions/30030031) to ensure you have the correct code for your production build.")
t.createStore=i["default"]
t.combineReducers=o["default"]
t.bindActionCreators=l["default"]
t.applyMiddleware=u["default"]
t.compose=h["default"]},function(e,t,r){"use strict"
var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}
t.__esModule=true
t["default"]=void 0
var i=r(12)
var a=r(202)
var o=p(a)
var s=r(203)
var l=p(s)
function p(e){return e&&e.__esModule?e:{"default":e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
return!t||"object"!==("undefined"===typeof t?"undefined":n(t))&&"function"!==typeof t?e:t}function h(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"===typeof t?"undefined":n(t)))
e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}})
t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var d=false
function f(){if(d)return
d=true;(0,l["default"])("<Provider> does not support changing `store` on the fly. It is most likely that you see this error because you updated to Redux 2.x and React Redux 2.x which no longer hot reload reducers automatically. See https://github.com/reactjs/react-redux/releases/tag/v2.0.0 for the migration instructions.")}var v=function(e){h(t,e)
t.prototype.getChildContext=function r(){return{store:this.store}}
function t(r,n){u(this,t)
var i=c(this,e.call(this,r,n))
i.store=r.store
return i}t.prototype.render=function n(){return i.Children.only(this.props.children)}
return t}(i.Component)
t["default"]=v
"production"!=="production"&&(v.prototype.componentWillReceiveProps=function(e){var t=this.store
var r=e.store
t!==r&&f()})
v.propTypes={store:o["default"].isRequired,children:i.PropTypes.element.isRequired}
v.childContextTypes={store:o["default"].isRequired}},function(e,t,r){"use strict"
var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}
t.__esModule=true
var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]
for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}
t["default"]=I
var a=r(12)
var o=r(202)
var s=T(o)
var l=r(204)
var p=T(l)
var u=r(205)
var c=T(u)
var h=r(203)
var d=T(h)
var f=r(212)
var v=T(f)
var m=r(211)
var g=T(m)
var y=r(213)
var b=T(y)
function T(e){return e&&e.__esModule?e:{"default":e}}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
return!t||"object"!==("undefined"===typeof t?"undefined":n(t))&&"function"!==typeof t?e:t}function E(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"===typeof t?"undefined":n(t)))
e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}})
t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var w=function R(e){return{}}
var k=function O(e){return{dispatch:e}}
var S=function A(e,t,r){return i({},r,e,t)}
function C(e){return e.displayName||e.name||"Component"}var M={value:null}
function _(e,t){try{return e.apply(t)}catch(r){M.value=r
return M}}var N=0
function I(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}
var o=Boolean(e)
var l=e||w
var u=void 0
u="function"===typeof t?t:t?(0,c["default"])(t):k
var h=r||S
var f=n.pure,m=void 0===f?true:f,y=n.withRef,T=void 0===y?false:y
var I=m&&h!==S
var R=N++
return function O(e){var t="Connect("+C(e)+")"
function r(e,r){(0,v["default"])(e)||(0,d["default"])(r+"() in "+t+" must return a plain object. "+("Instead received "+e+"."))}function n(e,t,n){var i=h(e,t,n)
"production"!=="production"&&r(i,"mergeProps")
return i}var c=function(s){E(c,s)
c.prototype.shouldComponentUpdate=function h(){return!m||this.haveOwnPropsChanged||this.hasStoreStateChanged}
function c(e,r){x(this,c)
var n=P(this,s.call(this,e,r))
n.version=R
n.store=e.store||r.store;(0,b["default"])(n.store,'Could not find "store" in either the context or '+('props of "'+t+'". ')+"Either wrap the root component in a <Provider>, "+('or explicitly pass "store" as a prop to "'+t+'".'))
var i=n.store.getState()
n.state={storeState:i}
n.clearCache()
return n}c.prototype.computeStateProps=function d(e,t){if(!this.finalMapStateToProps)return this.configureFinalMapState(e,t)
var n=e.getState()
var i=this.doStatePropsDependOnOwnProps?this.finalMapStateToProps(n,t):this.finalMapStateToProps(n)
"production"!=="production"&&r(i,"mapStateToProps")
return i}
c.prototype.configureFinalMapState=function f(e,t){var n=l(e.getState(),t)
var i="function"===typeof n
this.finalMapStateToProps=i?n:l
this.doStatePropsDependOnOwnProps=1!==this.finalMapStateToProps.length
if(i)return this.computeStateProps(e,t)
"production"!=="production"&&r(n,"mapStateToProps")
return n}
c.prototype.computeDispatchProps=function v(e,t){if(!this.finalMapDispatchToProps)return this.configureFinalMapDispatch(e,t)
var n=e.dispatch
var i=this.doDispatchPropsDependOnOwnProps?this.finalMapDispatchToProps(n,t):this.finalMapDispatchToProps(n)
"production"!=="production"&&r(i,"mapDispatchToProps")
return i}
c.prototype.configureFinalMapDispatch=function g(e,t){var n=u(e.dispatch,t)
var i="function"===typeof n
this.finalMapDispatchToProps=i?n:u
this.doDispatchPropsDependOnOwnProps=1!==this.finalMapDispatchToProps.length
if(i)return this.computeDispatchProps(e,t)
"production"!=="production"&&r(n,"mapDispatchToProps")
return n}
c.prototype.updateStatePropsIfNeeded=function y(){var e=this.computeStateProps(this.store,this.props)
if(this.stateProps&&(0,p["default"])(e,this.stateProps))return false
this.stateProps=e
return true}
c.prototype.updateDispatchPropsIfNeeded=function w(){var e=this.computeDispatchProps(this.store,this.props)
if(this.dispatchProps&&(0,p["default"])(e,this.dispatchProps))return false
this.dispatchProps=e
return true}
c.prototype.updateMergedPropsIfNeeded=function k(){var e=n(this.stateProps,this.dispatchProps,this.props)
if(this.mergedProps&&I&&(0,p["default"])(e,this.mergedProps))return false
this.mergedProps=e
return true}
c.prototype.isSubscribed=function S(){return"function"===typeof this.unsubscribe}
c.prototype.trySubscribe=function C(){if(o&&!this.unsubscribe){this.unsubscribe=this.store.subscribe(this.handleChange.bind(this))
this.handleChange()}}
c.prototype.tryUnsubscribe=function N(){if(this.unsubscribe){this.unsubscribe()
this.unsubscribe=null}}
c.prototype.componentDidMount=function O(){this.trySubscribe()}
c.prototype.componentWillReceiveProps=function A(e){m&&(0,p["default"])(e,this.props)||(this.haveOwnPropsChanged=true)}
c.prototype.componentWillUnmount=function D(){this.tryUnsubscribe()
this.clearCache()}
c.prototype.clearCache=function L(){this.dispatchProps=null
this.stateProps=null
this.mergedProps=null
this.haveOwnPropsChanged=true
this.hasStoreStateChanged=true
this.haveStatePropsBeenPrecalculated=false
this.statePropsPrecalculationError=null
this.renderedElement=null
this.finalMapDispatchToProps=null
this.finalMapStateToProps=null}
c.prototype.handleChange=function F(){if(!this.unsubscribe)return
var e=this.store.getState()
var t=this.state.storeState
if(m&&t===e)return
if(m&&!this.doStatePropsDependOnOwnProps){var r=_(this.updateStatePropsIfNeeded,this)
if(!r)return
r===M&&(this.statePropsPrecalculationError=M.value)
this.haveStatePropsBeenPrecalculated=true}this.hasStoreStateChanged=true
this.setState({storeState:e})}
c.prototype.getWrappedInstance=function q(){(0,b["default"])(T,"To access the wrapped instance, you need to specify { withRef: true } as the fourth argument of the connect() call.")
return this.refs.wrappedInstance}
c.prototype.render=function B(){var t=this.haveOwnPropsChanged,r=this.hasStoreStateChanged,n=this.haveStatePropsBeenPrecalculated,o=this.statePropsPrecalculationError,s=this.renderedElement
this.haveOwnPropsChanged=false
this.hasStoreStateChanged=false
this.haveStatePropsBeenPrecalculated=false
this.statePropsPrecalculationError=null
if(o)throw o
var l=true
var p=true
if(m&&s){l=r||t&&this.doStatePropsDependOnOwnProps
p=t&&this.doDispatchPropsDependOnOwnProps}var u=false
var c=false
n?u=true:l&&(u=this.updateStatePropsIfNeeded())
p&&(c=this.updateDispatchPropsIfNeeded())
var h=true
h=u||c||t?this.updateMergedPropsIfNeeded():false
if(!h&&s)return s
T?this.renderedElement=(0,a.createElement)(e,i({},this.mergedProps,{ref:"wrappedInstance"})):this.renderedElement=(0,a.createElement)(e,this.mergedProps)
return this.renderedElement}
return c}(a.Component)
c.displayName=t
c.WrappedComponent=e
c.contextTypes={store:s["default"]}
c.propTypes={store:s["default"]}
"production"!=="production"&&(c.prototype.componentWillUpdate=function f(){if(this.version===R)return
this.version=R
this.trySubscribe()
this.clearCache()})
return(0,g["default"])(c,e)}}},function(e,t,r){"use strict"
var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]
for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}
var i=r(12)
var a=r(93)
var o=r(178),s=o.connect
var l=r(15),p=l.StyleSheet,u=l.css
var c=r(151),h=c.View
var d=r(207)
var f=r(208)
var v=r(209)
var m=r(116),g=m.KeyTypes,y=m.BorderDirections,b=m.BorderStyles
var T=r(146),x=T.brightGreen,P=T.innerBorderColor,E=T.innerBorderStyle,w=T.innerBorderWidthPx,k=T.valueGrey,S=T.operatorGrey,C=T.controlGrey,M=T.emptyGrey
var _=r(126),N=_.bordersPropType,I=_.iconPropType,R=_.keyConfigPropType
var O=i.createClass({displayName:"KeypadButton",propTypes:{ariaLabel:i.PropTypes.string,borders:N,childKeys:i.PropTypes.arrayOf(R),disabled:i.PropTypes.bool,focused:i.PropTypes.bool,heightPx:i.PropTypes.number.isRequired,icon:I,onTouchCancel:i.PropTypes.func,onTouchEnd:i.PropTypes.func,onTouchMove:i.PropTypes.func,onTouchStart:i.PropTypes.func,popoverEnabled:i.PropTypes.bool,style:i.PropTypes.any,type:i.PropTypes.oneOf(Object.keys(g)).isRequired,widthPx:i.PropTypes.number.isRequired},mixins:[a],getDefaultProps:function B(){return{borders:b.ALL,childKeys:[],disabled:false,focused:false,popoverEnabled:false}},componentWillMount:function z(){this.buttonSizeStyle=F(this.props.heightPx,this.props.widthPx)},componentDidMount:function U(){this._preInjectStyles()},componentWillUpdate:function H(e,t){if(e.heightPx!==this.props.heightPx||e.widthPx!==this.props.widthPx){this.buttonSizeStyle=F(e.heightPx,e.widthPx)
this._preInjectStyles()}},_preInjectStyles:function W(){for(var e=Object.keys(g),t=Array.isArray(e),r=0,e=t?e:e[Symbol.iterator]();;){var n
if(t){if(r>=e.length)break
n=e[r++]}else{r=e.next()
if(r.done)break
n=r.value}var i=n
u.apply(void 0,[h.styles.initial].concat(this._getFocusStyle(i)))
for(var a=Object.values(b),o=Array.isArray(a),s=0,a=o?a:a[Symbol.iterator]();;){var l
if(o){if(s>=a.length)break
l=a[s++]}else{s=a.next()
if(s.done)break
l=s.value}var p=l
u.apply(void 0,[h.styles.initial].concat(this._getButtonStyle(i,p)))}}},_getFocusStyle:function V(e){var t=void 0
t=e===g.INPUT_NAVIGATION||e===g.KEYPAD_NAVIGATION?L.light:L.bright
return[L.focusBox,t]},_getButtonStyle:function G(e,t,r){var n=void 0
switch(e){case g.EMPTY:n=L.empty
break
case g.MANY:case g.VALUE:n=L.value
break
case g.OPERATOR:n=L.operator
break
case g.INPUT_NAVIGATION:case g.KEYPAD_NAVIGATION:n=L.control
break
case g.ECHO:n=null}var i=[];-1!==t.indexOf(y.LEFT)&&i.push(L.leftBorder);-1!==t.indexOf(y.BOTTOM)&&i.push(L.bottomBorder)
return[L.buttonBase,n].concat(i,[e===g.ECHO&&L.echo,this.buttonSizeStyle],Array.isArray(r)?r:[r])},render:function j(){var e=this.props,t=e.ariaLabel,r=e.borders,a=e.childKeys,o=e.disabled,s=e.focused,l=e.icon,p=e.onTouchCancel,u=e.onTouchEnd,c=e.onTouchMove,m=e.onTouchStart,y=e.popoverEnabled,b=e.style,T=e.type
var x=!o&&s||y||T===g.ECHO
var P=this._getButtonStyle(T,r,b)
var E=this._getFocusStyle(T)
var w=[L.iconWrapper,o&&L.disabled]
var k={onTouchCancel:p,onTouchEnd:u,onTouchMove:c,onTouchStart:m}
var S=x&&i.createElement(h,{style:E})
var C=!x&&!o&&a&&a.length>0&&i.createElement(v,{style:L.decalInset})
if(T===g.EMPTY)return i.createElement(h,n({style:P},k))
if(T===g.MANY){var M={role:"button",ariaLabel:a[0].ariaLabel}
var _=a.map(function(e){return e.icon})
return i.createElement(h,n({style:P},k,M),S,i.createElement(h,{style:w},i.createElement(f,{icons:_,focused:x})),C)}var N={role:"button",ariaLabel:t}
return i.createElement(h,n({style:P},k,N),S,i.createElement(h,{style:w},i.createElement(d,{icon:l,focused:x})),C)}})
var A=4
var D=0
var L=p.create({buttonBase:{"-webkit-box-flex":"1",flex:1,cursor:"pointer",userSelect:"none",justifyContent:"center",alignItems:"center",borderColor:P,borderStyle:E,boxSizing:"border-box"},decalInset:{top:A,right:A},echo:{borderColor:"transparent"},value:{backgroundColor:k},operator:{backgroundColor:S},control:{backgroundColor:C},empty:{backgroundColor:M,cursor:"default"},bright:{backgroundColor:x},light:{backgroundColor:"rgba(33, 36, 44, 0.1)"},iconWrapper:{zIndex:D+1},focusBox:{position:"absolute",zIndex:D,left:A,right:A,bottom:A,top:A,borderRadius:1},disabled:{opacity:.3},leftBorder:{borderLeftWidth:w},bottomBorder:{borderBottomWidth:w}})
var F=function Y(e,t){return p.create({buttonSize:{height:e,width:t,maxWidth:t}}).buttonSize}
var q=function K(e){return e.layout.buttonDimensions}
e.exports=s(q)(O)},function(e,t,r){"use strict"
var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]
for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}
var i=r(12)
var a=r(178),o=a.connect
var s=r(15),l=s.StyleSheet
var p=r(151),u=p.View
var c=r(169),h=c.row
var d=r(126),f=d.childrenPropType
var v=r(146),m=v.innerBorderColor,g=v.innerBorderStyle,y=v.innerBorderWidthPx
var b=i.createClass({displayName:"ViewPager",propTypes:{animateToPosition:i.PropTypes.bool,children:f,pageWidthPx:i.PropTypes.number.isRequired,translateX:i.PropTypes.number.isRequired},getInitialState:function P(){return{animationDurationMs:0}},componentWillReceiveProps:function E(e){var t=void 0
if(e.animateToPosition){var r=e.translateX
var n=this.props.translateX
t=Math.abs(r-n)}else t=0
this.setState({animationDurationMs:t})},render:function w(){var e=this.props,t=e.children,r=e.pageWidthPx,a=e.translateX
var o=this.state.animationDurationMs
var s=[h,T.twoPagePager]
var l={msTransform:"translate3d("+a+"px, 0, 0)",WebkitTransform:"translate3d("+a+"px, 0, 0)",transform:"translate3d("+a+"px, 0, 0)"}
var p=o?{msTransitionProperty:"transform",WebkitTransitionProperty:"transform",transitionProperty:"transform",msTransitionDuration:o+"ms",WebkitTransitionDuration:o+"ms",transitionDuration:o+"ms",msTransitionTimingFunction:"ease-out",WebkitTransitionTimingFunction:"ease-out",transitionTimingFunction:"ease-out"}:{}
var c=n({},l,p)
var d={width:r}
return i.createElement(u,{style:s,dynamicStyle:c},i.createElement(u,{dynamicStyle:d},t[0]),i.createElement(u,{style:T.rightPage,dynamicStyle:d},t[1]))}})
var T=l.create({twoPagePager:{alignSelf:"flex-start",maxWidth:"250%"},rightPage:{borderLeft:y+"px "+g+" "+m,boxSizing:"content-box"}})
var x=function k(e){var t=e.pager,r=t.animateToPosition,n=t.currentPage,i=t.dx,a=t.pageWidthPx
return{animateToPosition:r,pageWidthPx:a,translateX:-n*(a+y)+i}}
e.exports=o(x)(b)},function(e,t,r){"use strict"
var n=r(12)
var i=r(15),a=i.StyleSheet
var o=r(151),s=o.View
var l=r(146),p=l.pageIndicatorHeightPx,u=l.gray68,c=l.gray85
var h=n.createClass({displayName:"PagerIcon",propTypes:{active:n.PropTypes.bool,radiusPx:n.PropTypes.number},getDefaultProps:function v(){return{active:false,radiusPx:4}},render:function m(){var e=this.props,t=e.active,r=e.radiusPx
var i=t?u:c
return n.createElement("svg",{width:2*r,height:2*r},n.createElement("circle",{cx:r,cy:r,r:r,fill:i}))}})
var d=n.createClass({displayName:"PagerIndicator",propTypes:{currentPage:n.PropTypes.number.isRequired,numPages:n.PropTypes.number.isRequired},render:function g(){var e=this.props,t=e.currentPage,r=e.numPages
var i=4
var a=[]
for(var o=0;o<r;o++)a.push(n.createElement(h,{key:o,active:o===t,radiusPx:i}))
var l=2*i*r
var p=2*i*(r-1)
var u={width:l+p}
return n.createElement(s,{style:f.indicatorStrip},n.createElement(s,{style:f.iconStrip,dynamicStyle:u},a))}})
var f=a.create({indicatorStrip:{backgroundColor:"#F0F1F2",flexDirection:"row",justifyContent:"center",alignItems:"center",height:p},iconStrip:{flexDirection:"row",justifyContent:"space-between"}})
e.exports=d},function(e,t,r){"use strict"
var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]
for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}
function i(e,t){var r={}
for(var n in e){if(t.indexOf(n)>=0)continue
if(!Object.prototype.hasOwnProperty.call(e,n))continue
r[n]=e[n]}return r}var a=r(12)
var o=r(178),s=o.connect
var l=r(174)
var p=r(150)
var u=r(189)
var c=a.createClass({displayName:"EmptyKeypadButton",propTypes:{gestureManager:a.PropTypes.instanceOf(l)},render:function d(){var e=this.props,t=e.gestureManager,r=i(e,["gestureManager"])
return a.createElement(u,n({onTouchStart:function o(e){return t.onTouchStart(e)},onTouchEnd:function s(e){return t.onTouchEnd(e)},onTouchMove:function l(e){return t.onTouchMove(e)},onTouchCancel:function c(e){return t.onTouchCancel(e)}},p.NOOP,r))}})
var h=function f(e){var t=e.gestures
return{gestureManager:t.gestureManager}}
e.exports=s(h)(c)},function(e,t,r){"use strict"
var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]
for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}
var i=r(12)
var a=r(206)
var o=r(189)
var s=r(150)
var l=r(116),p=l.KeyTypes,u=l.EchoAnimationTypes
var c=r(126),h=c.echoPropType,d=c.bordersPropType,f=c.boundingBoxPropType,v=c.keyIdPropType
var m=r(168)
var g=i.createClass({displayName:"Echo",propTypes:{animationDurationMs:i.PropTypes.number.isRequired,borders:d,id:v.isRequired,initialBounds:f.isRequired,onAnimationFinish:i.PropTypes.func.isRequired},componentDidMount:function b(){var e=this.props,t=e.animationDurationMs,r=e.onAnimationFinish
setTimeout(function(){return r()},t)},render:function T(){var e=this.props,t=e.borders,r=e.id,a=e.initialBounds
var l=s[r].icon
var u=n({zIndex:m.echo,position:"absolute",pointerEvents:"none"},a)
return i.createElement("div",{style:u},i.createElement(o,{name:r,icon:l,type:p.ECHO,borders:t}))}})
var y=i.createClass({displayName:"EchoManager",propTypes:{echoes:i.PropTypes.arrayOf(h),onAnimationFinish:i.PropTypes.func.isRequired},_animationConfigForType:function x(e){var t=void 0
var r=void 0
switch(e){case u.SLIDE_AND_FADE:t=400
r="echo-slide-and-fade"
break
case u.FADE_ONLY:t=300
r="echo-fade-only"
break
case u.LONG_FADE_ONLY:t=400
r="echo-long-fade-only"
break
default:throw new Error("Invalid echo animation type:",e)}return{animationDurationMs:t,animationTransitionName:r}},render:function P(){var e=this
var t=this.props,r=t.echoes,o=t.onAnimationFinish
return i.createElement("span",null,Object.keys(u).map(function(t){var s=e._animationConfigForType(t),l=s.animationDurationMs,p=s.animationTransitionName
var u=r.filter(function(e){return e.animationType===t})
return i.createElement(a,{transitionName:p,transitionEnter:true,transitionLeave:false,transitionEnterTimeout:l,key:t},u.map(function(e){var t=e.animationId
return i.createElement(g,n({key:t,animationDurationMs:l,onAnimationFinish:function r(){return o(t)}},e))}))}))}})
e.exports=y},function(e,t,r){"use strict"
var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]
for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}
var i=r(12)
var a=r(206)
var o=r(150)
var s=r(210)
var l=r(126),p=l.boundingBoxPropType,u=l.keyConfigPropType,c=l.popoverPropType
var h="popover"
var d=200
var f=i.createClass({displayName:"PopoverContainer",propTypes:{bounds:p.isRequired,childKeys:i.PropTypes.arrayOf(u).isRequired},render:function m(){var e=this.props,t=e.bounds,r=e.childKeys
var a=n({position:"absolute"},t)
return i.createElement("div",{style:a},i.createElement(s,{keys:r}))}})
var v=i.createClass({displayName:"PopoverManager",propTypes:{popover:c},render:function g(){var e=this.props.popover
return i.createElement(a,{transitionName:h,transitionEnter:true,transitionLeave:false,transitionEnterTimeout:d},e&&i.createElement(f,{key:e.childKeyIds[0],bounds:e.bounds,childKeys:e.childKeyIds.map(function(e){return o[e]})}))}})
e.exports=v},function(e,t,r){"use strict"
var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}
t.__esModule=true
t.ActionTypes=void 0
t["default"]=u
var i=r(212)
var a=l(i)
var o=r(217)
var s=l(o)
function l(e){return e&&e.__esModule?e:{"default":e}}var p=t.ActionTypes={INIT:"@@redux/INIT"}
function u(e,t,r){var i
if("function"===typeof t&&"undefined"===typeof r){r=t
t=void 0}if("undefined"!==typeof r){if("function"!==typeof r)throw new Error("Expected the enhancer to be a function.")
return r(u)(e,t)}if("function"!==typeof e)throw new Error("Expected the reducer to be a function.")
var o=e
var l=t
var c=[]
var h=c
var d=false
function f(){h===c&&(h=c.slice())}function v(){return l}function m(e){if("function"!==typeof e)throw new Error("Expected listener to be a function.")
var t=true
f()
h.push(e)
return function r(){if(!t)return
t=false
f()
var r=h.indexOf(e)
h.splice(r,1)}}function g(e){if(!(0,a["default"])(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.")
if("undefined"===typeof e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')
if(d)throw new Error("Reducers may not dispatch actions.")
try{d=true
l=o(l,e)}finally{d=false}var t=c=h
for(var r=0;r<t.length;r++)t[r]()
return e}function y(e){if("function"!==typeof e)throw new Error("Expected the nextReducer to be a function.")
o=e
g({type:p.INIT})}function b(){var e
var t=m
return e={subscribe:function r(e){if("object"!==("undefined"===typeof e?"undefined":n(e)))throw new TypeError("Expected the observer to be an object.")
function r(){e.next&&e.next(v())}r()
var i=t(r)
return{unsubscribe:i}}},e[s["default"]]=function(){return this},e}g({type:p.INIT})
return i={dispatch:g,subscribe:m,getState:v,replaceReducer:y},i[s["default"]]=b,i}},function(e,t,r){"use strict"
t.__esModule=true
t["default"]=h
var n=r(195)
var i=r(212)
var a=l(i)
var o=r(201)
var s=l(o)
function l(e){return e&&e.__esModule?e:{"default":e}}function p(e,t){var r=t&&t.type
var n=r&&'"'+r.toString()+'"'||"an action"
return"Given action "+n+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state.'}function u(e,t,r,i){var o=Object.keys(t)
var s=r&&r.type===n.ActionTypes.INIT?"preloadedState argument passed to createStore":"previous state received by the reducer"
if(0===o.length)return"Store does not have a valid reducer. Make sure the argument passed to combineReducers is an object whose values are reducers."
if(!(0,a["default"])(e))return"The "+s+' has unexpected type of "'+{}.toString.call(e).match(/\s([a-z|A-Z]+)/)[1]+'". Expected argument to be an object with the following '+('keys: "'+o.join('", "')+'"')
var l=Object.keys(e).filter(function(e){return!t.hasOwnProperty(e)&&!i[e]})
l.forEach(function(e){i[e]=true})
if(l.length>0)return"Unexpected "+(l.length>1?"keys":"key")+" "+('"'+l.join('", "')+'" found in '+s+". ")+"Expected to find one of the known reducer keys instead: "+('"'+o.join('", "')+'". Unexpected keys will be ignored.')}function c(e){Object.keys(e).forEach(function(t){var r=e[t]
var i=r(void 0,{type:n.ActionTypes.INIT})
if("undefined"===typeof i)throw new Error('Reducer "'+t+'" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined.')
var a="@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")
if("undefined"===typeof r(void 0,{type:a}))throw new Error('Reducer "'+t+'" returned undefined when probed with a random type. '+("Don't try to handle "+n.ActionTypes.INIT+' or other actions in "redux/*" ')+"namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined.")})}function h(e){var t=Object.keys(e)
var r={}
for(var n=0;n<t.length;n++){var i=t[n]
"production"!=="production"&&"undefined"===typeof e[i]&&(0,s["default"])('No reducer provided for key "'+i+'"')
"function"===typeof e[i]&&(r[i]=e[i])}var a=Object.keys(r)
if(false)var o={}
var l
try{c(r)}catch(h){l=h}return function d(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0]
var t=arguments[1]
if(l)throw l
if(false){var n=u(e,r,t,o)
n&&(0,s["default"])(n)}var i=false
var c={}
for(var h=0;h<a.length;h++){var d=a[h]
var f=r[d]
var v=e[d]
var m=f(v,t)
if("undefined"===typeof m){var g=p(d,t)
throw new Error(g)}c[d]=m
i=i||m!==v}return i?c:e}}},function(e,t,r){"use strict"
var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}
t.__esModule=true
t["default"]=a
function i(e,t){return function(){return t(e.apply(void 0,arguments))}}function a(e,t){if("function"===typeof e)return i(e,t)
if("object"!==("undefined"===typeof e?"undefined":n(e))||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":"undefined"===typeof e?"undefined":n(e))+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?')
var r=Object.keys(e)
var a={}
for(var o=0;o<r.length;o++){var s=r[o]
var l=e[s]
"function"===typeof l&&(a[s]=i(l,t))}return a}},function(e,t,r){"use strict"
t.__esModule=true
var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]
for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}
t["default"]=s
var i=r(199)
var a=o(i)
function o(e){return e&&e.__esModule?e:{"default":e}}function s(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r]
return function(e){return function(r,i,o){var s=e(r,i,o)
var l=s.dispatch
var p=[]
var u={getState:s.getState,dispatch:function c(e){return l(e)}}
p=t.map(function(e){return e(u)})
l=a["default"].apply(void 0,p)(s.dispatch)
return n({},s,{dispatch:l})}}}},function(e,t,r){"use strict"
t.__esModule=true
t["default"]=n
function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r]
if(0===t.length)return function(e){return e}
if(1===t.length)return t[0]
var n=t[t.length-1]
var i=t.slice(0,-1)
return function(){return i.reduceRight(function(e,t){return t(e)},n.apply(void 0,arguments))}}},function(e,t,r){(function(t){"use strict";(function(){var r,n,i
if("undefined"!==typeof performance&&null!==performance&&performance.now)e.exports=function(){return performance.now()}
else if("undefined"!==typeof t&&null!==t&&t.hrtime){e.exports=function(){return(r()-i)/1e6}
n=t.hrtime
r=function a(){var e
e=n()
return 1e9*e[0]+e[1]}
i=r()}else if(Date.now){e.exports=function(){return Date.now()-i}
i=Date.now()}else{e.exports=function(){return(new Date).getTime()-i}
i=(new Date).getTime()}}).call(void 0)}).call(t,r(218))},function(e,t,r){"use strict"
t.__esModule=true
t["default"]=n
function n(e){"undefined"!==typeof console&&"function"===typeof console.error&&console.error(e)
try{throw new Error(e)}catch(t){}}},function(e,t,r){"use strict"
t.__esModule=true
var n=r(12)
t["default"]=n.PropTypes.shape({subscribe:n.PropTypes.func.isRequired,dispatch:n.PropTypes.func.isRequired,getState:n.PropTypes.func.isRequired})},function(e,t,r){"use strict"
t.__esModule=true
t["default"]=n
function n(e){"undefined"!==typeof console&&"function"===typeof console.error&&console.error(e)
try{throw new Error(e)}catch(t){}}},function(e,t,r){"use strict"
t.__esModule=true
t["default"]=n
function n(e,t){if(e===t)return true
var r=Object.keys(e)
var n=Object.keys(t)
if(r.length!==n.length)return false
var i=Object.prototype.hasOwnProperty
for(var a=0;a<r.length;a++)if(!i.call(t,r[a])||e[r[a]]!==t[r[a]])return false
return true}},function(e,t,r){"use strict"
t.__esModule=true
t["default"]=i
var n=r(186)
function i(e){return function(t){return(0,n.bindActionCreators)(e,t)}}},function(e,t,r){e.exports=s},function(e,t,r){"use strict"
var n=r(12)
var i=r(93)
var a=r(15),o=a.StyleSheet
var s=r(214)
var l=r(215)
var p=r(216)
var u=r(116),c=u.IconTypes
var h=r(126),d=h.iconPropType
var f=r(146),v=f.gray25
var m="#FFF"
var g=v
var y=n.createClass({displayName:"Icon",propTypes:{focused:n.PropTypes.bool,icon:d.isRequired,style:n.PropTypes.any},mixins:[i],render:function T(){var e=this.props,t=e.focused,r=e.icon,i=e.style
var a=[t?b.focused:b.unfocused].concat(Array.isArray(i)?i:[i])
switch(r.type){case c.MATH:return n.createElement(s,{math:r.data,style:a})
case c.SVG:return n.createElement(l,{name:r.data,color:t?m:g})
case c.TEXT:return n.createElement(p,{character:r.data,style:a})}throw new Error("No icon or symbol provided")}})
var b=o.create({unfocused:{color:g},focused:{color:m}})
e.exports=y},function(e,t,r){"use strict"
var n=r(12)
var i=r(15),a=i.StyleSheet
var o=r(151),s=o.View
var l=r(207)
var p=r(116),u=p.IconTypes
var c=r(126),h=c.iconPropType
var d=r(169),f=d.row,v=d.column,m=d.centered,g=d.fullWidth
var y=r(146),b=y.iconSizeHeightPx,T=y.iconSizeWidthPx
var x=n.createClass({displayName:"MultiSymbolGrid",propTypes:{focused:n.PropTypes.bool,icons:n.PropTypes.arrayOf(h).isRequired},render:function k(){var e=this.props,t=e.focused,r=e.icons
r.forEach(function(e){if(e.type!==u.MATH)throw new Error("Received invalid icon: type="+e.type+", data="+e.data)})
if(1===r.length)return n.createElement(l,{icon:r[0],focused:t})
var i=w.base
var a=[w.base,w.secondary]
if(2===r.length)return n.createElement(s,{style:[f,w.size]},n.createElement(s,{style:[v,m,g,w.middleLeft]},n.createElement(l,{style:i,icon:r[0],focused:t})),n.createElement(s,{style:[v,m,g,w.middleRight]},n.createElement(l,{style:a,icon:r[1],focused:t})))
if(r.length>=3)return n.createElement(s,{style:[v,w.size]},n.createElement(s,{style:f},n.createElement(s,{style:[m,g,w.topLeft]},n.createElement(l,{style:i,icon:r[0],focused:t})),n.createElement(s,{style:[m,g,w.topRight]},n.createElement(l,{style:a,icon:r[1],focused:t}))),n.createElement(s,{style:f},n.createElement(s,{style:[m,g,w.bottomLeft]},n.createElement(l,{style:a,icon:r[2],focused:t})),n.createElement(s,{style:[m,g,w.bottomRight]},r[3]&&n.createElement(l,{style:a,icon:r[3],focused:t}))))
throw new Error("Invalid number of icons:",r.length)}})
var P=2
var E=4
var w=a.create({size:{height:b,width:T},bottomLeft:{marginBottom:P,marginLeft:E},topLeft:{marginTop:P,marginLeft:E},topRight:{marginTop:P,marginRight:E},bottomRight:{marginBottom:P,marginRight:E},middleLeft:{marginLeft:E},middleRight:{marginRight:E},base:{fontSize:18},secondary:{opacity:.3}})
e.exports=x},function(e,t,r){"use strict"
var n=r(12)
var i=r(15),a=i.StyleSheet
var o=r(151),s=o.View
var l=r(146),p=l.gray25
var u=n.createClass({displayName:"CornerDecal",propTypes:{style:n.PropTypes.any},render:function d(){var e=this.props.style
var t=[h.container].concat(Array.isArray(e)?e:[e])
return n.createElement(s,{style:t},n.createElement("svg",{width:c,height:c,viewBox:"4 4 8 8"},n.createElement("path",{fill:p,opacity:"0.3",d:"M5.29289322,5.70710678 L10.2928932,10.7071068 C10.9228581,11.3370716 12,10.8909049 12,10 L12,5 C12,4.44771525 11.5522847,4 11,4 L6,4 C5.10909515,4 4.66292836,5.07714192 5.29289322,5.70710678 Z"})))}})
var c=7
var h=a.create({container:{position:"absolute",top:0,right:0,width:c,height:c}})
e.exports=u},function(e,t,r){"use strict"
var n=r(12)
var i=r(15),a=i.StyleSheet
var o=r(151),s=o.View
var l=r(126),p=l.keyConfigPropType
var u=r(116),c=u.BorderStyles
var h=r(168)
var d=n.createClass({displayName:"MultiSymbolPopover",propTypes:{keys:n.PropTypes.arrayOf(p)},render:function v(){var e=this.props.keys
var t=r(180)
return n.createElement(s,{style:f.container},e.map(function(e){return n.createElement(t,{key:e.id,keyConfig:e,borders:c.NONE})}))}})
var f=a.create({container:{flexDirection:"column-reverse",position:"relative",width:"100%",borderRadius:2,boxShadow:"0 2px 6px rgba(0, 0, 0, 0.3)",zIndex:h.popover},popoverButton:{backgroundColor:"#FFF",borderWidth:0}})
e.exports=d},function(e,t,r){"use strict"
var n={childContextTypes:true,contextTypes:true,defaultProps:true,displayName:true,getDefaultProps:true,mixins:true,propTypes:true,type:true}
var i={name:true,length:true,prototype:true,caller:true,arguments:true,arity:true}
var a="function"===typeof Object.getOwnPropertySymbols
e.exports=function o(e,t,r){if("string"!==typeof t){var o=Object.getOwnPropertyNames(t)
a&&(o=o.concat(Object.getOwnPropertySymbols(t)))
for(var s=0;s<o.length;++s)if(!n[o[s]]&&!i[o[s]]&&(!r||!r[o[s]]))try{e[o[s]]=t[o[s]]}catch(l){}}return e}},function(e,t,r){"use strict"
var n=r(219),i=r(220),a=r(221)
var o="[object Object]"
var s=Function.prototype,l=Object.prototype
var p=s.toString
var u=l.hasOwnProperty
var c=p.call(Object)
function h(e){if(!a(e)||n(e)!=o)return false
var t=i(e)
if(null===t)return true
var r=u.call(t,"constructor")&&t.constructor
return"function"==typeof r&&r instanceof r&&p.call(r)==c}e.exports=h},function(e,t,r){"use strict"
var n=function i(e,t,r,n,a,o,s,l){if(false)throw new Error("invariant requires an error message argument")
if(!e){var p
if(void 0===t)p=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.")
else{var u=[r,n,a,o,s,l]
var c=0
p=new Error(t.replace(/%s/g,function(){return u[c++]}))
p.name="Invariant Violation"}p.framesToPop=1
throw p}}
e.exports=n},function(e,t,r){"use strict"
var n=r(12)
var i=r(13)
var a=r(15),o=a.StyleSheet
var s=r(151),l=s.View
var p=r(169),u=p.row,c=p.centered
var h=r(146),d=h.iconSizeHeightPx,f=h.iconSizeWidthPx
var v=n.createClass({displayName:"MathIcon",propTypes:{math:n.PropTypes.string.isRequired,style:n.PropTypes.any},componentDidMount:function g(){this._renderMath()},componentDidUpdate:function y(e){e.math!==this.props.math&&this._renderMath()},_renderMath:function b(){var e=this.props.math
window.katex.render(e,i.findDOMNode(this))},render:function T(){var e=this.props.style
var t=[u,c,m.size,m.base].concat(Array.isArray(e)?e:[e])
return n.createElement(l,{style:t})}})
var m=o.create({size:{height:d,width:f},base:{fontSize:25}})
e.exports=v},function(e,t,r){"use strict"
var n=r(12)
var i=r(13)
var a=r(222)
var o=n.createClass({displayName:"SvgIcon",propTypes:{color:n.PropTypes.string.isRequired,name:n.PropTypes.string.isRequired},componentDidMount:function s(){this._addFillRule()},componentDidUpdate:function l(e){e.name!==this.props.name&&this._addFillRule()},_addFillRule:function p(){var e=i.findDOMNode(this)
if(e instanceof SVGElement){var t=e.querySelector("g")
t.setAttributeNS(null,"fill-rule","evenodd")}},render:function u(){var e=this.props,t=e.color,r=e.name
var i=a[r]
return n.createElement(i,{color:t})}})
e.exports=o},function(e,t,r){"use strict"
var n=r(12)
var i=r(15),a=i.StyleSheet
var o=r(151),s=o.View,l=o.Text
var p=r(169),u=p.row,c=p.centered
var h=r(146),d=h.iconSizeHeightPx,f=h.iconSizeWidthPx
var v=n.createClass({displayName:"TextIcon",propTypes:{character:n.PropTypes.string.isRequired,style:n.PropTypes.any},render:function g(){var e=this.props,t=e.character,r=e.style
var i=[u,c,m.size,m.base].concat(Array.isArray(r)?r:[r])
return n.createElement(s,{style:i},n.createElement(l,null,t))}})
var m=a.create({size:{height:d,width:f},base:{fontFamily:"Proxima Nova",fontSize:25}})
e.exports=v},function(e,t,r){"use strict"
e.exports=r(223)},function(e,t,r){var n=e.exports={}
var i=[]
var a=false
function o(){if(a){return}a=true
var e
var t=i.length
while(t){e=i
i=[]
var r=-1
while(++r<t){e[r]()}t=i.length}a=false}n.nextTick=function(e){i.push(e)
if(!a){setTimeout(o,0)}}
n.title="browser"
n.browser=true
n.env={}
n.argv=[]
n.version=""
n.versions={}
function s(){}n.on=s
n.addListener=s
n.once=s
n.off=s
n.removeListener=s
n.removeAllListeners=s
n.emit=s
n.binding=function(e){throw new Error("process.binding is not supported")}
n.cwd=function(){return"/"}
n.chdir=function(e){throw new Error("process.chdir is not supported")}
n.umask=function(){return 0}},function(e,t,r){"use strict"
var n=r(224),i=r(225),a=r(226)
var o="[object Null]",s="[object Undefined]"
var l=n?n.toStringTag:void 0
function p(e){if(null==e)return void 0===e?s:o
e=Object(e)
return l&&l in e?i(e):a(e)}e.exports=p},function(e,t,r){"use strict"
var n=r(227)
var i=n(Object.getPrototypeOf,Object)
e.exports=i},function(e,t,r){"use strict"
var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}
function i(e){return null!=e&&"object"==("undefined"===typeof e?"undefined":n(e))}e.exports=i},function(e,t,r){"use strict"
e.exports={COS:r(228),LOG:r(229),EQUAL:r(230),BACKSPACE:r(231),SQRT:r(232),EXP:r(233),NEQ:r(234),GEQ:r(235),LN:r(236),DISMISS:r(237),SIN:r(238),LT:r(239),CUBE_ROOT:r(240),PLUS:r(241),TAN:r(242),LEFT:r(243),UP:r(244),DOWN:r(245),LEFT_PAREN:r(246),RIGHT_PAREN:r(247),GT:r(248),DIVIDE:r(249),PERIOD:r(250),PERCENT:r(251),TIMES:r(252),EXP_3:r(253),EXP_2:r(254),RIGHT:r(255),CDOT:r(256),LOG_N:r(257),LEQ:r(258),MINUS:r(259),NEGATIVE:r(259),RADICAL:r(260),FRAC_INCLUSIVE:r(261),FRAC_EXCLUSIVE:r(262),JUMP_OUT_PARENTHESES:r(263),JUMP_OUT_EXPONENT:r(264),JUMP_OUT_BASE:r(265),JUMP_INTO_NUMERATOR:r(266),JUMP_OUT_NUMERATOR:r(267),JUMP_OUT_DENOMINATOR:r(268)}},function(e,t,r){(function(e,n){"use strict"
Object.defineProperty(t,"__esModule",{value:true})
var i=r(269)
var a=o(i)
function o(e){return e&&e.__esModule?e:{"default":e}}var s
s="undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof e?e:true?n:Function("return this")()
var l=(0,a["default"])(s)
t["default"]=l}).call(t,function(){return this}(),r(272)(e))},function(e,t,r){"use strict"
var n=r(270)
var i=n.Symbol
e.exports=i},function(e,t,r){"use strict"
var n=r(224)
var i=Object.prototype
var a=i.hasOwnProperty
var o=i.toString
var s=n?n.toStringTag:void 0
function l(e){var t=a.call(e,s),r=e[s]
try{e[s]=void 0
var n=true}catch(i){}var l=o.call(e)
n&&(t?e[s]=r:delete e[s])
return l}e.exports=l},function(e,t,r){"use strict"
var n=Object.prototype
var i=n.toString
function a(e){return i.call(e)}e.exports=a},function(e,t,r){"use strict"
function n(e,t){return function(r){return e(t(r))}}e.exports=n},function(e,t,r){"use strict"
var n=r(12)
var i=n.createClass({displayName:"Cos",propTypes:{color:n.PropTypes.string.isRequired},render:function a(){return n.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),n.createElement("path",{fill:"none",d:"M13 12h24v24H13z"}),n.createElement("path",{d:"M18.182 29.168c1.386 0 2.226-.602 2.674-1.232l-1.162-1.078a1.707 1.707 0 0 1-1.428.728c-1.078 0-1.834-.798-1.834-1.974s.756-1.96 1.834-1.96c.616 0 1.106.252 1.428.728l1.162-1.092c-.448-.616-1.288-1.218-2.674-1.218-2.086 0-3.584 1.47-3.584 3.542 0 2.086 1.498 3.556 3.584 3.556zm6.972 0c2.24 0 3.584-1.624 3.584-3.556 0-1.918-1.344-3.542-3.584-3.542-2.226 0-3.57 1.624-3.57 3.542 0 1.932 1.344 3.556 3.57 3.556zm0-1.582c-1.106 0-1.722-.91-1.722-1.974 0-1.05.616-1.96 1.722-1.96 1.106 0 1.736.91 1.736 1.96 0 1.064-.63 1.974-1.736 1.974zm7.336 1.582c1.876 0 2.926-.938 2.926-2.17 0-2.73-4.004-1.89-4.004-2.898 0-.378.42-.672 1.064-.672.826 0 1.596.35 2.002.784l.714-1.218c-.672-.532-1.582-.924-2.73-.924-1.778 0-2.772.994-2.772 2.128 0 2.66 4.018 1.75 4.018 2.87 0 .42-.364.728-1.134.728-.84 0-1.848-.462-2.338-.924l-.77 1.246c.714.658 1.848 1.05 3.024 1.05z",fill:this.props.color})))}})
e.exports=i},function(e,t,r){"use strict"
var n=r(12)
var i=n.createClass({displayName:"Log",propTypes:{color:n.PropTypes.string.isRequired},render:function a(){return n.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),n.createElement("path",{d:"M16.776 29v-9.338h-1.778V29h1.778zm4.9.168c2.24 0 3.584-1.624 3.584-3.556 0-1.918-1.344-3.542-3.584-3.542-2.226 0-3.57 1.624-3.57 3.542 0 1.932 1.344 3.556 3.57 3.556zm0-1.582c-1.106 0-1.722-.91-1.722-1.974 0-1.05.616-1.96 1.722-1.96 1.106 0 1.736.91 1.736 1.96 0 1.064-.63 1.974-1.736 1.974zm7.672 4.158c1.666 0 3.654-.63 3.654-3.206v-6.3H31.21v.868c-.546-.686-1.274-1.036-2.086-1.036-1.708 0-2.982 1.232-2.982 3.444 0 2.254 1.288 3.444 2.982 3.444.826 0 1.554-.392 2.086-1.064v.686c0 1.33-1.008 1.708-1.862 1.708-.854 0-1.568-.238-2.114-.84l-.798 1.288c.854.742 1.75 1.008 2.912 1.008zm.336-4.368c-1.008 0-1.708-.7-1.708-1.862 0-1.162.7-1.862 1.708-1.862.588 0 1.232.322 1.526.77v2.184c-.294.434-.938.77-1.526.77z",fill:this.props.color})))}})
e.exports=i},function(e,t,r){"use strict"
var n=r(12)
var i=n.createClass({displayName:"Equal",propTypes:{color:n.PropTypes.string.isRequired},render:function a(){return n.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),n.createElement("path",{fill:"none",d:"M12 12h24v24H12z"}),n.createElement("path",{d:"M16 21h17M16 27h17",stroke:this.props.color,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})))}})
e.exports=i},function(e,t,r){"use strict"
var n=r(12)
var i=function a(){return n.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),n.createElement("path",{d:"M13 24l6 6h14V18H19l-6 6zm-1.414-1.414l6-6A2 2 0 0 1 19 16h14a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H19a2 2 0 0 1-1.414-.586l-6-6a2 2 0 0 1 0-2.828z",fill:"#888D93"}),n.createElement("path",{d:"M23 21l6 6M29 21l-6 6",stroke:"#888D93",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})))}
e.exports=i},function(e,t,r){"use strict"
var n=r(12)
var i=n.createClass({displayName:"Sqrt",propTypes:{color:n.PropTypes.string.isRequired},render:function a(){return n.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),n.createElement("path",{stroke:this.props.color,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",d:"M14 29l4 6 9-14h7"})))}})
e.exports=i},function(e,t,r){"use strict"
var n=r(12)
var i=n.createClass({displayName:"Exp",propTypes:{color:n.PropTypes.string.isRequired},render:function a(){return n.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),n.createElement("path",{d:"M28 16.997c0-.55.453-.997.997-.997h6.006c.55 0 .997.453.997.997v6.006c0 .55-.453.997-.997.997h-6.006c-.55 0-.997-.453-.997-.997v-6.006zM30 18h4v4h-4v-4zM14 21c0-.552.456-1 1.002-1h9.996A1 1 0 0 1 26 21v14c0 .552-.456 1-1.002 1h-9.996A1 1 0 0 1 14 35V21zm2 1h8v12h-8V22z",fill:this.props.color})))}})
e.exports=i},function(e,t,r){"use strict"
var n=r(12)
var i=n.createClass({displayName:"Neq",propTypes:{color:n.PropTypes.string.isRequired},render:function a(){return n.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),n.createElement("path",{fill:"none",d:"M12 12h24v24H12z"}),n.createElement("path",{d:"M19 33l10-18M16 21h17M16 27h17",stroke:this.props.color,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})))}})
e.exports=i},function(e,t,r){"use strict"
var n=r(12)
var i=n.createClass({displayName:"Geq",propTypes:{color:n.PropTypes.string.isRequired},render:function a(){return n.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),n.createElement("path",{fill:"none",d:"M12 12h24v24H12z"}),n.createElement("path",{d:"M16 33h16M16 30l16-6-16-6",stroke:this.props.color,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})))}})
e.exports=i},function(e,t,r){"use strict"
var n=r(12)
var i=n.createClass({displayName:"Ln",propTypes:{color:n.PropTypes.string.isRequired},render:function a(){return n.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),n.createElement("path",{d:"M20.836 29v-9.338h-1.778V29h1.778zm8.106 0v-4.774c0-1.316-.714-2.156-2.198-2.156-1.106 0-1.932.532-2.366 1.05v-.882H22.6V29h1.778v-4.55c.294-.406.84-.798 1.54-.798.756 0 1.246.322 1.246 1.26V29h1.778z",fill:this.props.color})))}})
e.exports=i},function(e,t,r){"use strict"
var n=r(12)
var i=function a(){return n.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),n.createElement("path",{d:"M18 21l6 6 6-6",strokeLinecap:"round",strokeWidth:"2",stroke:"#71B307",strokeLinejoin:"round"})))}
e.exports=i},function(e,t,r){"use strict"
var n=r(12)
var i=n.createClass({displayName:"Sin",propTypes:{color:n.PropTypes.string.isRequired},render:function a(){return n.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),n.createElement("path",{fill:"none",d:"M12 12h24v24H12z"}),n.createElement("path",{d:"M18.655 29.168c1.876 0 2.926-.938 2.926-2.17 0-2.73-4.004-1.89-4.004-2.898 0-.378.42-.672 1.064-.672.826 0 1.596.35 2.002.784l.714-1.218c-.672-.532-1.582-.924-2.73-.924-1.778 0-2.772.994-2.772 2.128 0 2.66 4.018 1.75 4.018 2.87 0 .42-.364.728-1.134.728-.84 0-1.848-.462-2.338-.924l-.77 1.246c.714.658 1.848 1.05 3.024 1.05zm5.124-7.658c.588 0 1.064-.476 1.064-1.064 0-.588-.476-1.05-1.064-1.05a1.06 1.06 0 0 0-1.064 1.05c0 .588.49 1.064 1.064 1.064zm.896 7.49v-6.762h-1.778V29h1.778zm8.106 0v-4.774c0-1.316-.714-2.156-2.198-2.156-1.106 0-1.932.532-2.366 1.05v-.882h-1.778V29h1.778v-4.55c.294-.406.84-.798 1.54-.798.756 0 1.246.322 1.246 1.26V29h1.778z",fill:this.props.color})))}})
e.exports=i},function(e,t,r){"use strict"
var n=r(12)
var i=n.createClass({displayName:"Lt",propTypes:{color:n.PropTypes.string.isRequired},render:function a(){return n.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),n.createElement("path",{fill:"none",d:"M12 12h24v24H12z"}),n.createElement("path",{stroke:this.props.color,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",d:"M32 30l-16-6 16-6"})))}})
e.exports=i},function(e,t,r){"use strict"
var n=r(12)
var i=n.createClass({displayName:"CubeRoot",propTypes:{color:n.PropTypes.string.isRequired},render:function a(){return n.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),n.createElement("path",{d:"M17.91 23.12c1.66 0 2.76-.81 2.76-1.98 0-.96-.86-1.51-1.57-1.58.79-.13 1.46-.72 1.46-1.5 0-1.1-.95-1.83-2.65-1.83-1.23 0-2.11.45-2.67 1.08l.83 1.08c.47-.42 1.05-.64 1.66-.64.64 0 1.12.19 1.12.61 0 .35-.39.52-1.08.52-.25 0-.77 0-.9-.01v1.53c.1-.01.61-.01.9-.01.91 0 1.19.18 1.19.56 0 .37-.38.65-1.12.65-.58 0-1.34-.23-1.82-.7l-.87 1.17c.52.6 1.48 1.05 2.76 1.05z",fill:this.props.color}),n.createElement("path",{stroke:this.props.color,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",d:"M14 29l4 6 9-14h7"})))}})
e.exports=i},function(e,t,r){"use strict"
var n=r(12)
var i=n.createClass({displayName:"Plus",propTypes:{color:n.PropTypes.string.isRequired},render:function a(){return n.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),n.createElement("path",{d:"M19 24h10M24 29V19",stroke:this.props.color,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})))}})
e.exports=i},function(e,t,r){"use strict"
var n=r(12)
var i=n.createClass({displayName:"Tan",propTypes:{color:n.PropTypes.string.isRequired},render:function a(){return n.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),n.createElement("path",{fill:"none",d:"M12 12h24v24H12z"}),n.createElement("path",{d:"M16.93 29.168c.742 0 1.218-.196 1.484-.434l-.378-1.344c-.098.098-.35.196-.616.196-.392 0-.616-.322-.616-.742v-3.052h1.372v-1.554h-1.372V20.39h-1.792v1.848h-1.12v1.554h1.12v3.528c0 1.204.672 1.848 1.918 1.848zM25.232 29v-4.368c0-1.946-1.414-2.562-2.954-2.562-1.064 0-2.128.336-2.954 1.064l.672 1.19c.574-.532 1.246-.798 1.974-.798.896 0 1.484.448 1.484 1.134v.91c-.448-.532-1.246-.826-2.142-.826-1.078 0-2.352.602-2.352 2.184 0 1.512 1.274 2.24 2.352 2.24.882 0 1.68-.322 2.142-.868v.7h1.778zm-3.206-1.036c-.7 0-1.274-.364-1.274-.994 0-.658.574-1.022 1.274-1.022.574 0 1.134.196 1.428.588v.84c-.294.392-.854.588-1.428.588zM33.338 29v-4.774c0-1.316-.714-2.156-2.198-2.156-1.106 0-1.932.532-2.366 1.05v-.882h-1.778V29h1.778v-4.55c.294-.406.84-.798 1.54-.798.756 0 1.246.322 1.246 1.26V29h1.778z",fill:this.props.color})))}})
e.exports=i},function(e,t,r){"use strict"
var n=r(12)
var i=r(271)
var a=function o(){return n.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},n.createElement(i,null))}
e.exports=a},function(e,t,r){"use strict"
var n=r(12)
var i=r(271)
var a=function o(){return n.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},n.createElement(i,{transform:"rotate(90 24 24)"}))}
e.exports=a},function(e,t,r){"use strict"
var n=r(12)
var i=r(271)
var a=function o(){return n.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},n.createElement(i,{transform:"rotate(270 24 24)"}))}
e.exports=a},function(e,t,r){"use strict"
var n=r(12)
var i=n.createClass({displayName:"LeftParen",propTypes:{color:n.PropTypes.string.isRequired},render:function a(){return n.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),n.createElement("path",{fill:"none",d:"M12 12h24v24H12z"}),n.createElement("path",{d:"M26 14c-4 6-4 14 0 20",stroke:this.props.color,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})))}})
e.exports=i},function(e,t,r){"use strict"
var n=r(12)
var i=n.createClass({displayName:"RightParen",propTypes:{color:n.PropTypes.string.isRequired},render:function a(){return n.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),n.createElement("path",{fill:"none",d:"M12 12h24v24H12z"}),n.createElement("path",{d:"M23 14c4 6 4 14 0 20",stroke:this.props.color,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})))}})
e.exports=i},function(e,t,r){"use strict"
var n=r(12)
var i=n.createClass({displayName:"Gt",propTypes:{color:n.PropTypes.string.isRequired},render:function a(){return n.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),n.createElement("path",{fill:"none",d:"M12 12h24v24H12z"}),n.createElement("path",{stroke:this.props.color,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",d:"M16 30l16-6-16-6"})))}})
e.exports=i},function(e,t,r){"use strict"
var n=r(12)
var i=n.createClass({displayName:"Divide",propTypes:{color:n.PropTypes.string.isRequired},render:function a(){return n.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),n.createElement("path",{d:"M19 24h10",stroke:this.props.color,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),n.createElement("circle",{fill:this.props.color,cx:"24",cy:"19.5",r:"1.5"}),n.createElement("circle",{fill:this.props.color,cx:"24",cy:"28.5",r:"1.5"})))}})
e.exports=i},function(e,t,r){"use strict"
var n=r(12)
var i=n.createClass({displayName:"Period",propTypes:{color:n.PropTypes.string.isRequired},render:function a(){return n.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),n.createElement("circle",{fill:this.props.color,cx:"24",cy:"30",r:"2"})))}})
e.exports=i},function(e,t,r){"use strict"
var n=r(12)
var i=n.createClass({displayName:"Percent",propTypes:{color:n.PropTypes.string.isRequired},render:function a(){return n.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),n.createElement("g",{transform:"translate(12 12)"},n.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),n.createElement("path",{d:"M16 4L8 20",stroke:this.props.color,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),n.createElement("circle",{stroke:this.props.color,strokeWidth:"2",cx:"7",cy:"7",r:"3"}),n.createElement("circle",{stroke:this.props.color,strokeWidth:"2",cx:"17",cy:"17",r:"3"}))))}})
e.exports=i},function(e,t,r){"use strict"
var n=r(12)
var i=n.createClass({displayName:"Times",propTypes:{color:n.PropTypes.string.isRequired},render:function a(){return n.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),n.createElement("path",{fill:"none",d:"M12 12h24v24H12z"}),n.createElement("path",{d:"M20 20l8 8M28 20l-8 8",stroke:this.props.color,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})))}})
e.exports=i},function(e,t,r){"use strict"
var n=r(12)
var i=n.createClass({displayName:"Exp3",propTypes:{color:n.PropTypes.string.isRequired},render:function a(){return n.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),n.createElement("path",{d:"M14 21c0-.552.456-1 1.002-1h9.996A1 1 0 0 1 26 21v14c0 .552-.456 1-1.002 1h-9.996A1 1 0 0 1 14 35V21zm2 1h8v12h-8V22zM30.92 23.12c1.66 0 2.76-.81 2.76-1.98 0-.96-.86-1.51-1.57-1.58.79-.13 1.46-.72 1.46-1.5 0-1.1-.95-1.83-2.65-1.83-1.23 0-2.11.45-2.67 1.08l.83 1.08c.47-.42 1.05-.64 1.66-.64.64 0 1.12.19 1.12.61 0 .35-.39.52-1.08.52-.25 0-.77 0-.9-.01v1.53c.1-.01.61-.01.9-.01.91 0 1.19.18 1.19.56 0 .37-.38.65-1.12.65-.58 0-1.34-.23-1.82-.7l-.87 1.17c.52.6 1.48 1.05 2.76 1.05z",fill:this.props.color})))}})
e.exports=i},function(e,t,r){"use strict"
var n=r(12)
var i=n.createClass({displayName:"Exp2",propTypes:{color:n.PropTypes.string.isRequired},render:function a(){return n.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),n.createElement("path",{d:"M14 21c0-.552.456-1 1.002-1h9.996A1 1 0 0 1 26 21v14c0 .552-.456 1-1.002 1h-9.996A1 1 0 0 1 14 35V21zm2 1h8v12h-8V22zM33.67 23v-1.5h-2.44c1.66-1.16 2.39-2.03 2.39-3.05 0-1.34-1.13-2.22-2.7-2.22-.93 0-1.99.33-2.7 1.11l.95 1.14c.48-.45 1.04-.73 1.78-.73.49 0 .92.24.92.7 0 .66-.54 1.12-3.43 3.21V23h5.23z",fill:this.props.color})))}})
e.exports=i},function(e,t,r){"use strict"
var n=r(12)
var i=r(271)
var a=function o(){return n.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},n.createElement(i,{transform:"rotate(180 24 24)"}))}
e.exports=a},function(e,t,r){"use strict"
var n=r(12)
var i=n.createClass({displayName:"Cdot",propTypes:{color:n.PropTypes.string.isRequired},render:function a(){return n.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),n.createElement("g",{transform:"translate(12 12)"},n.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),n.createElement("circle",{fill:this.props.color,cx:"12",cy:"12",r:"3"}))))}})
e.exports=i},function(e,t,r){"use strict"
var n=r(12)
var i=n.createClass({displayName:"LogN",propTypes:{color:n.PropTypes.string.isRequired},render:function a(){return n.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),n.createElement("path",{d:"M30 28.997c0-.55.453-.997.997-.997h6.006c.55 0 .997.453.997.997v6.006c0 .55-.453.997-.997.997h-6.006c-.55 0-.997-.453-.997-.997v-6.006zM32 30h4v4h-4v-4zM12.776 29v-9.338h-1.778V29h1.778zm4.9.168c2.24 0 3.584-1.624 3.584-3.556 0-1.918-1.344-3.542-3.584-3.542-2.226 0-3.57 1.624-3.57 3.542 0 1.932 1.344 3.556 3.57 3.556zm0-1.582c-1.106 0-1.722-.91-1.722-1.974 0-1.05.616-1.96 1.722-1.96 1.106 0 1.736.91 1.736 1.96 0 1.064-.63 1.974-1.736 1.974zm7.672 4.158c1.666 0 3.654-.63 3.654-3.206v-6.3H27.21v.868c-.546-.686-1.274-1.036-2.086-1.036-1.708 0-2.982 1.232-2.982 3.444 0 2.254 1.288 3.444 2.982 3.444.826 0 1.554-.392 2.086-1.064v.686c0 1.33-1.008 1.708-1.862 1.708-.854 0-1.568-.238-2.114-.84l-.798 1.288c.854.742 1.75 1.008 2.912 1.008zm.336-4.368c-1.008 0-1.708-.7-1.708-1.862 0-1.162.7-1.862 1.708-1.862.588 0 1.232.322 1.526.77v2.184c-.294.434-.938.77-1.526.77z",fill:this.props.color})))}})
e.exports=i},function(e,t,r){"use strict"
var n=r(12)
var i=n.createClass({displayName:"Leq",propTypes:{color:n.PropTypes.string.isRequired},render:function a(){return n.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),n.createElement("path",{fill:"none",d:"M12 12h24v24H12z"}),n.createElement("path",{d:"M16 33h16M32 30l-16-6 16-6",stroke:this.props.color,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})))}})
e.exports=i},function(e,t,r){"use strict"
var n=r(12)
var i=n.createClass({displayName:"Minus",propTypes:{color:n.PropTypes.string.isRequired},render:function a(){return n.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),n.createElement("path",{d:"M19 24h10",stroke:this.props.color,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})))}})
e.exports=i},function(e,t,r){"use strict"
var n=r(12)
var i=n.createClass({displayName:"Radical",propTypes:{color:n.PropTypes.string.isRequired},render:function a(){return n.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),n.createElement("path",{d:"M13 16.997c0-.55.453-.997.997-.997h6.006c.55 0 .997.453.997.997v6.006c0 .55-.453.997-.997.997h-6.006c-.55 0-.997-.453-.997-.997v-6.006zM15 18h4v4h-4v-4z",fill:this.props.color}),n.createElement("path",{stroke:this.props.color,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",d:"M14 29l4 6 9-14h7"})))}})
e.exports=i},function(e,t,r){"use strict"
var n=r(12)
var i=n.createClass({displayName:"FracInclusive",propTypes:{color:n.PropTypes.string.isRequired},render:function a(){return n.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),n.createElement("g",{transform:"translate(12 12)"},n.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),n.createElement("path",{d:"M8 16.997c0-.55.453-.997.997-.997h6.006c.55 0 .997.453.997.997v6.006c0 .55-.453.997-.997.997H8.997c-.55 0-.997-.453-.997-.997v-6.006zM10 18h4v4h-4v-4z",fill:this.props.color}),n.createElement("rect",{fill:this.props.color,x:"2",y:"11",width:"20",height:"2",rx:"1"}),n.createElement("path",{d:"M8 .997C8 .447 8.453 0 8.997 0h6.006c.55 0 .997.453.997.997v6.006c0 .55-.453.997-.997.997H8.997C8.447 8 8 7.547 8 7.003V.997zM10 2h4v4h-4V2z",fill:this.props.color}))))}})
e.exports=i},function(e,t,r){"use strict"
var n=r(12)
var i=n.createClass({displayName:"FracExclusive",propTypes:{color:n.PropTypes.string.isRequired},render:function a(){return n.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),n.createElement("g",{transform:"translate(12 12)"},n.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),n.createElement("path",{d:"M13 16.997c0-.55.453-.997.997-.997h6.006c.55 0 .997.453.997.997v6.006c0 .55-.453.997-.997.997h-6.006c-.55 0-.997-.453-.997-.997v-6.006zM15 18h4v4h-4v-4z",fill:this.props.color}),n.createElement("rect",{fill:this.props.color,x:"10",y:"11",width:"14",height:"2",rx:"1"}),n.createElement("path",{d:"M13 .997c0-.55.453-.997.997-.997h6.006c.55 0 .997.453.997.997v6.006c0 .55-.453.997-.997.997h-6.006c-.55 0-.997-.453-.997-.997V.997zM15 2h4v4h-4V2zM0 8.997C0 8.447.453 8 .997 8h6.006c.55 0 .997.453.997.997v6.006c0 .55-.453.997-.997.997H.997C.447 16 0 15.547 0 15.003V8.997zM2 10h4v4H2v-4z",fill:this.props.color}))))}})
e.exports=i},function(e,t,r){"use strict"
var n=r(12)
var i=function a(){return n.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),n.createElement("path",{fill:"none",d:"M12 12h24v24H12z"}),n.createElement("path",{d:"M24 18c3 3 3 9 0 12M18 18c-3 3-3 9 0 12",stroke:"#888D93",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),n.createElement("path",{stroke:"#78C008",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",d:"M32 27l3-3-3-3M22 24h12"})))}
e.exports=i},function(e,t,r){"use strict"
var n=r(12)
var i=function a(){return n.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),n.createElement("path",{fill:"none",d:"M12 12h24v24H12z"}),n.createElement("path",{d:"M35 19v16M23 19l8 8M31 23v4h-4",stroke:"#78C008",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),n.createElement("path",{d:"M12 12.997c0-.55.453-.997.997-.997h6.006c.55 0 .997.453.997.997v6.006c0 .55-.453.997-.997.997h-6.006c-.55 0-.997-.453-.997-.997v-6.006zM14 14h4v4h-4v-4z",fill:"#888D93"})))}
e.exports=i},function(e,t,r){"use strict"
var n=r(12)
var i=function a(){return n.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),n.createElement("path",{fill:"none",d:"M12 12h24v24H12z"}),n.createElement("path",{d:"M12 28.997c0-.55.453-.997.997-.997h6.006c.55 0 .997.453.997.997v6.006c0 .55-.453.997-.997.997h-6.006c-.55 0-.997-.453-.997-.997v-6.006zM14 30h4v4h-4v-4z",fill:"#888D93"}),n.createElement("path",{d:"M35 13v16M23 29l8-8M27 21h4v4",stroke:"#78C008",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})))}
e.exports=i},function(e,t,r){"use strict"
var n=r(12)
var i=function a(){return n.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),n.createElement("path",{fill:"none",d:"M12 12h24v24H12z"}),n.createElement("path",{d:"M13 16v16M17 22l6-6M23 20v-4h-4",stroke:"#78C008",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),n.createElement("path",{d:"M26 27.997c0-.55.453-.997.997-.997h6.006c.55 0 .997.453.997.997v6.006c0 .55-.453.997-.997.997h-6.006c-.55 0-.997-.453-.997-.997v-6.006zM28 29h4v4h-4v-4z",fill:"#888D93"}),n.createElement("path",{d:"M35 24H25",stroke:"#888D93",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),n.createElement("path",{d:"M26 13.997c0-.55.453-.997.997-.997h6.006c.55 0 .997.453.997.997v6.006c0 .55-.453.997-.997.997h-6.006c-.55 0-.997-.453-.997-.997v-6.006zM28 15h4v4h-4v-4z",fill:"#78C008"})))}
e.exports=i},function(e,t,r){"use strict"
var n=r(12)
var i=function a(){return n.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),n.createElement("path",{fill:"none",d:"M12 12h24v24H12z"}),n.createElement("path",{stroke:"#78C008",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",d:"M33 29l-3 3-3-3M30 18v14"}),n.createElement("path",{d:"M16 27.997c0-.55.453-.997.997-.997h6.006c.55 0 .997.453.997.997v6.006c0 .55-.453.997-.997.997h-6.006c-.55 0-.997-.453-.997-.997v-6.006zM18 29h4v4h-4v-4z",fill:"#78C008"}),n.createElement("path",{d:"M25 24H15",stroke:"#888D93",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),n.createElement("path",{d:"M16 13.997c0-.55.453-.997.997-.997h6.006c.55 0 .997.453.997.997v6.006c0 .55-.453.997-.997.997h-6.006c-.55 0-.997-.453-.997-.997v-6.006zM18 15h4v4h-4v-4z",fill:"#888D93"})))}
e.exports=i},function(e,t,r){"use strict"
var n=r(12)
var i=function a(){return n.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("path",{d:"M0 0h48v48H0z"}),n.createElement("path",{d:"M12 12h24v24H12z"}),n.createElement("path",{d:"M35 16v16m-4-4v-4h-4m-2 6l6-6",stroke:"#78C008",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),n.createElement("path",{d:"M14 27.997c0-.55.453-.997.997-.997h6.006c.55 0 .997.453.997.997v6.006c0 .55-.453.997-.997.997h-6.006c-.55 0-.997-.453-.997-.997v-6.006zM16 29h4v4h-4v-4z",fill:"#888D93"}),n.createElement("path",{d:"M23 24H13",stroke:"#888D93",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),n.createElement("path",{d:"M14 13.997c0-.55.453-.997.997-.997h6.006c.55 0 .997.453.997.997v6.006c0 .55-.453.997-.997.997h-6.006c-.55 0-.997-.453-.997-.997v-6.006zM16 15h4v4h-4v-4z",fill:"#888D93"})))}
e.exports=i},function(e,t,r){"use strict"
Object.defineProperty(t,"__esModule",{value:true})
t["default"]=n
function n(e){var t
var r=e.Symbol
if("function"===typeof r)if(r.observable)t=r.observable
else{t=r("observable")
r.observable=t}else t="@@observable"
return t}},function(e,t,r){"use strict"
var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}
var i=r(273)
var a="object"==("undefined"===typeof self?"undefined":n(self))&&self&&self.Object===Object&&self
var o=i||a||Function("return this")()
e.exports=o},function(e,t,r){"use strict"
var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]
for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}
var i=r(12)
var a=function o(e){return i.createElement("g",n({fill:"none",fillRule:"evenodd"},e),i.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),i.createElement("path",{fill:"none",d:"M12 12h24v24H12z"}),i.createElement("path",{stroke:"#888D93",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",d:"M22 18l-6 6 6 6M16 24h16"}))}
e.exports=a},function(e,t,r){e.exports=function(e){if(!e.webpackPolyfill){e.deprecate=function(){}
e.paths=[]
e.children=[]
e.webpackPolyfill=1}return e}},function(e,t,r){(function(t){"use strict"
var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}
var n="object"==("undefined"===typeof t?"undefined":r(t))&&t&&t.Object===Object&&t
e.exports=n}).call(t,function(){return this}())}])})

//# sourceMappingURL=perseus-8.min.js.map